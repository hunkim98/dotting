(self.webpackChunkdotting=self.webpackChunkdotting||[]).push([[179],{"./.storybook/preview.js-generated-config-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{__namedExportsOrder:()=>__namedExportsOrder,parameters:()=>parameters});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}},options:{storySort:{order:["Introduction","Components","Hooks"]}}},__namedExportsOrder=["parameters"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return(0,ClientApi.uc)(value);case"argTypes":return(0,ClientApi.v9)(value);case"decorators":return value.forEach((function(decorator){return(0,ClientApi.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,ClientApi.HZ)(loader,!1)}));case"parameters":return(0,ClientApi.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,ClientApi.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,ClientApi._C)(enhancer)}));case"render":return(0,ClientApi.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,ClientApi.h1)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./stories/Dotting.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Dotting:()=>Dotting,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_dotting_dotting_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_src_components_Dotting__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Dotting.tsx");const __WEBPACK_DEFAULT_EXPORT__={title:"Components/Dotting",component:_src_components_Dotting__WEBPACK_IMPORTED_MODULE_1__.Z,parameters:{docs:{description:{component:"A component that allows you to draw pixels on canvas.         You must set the width and height of the canvas if you want to use it.         You can also set the initial data of the canvas.         You can also set the initial brush color if you want to.          The canvas is pan and zoomable by default.            The canvas grids are visible by default.           You can also set the initial indicator data of the canvas."}}},argTypes:{width:{description:"The width of the canvas. When you assign a string to width, it should be a valid CSS length value such as `100%`.",defaultValue:300},height:{description:"The height of the canvas. When you assign a string to height, it should be a valid CSS length value such as `100%`.",defaultValue:300},ref:{description:"The ref object that you would like to connect to the Dotting Canvas.     You must pass the `DottingRef` object as props if you would like to use hooks",control:{disable:!0}},initData:{description:"The initial data that you want to draw on the canvas",control:{disable:!0}},isPanZoomable:{description:"If set to `true` the canvas will be pan and zoomable",defaultValue:!0,table:{defaultValue:{summary:!0}}},isGridVisible:{defaultValue:!0,description:"If set to `true` the grid lines will be visible",table:{defaultValue:{summary:!0}}},isGridFixed:{defaultValue:!1,description:"If set to `true` the grid will not be extendable",table:{defaultValue:{summary:!1}}},initBrushColor:{defaultValue:"#FF0000",control:{disable:!0},description:"The initial brush color for drawing the grid.        You can use `useBrush` hook to change the brush color later.",table:{type:{summary:"string"},defaultValue:{summary:"#FF0000"}}},initIndicatorData:{defaultValue:[],control:{disable:!0},description:"The initial indicator data for the canvas. You can change the indicator data later with `useDotting` hook.",table:{defaultValue:{summary:"[]"}}}}};var Dotting=function Dotting(args){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src_components_Dotting__WEBPACK_IMPORTED_MODULE_1__.Z,{width:args.width,height:args.height,isPanZoomable:args.isPanZoomable,isGridVisible:args.isGridVisible,isGridFixed:args.isGridFixed})};Dotting.parameters=(0,_home_runner_work_dotting_dotting_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({storySource:{source:"(args: DottingProps) => {\n  return (\n    <DottingComponent\n      width={args.width}\n      height={args.height}\n      isPanZoomable={args.isPanZoomable}\n      isGridVisible={args.isGridVisible}\n      isGridFixed={args.isGridFixed}\n    />\n  );\n}"}},Dotting.parameters);var __namedExportsOrder=["Dotting"];try{Dotting.displayName="Dotting",Dotting.__docgenInfo={description:"",displayName:"Dotting",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"string | number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"string | number"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"React.CSSProperties"}},gridStrokeColor:{defaultValue:null,description:"",name:"gridStrokeColor",required:!1,type:{name:"string"}},gridStrokeWidth:{defaultValue:null,description:"",name:"gridStrokeWidth",required:!1,type:{name:"number"}},isGridVisible:{defaultValue:null,description:"",name:"isGridVisible",required:!1,type:{name:"boolean"}},backgroundMode:{defaultValue:null,description:"",name:"backgroundMode",required:!1,type:{name:'"checkerboard" | "color"'}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!1,type:{name:"React.CSSProperties"}},backgroundAlpha:{defaultValue:null,description:"",name:"backgroundAlpha",required:!1,type:{name:"number"}},initData:{defaultValue:null,description:"",name:"initData",required:!1,type:{name:"PixelData[][]"}},initIndicatorData:{defaultValue:null,description:"",name:"initIndicatorData",required:!1,type:{name:"PixelModifyItem[]"}},isPanZoomable:{defaultValue:null,description:"",name:"isPanZoomable",required:!1,type:{name:"boolean"}},isGridFixed:{defaultValue:null,description:"",name:"isGridFixed",required:!1,type:{name:"boolean"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"ForwardedRef<DottingRef>"}},initBrushColor:{defaultValue:null,description:"",name:"initBrushColor",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/Dotting.stories.tsx#Dotting"]={docgenInfo:Dotting.__docgenInfo,name:"Dotting",path:"stories/Dotting.stories.tsx#Dotting"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Canvas/types.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var CanvasEvents,BrushTool;__webpack_require__.d(__webpack_exports__,{G:()=>BrushTool,v:()=>CanvasEvents}),function(CanvasEvents){CanvasEvents.DATA_CHANGE="dataChange",CanvasEvents.GRID_CHANGE="gridChange",CanvasEvents.STROKE_END="strokeEnd",CanvasEvents.BRUSH_CHANGE="brushChange",CanvasEvents.HOVER_PIXEL_CHANGE="hoverPixelChange"}(CanvasEvents||(CanvasEvents={})),function(BrushTool){BrushTool.DOT="DOT",BrushTool.ERASER="ERASER",BrushTool.PAINT_BUCKET="PAINT_BUCKET"}(BrushTool||(BrushTool={}))},"./src/components/Dotting.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>components_Dotting});__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js");var ButtonDirection,objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),createForOfIteratorHelper=(__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js")),classCallCheck=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),inherits=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/inherits.js"),createSuper=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createSuper.js"),DefaultPanZoom={scale:1,offset:{x:0,y:0}},DefaultGridSquareLength=20,DefaultButtonHeight=20;!function(ButtonDirection){ButtonDirection.TOP="TOP",ButtonDirection.BOTTOM="BOTTOM",ButtonDirection.LEFT="LEFT",ButtonDirection.RIGHT="RIGHT"}(ButtonDirection||(ButtonDirection={}));var MouseMode,DefaultPixelDataDimensions={columnCount:8,rowCount:6};!function(MouseMode){MouseMode.PANNING="PANNING",MouseMode.EXTENDING="EXTENDING",MouseMode.DRAWING="DRAWING"}(MouseMode||(MouseMode={}));var DefaultZoomSensitivity=200,DefaultMaxScale=1.5,DefaultMinScale=.3,getGridIndicesFromData=(__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),function getGridIndicesFromData(data){var allRowKeys=Array.from(data.keys()),allColumnKeys=Array.from(data.get(allRowKeys[0]).keys()),currentTopIndex=Math.min.apply(Math,allRowKeys),currentLeftIndex=Math.min.apply(Math,allColumnKeys);return{topRowIndex:currentTopIndex,bottomRowIndex:Math.max.apply(Math,allRowKeys),leftColumnIndex:currentLeftIndex,rightColumnIndex:Math.max.apply(Math,allColumnKeys)}}),getRowKeysFromData=function getRowKeysFromData(data){return Array.from(data.keys())},getColumnKeysFromData=function getColumnKeysFromData(data){var allRowKeys=Array.from(data.keys());return Array.from(data.get(allRowKeys[0]).keys())},getColumnCountFromData=function getColumnCountFromData(data){return 0===data.size?0:data.entries().next().value[1].size},getRowCountFromData=function getRowCountFromData(data){return data.size},extractColoredPixelsFromRow=function extractColoredPixelsFromRow(data,rowIndex){var rowPixelsMap=data.get(rowIndex),pixelModifyItems=[];return Array.from(rowPixelsMap.entries()).forEach((function(columnData){var _columnData=(0,slicedToArray.Z)(columnData,2),key=_columnData[0],pixel=_columnData[1];pixel.color&&pixelModifyItems.push({color:pixel.color,rowIndex,columnIndex:key})})),pixelModifyItems},extractColoredPixelsFromColumn=function extractColoredPixelsFromColumn(data,columnIndex){var pixelModifyItems=[];return Array.from(data.entries()).map((function(rowData){var rowIndex=rowData[0],row=rowData[1];row.get(columnIndex).color&&pixelModifyItems.push({rowIndex,columnIndex,color:row.get(columnIndex).color})})),pixelModifyItems},deleteRowOfData=function deleteRowOfData(data,rowIndex){data.has(rowIndex)&&data.delete(rowIndex)},deleteColumnOfData=function deleteColumnOfData(data,columnIndex){data.forEach((function(row){row.has(columnIndex)&&row.delete(columnIndex)}))},addRowToData=function addRowToData(data,rowIndex){var columnKeys=getColumnKeysFromData(data);if(!data.has(rowIndex)){data.set(rowIndex,new Map);var _step,_iterator=(0,createForOfIteratorHelper.Z)(columnKeys);try{for(_iterator.s();!(_step=_iterator.n()).done;){var i=_step.value;data.get(rowIndex).set(i,{color:""})}}catch(err){_iterator.e(err)}finally{_iterator.f()}}},addColumnToData=function addColumnToData(data,columnIndex){data.forEach((function(row){row.has(columnIndex)||row.set(columnIndex,{color:""})}))},validatePixelArrayData=function validatePixelArrayData(data){var dataRowCount=data.length,columnCount=0,rowCount=dataRowCount,isDataValid=!0;if(dataRowCount<2)isDataValid=!1;else{var dataColumnCount=data[0].length;if(columnCount=dataColumnCount,dataColumnCount<2)isDataValid=!1;else for(var i=0;i<dataRowCount;i++)if(data[i].length!==dataColumnCount){isDataValid=!1;break}}return{isDataValid,columnCount,rowCount}},createRowKeyOrderMapfromData=function createRowKeyOrderMapfromData(data){var sortedRowKeys=getRowKeysFromData(data).sort((function(a,b){return a-b})),rowKeyOrderMap=new Map;return sortedRowKeys.forEach((function(key,index){rowKeyOrderMap.set(key,index)})),rowKeyOrderMap},createColumnKeyOrderMapfromData=function createColumnKeyOrderMapfromData(data){var sortedColumnKeys=getColumnKeysFromData(data).sort((function(a,b){return a-b})),columnKeyOrderMap=new Map;return sortedColumnKeys.forEach((function(key,index){columnKeyOrderMap.set(key,index)})),columnKeyOrderMap},BaseLayer=function(){function BaseLayer(_ref){var canvas=_ref.canvas;(0,classCallCheck.Z)(this,BaseLayer),this.ctx=void 0,this.element=void 0,this.dpr=void 0,this.panZoom=DefaultPanZoom,this.width=void 0,this.height=void 0,this.criterionDataForRendering=void 0,this.rowKeyOrderMap=new Map,this.columnKeyOrderMap=new Map,this.ctx=canvas.getContext("2d"),this.element=canvas}return(0,createClass.Z)(BaseLayer,[{key:"getContext",value:function getContext(){return this.ctx}},{key:"getElement",value:function getElement(){return this.element}},{key:"getRowKeyOrderMap",value:function getRowKeyOrderMap(){return this.rowKeyOrderMap}},{key:"getColumnKeyOrderMap",value:function getColumnKeyOrderMap(){return this.columnKeyOrderMap}},{key:"setPanZoom",value:function setPanZoom(panZoom){this.panZoom=panZoom}},{key:"setCriterionDataForRendering",value:function setCriterionDataForRendering(criterionDataForRendering){this.criterionDataForRendering=criterionDataForRendering,this.rowKeyOrderMap=createRowKeyOrderMapfromData(criterionDataForRendering),this.columnKeyOrderMap=createColumnKeyOrderMapfromData(criterionDataForRendering)}},{key:"scale",value:function scale(x,y){this.ctx.scale(x,y)}},{key:"setWidth",value:function setWidth(width,devicePixelRatio){this.width=width,this.element.width=devicePixelRatio?width*devicePixelRatio:width,this.element.style.width="".concat(width,"px")}},{key:"setHeight",value:function setHeight(height,devicePixelRatio){this.height=height,this.element.height=devicePixelRatio?height*devicePixelRatio:height,this.element.style.height="".concat(height,"px")}},{key:"setDpr",value:function setDpr(dpr){this.dpr=dpr}},{key:"getWidth",value:function getWidth(){return this.width}},{key:"getHeight",value:function getHeight(){return this.height}},{key:"setSize",value:function setSize(width,height,devicePixelRatio){this.setWidth(width,devicePixelRatio),this.setHeight(height,devicePixelRatio),this.dpr=devicePixelRatio||this.dpr}}]),BaseLayer}(),BackgroundLayer=function(_BaseLayer){(0,inherits.Z)(BackgroundLayer,_BaseLayer);var _super=(0,createSuper.Z)(BackgroundLayer);function BackgroundLayer(_ref){var _this,canvas=_ref.canvas;return(0,classCallCheck.Z)(this,BackgroundLayer),(_this=_super.call(this,{canvas})).backgroundMode=void 0,_this.backgroundColor="#c9c9c9",_this.backgroundAlpha=void 0,_this}return(0,createClass.Z)(BackgroundLayer,[{key:"setBackgroundMode",value:function setBackgroundMode(backgroundMode){this.backgroundMode=backgroundMode||"checkerboard"}},{key:"setBackgroundAlpha",value:function setBackgroundAlpha(alpha){void 0===alpha&&(this.backgroundAlpha=.5),this.backgroundAlpha=alpha?alpha>=1?1:alpha<0?0:alpha:.5}},{key:"setBackgroundColor",value:function setBackgroundColor(color){this.backgroundColor=color||"#c9c9c9"}},{key:"render",value:function render(){var ctx=this.ctx;if(ctx.clearRect(0,0,this.width,this.height),ctx.save(),ctx.globalAlpha=this.backgroundAlpha,"color"===this.backgroundMode)ctx.fillStyle=this.backgroundColor,ctx.fillRect(0,0,this.width,this.height);else for(var cellCount={x:this.width/12,y:this.height/12},i=0;i<cellCount.x;i++)for(var j=0;j<cellCount.y;j++){var isEvenCol=j%2==0,color=i%2==0?isEvenCol?"white":this.backgroundColor:isEvenCol?this.backgroundColor:"white";color&&(ctx.fillStyle=color,ctx.fillRect(12*i,12*j,12,12))}ctx.restore()}}]),BackgroundLayer}(BaseLayer),convertCartesianToScreen=(__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),function convertCartesianToScreen(canvas,cartesianCoord,dpr){return{x:cartesianCoord.x+canvas.width/dpr/2,y:cartesianCoord.y+canvas.height/dpr/2}});function diffPoints(p1,p2){return{x:p1.x-p2.x,y:p1.y-p2.y}}function addPoints(p1,p2){return{x:p1.x+p2.x,y:p1.y+p2.y}}function getScreenPoint(point,panZoom){var offset=panZoom.offset,scale=panZoom.scale;return{x:Math.floor(point.x*scale+offset.x),y:Math.floor(point.y*scale+offset.y)}}function getWorldPoint(point,panZoom){var offset=panZoom.offset,scale=panZoom.scale;return{x:(point.x-offset.x)/scale,y:(point.y-offset.y)/scale}}function lerpRanges(value,range1Start,range1End,range2Start,range2End){return range2Start+(range2End-range2Start)*((value-range1Start)/(range1End-range1Start))}var DataLayer=function(_BaseLayer){(0,inherits.Z)(DataLayer,_BaseLayer);var _super=(0,createSuper.Z)(DataLayer);function DataLayer(_ref){var _this,canvas=_ref.canvas,initData=_ref.initData;if((0,classCallCheck.Z)(this,DataLayer),(_this=_super.call(this,{canvas})).swipedPixels=[],_this.data=new Map,_this.gridSquareLength=DefaultGridSquareLength,initData&&validatePixelArrayData(initData).isDataValid)for(var i=0;i<initData.length;i++){_this.data.set(i,new Map);for(var j=0;j<initData[i].length;j++)_this.data.get(i).set(j,{color:initData[i][j].color})}else for(var rowCount=DefaultPixelDataDimensions.rowCount,columnCount=DefaultPixelDataDimensions.columnCount,_i=0;_i<rowCount;_i++){_this.data.set(_i,new Map);for(var _j=0;_j<columnCount;_j++)_this.data.get(_i).set(_j,{color:""})}return _this}return(0,createClass.Z)(DataLayer,[{key:"getColumnCount",value:function getColumnCount(){return getColumnCountFromData(this.data)}},{key:"getRowCount",value:function getRowCount(){return getRowCountFromData(this.data)}},{key:"getGridIndices",value:function getGridIndices(){return getGridIndicesFromData(this.data)}},{key:"getDimensions",value:function getDimensions(){return{columnCount:this.getColumnCount(),rowCount:this.getRowCount()}}},{key:"getData",value:function getData(){return this.data}},{key:"getCopiedData",value:function getCopiedData(){var copiedMap=new Map;return Array.from(this.data.entries()).forEach((function(_ref2){var _ref3=(0,slicedToArray.Z)(_ref2,2),rowIndex=_ref3[0],row=_ref3[1],copiedRow=new Map;Array.from(row.entries()).forEach((function(_ref4){var _ref5=(0,slicedToArray.Z)(_ref4,2),columnIndex=_ref5[0],pixelData=_ref5[1];copiedRow.set(columnIndex,(0,objectSpread2.Z)({},pixelData))})),copiedMap.set(rowIndex,copiedRow)})),copiedMap}},{key:"getSwipedPixels",value:function getSwipedPixels(){return this.swipedPixels}},{key:"resetSwipedPixels",value:function resetSwipedPixels(){this.swipedPixels=[]}},{key:"setData",value:function setData(data){this.data=data}},{key:"shortenGridBy",value:function shortenGridBy(direction,amount,startIndex){for(var shouldIncreaseIndex=direction===ButtonDirection.TOP||direction===ButtonDirection.LEFT,i=0;i<amount;i++){var index=startIndex+(shouldIncreaseIndex?i:-i);this.shortenGrid(direction,index)}}},{key:"shortenGrid",value:function shortenGrid(direction,index){var _this$getDimensions=this.getDimensions(),columnCount=_this$getDimensions.columnCount,rowCount=_this$getDimensions.rowCount,rowKeys=getRowKeysFromData(this.data),columnKeys=getColumnKeysFromData(this.data);if(direction===ButtonDirection.TOP){var _this$swipedPixels;if(rowCount<=2||!rowKeys.includes(index))return;var swipedPixels=extractColoredPixelsFromRow(this.data,index);(_this$swipedPixels=this.swipedPixels).push.apply(_this$swipedPixels,(0,toConsumableArray.Z)(swipedPixels)),deleteRowOfData(this.data,index)}else if(direction===ButtonDirection.BOTTOM){var _this$swipedPixels2;if(rowCount<=2||!rowKeys.includes(index))return;var _swipedPixels=extractColoredPixelsFromRow(this.data,index);(_this$swipedPixels2=this.swipedPixels).push.apply(_this$swipedPixels2,(0,toConsumableArray.Z)(_swipedPixels)),deleteRowOfData(this.data,index)}else if(direction===ButtonDirection.LEFT){var _this$swipedPixels3;if(columnCount<=2||!columnKeys.includes(index))return;var _swipedPixels2=extractColoredPixelsFromColumn(this.data,index);(_this$swipedPixels3=this.swipedPixels).push.apply(_this$swipedPixels3,(0,toConsumableArray.Z)(_swipedPixels2)),deleteColumnOfData(this.data,index)}else if(direction===ButtonDirection.RIGHT){var _this$swipedPixels4;if(columnCount<=2||!columnKeys.includes(index))return;var _swipedPixels3=extractColoredPixelsFromColumn(this.data,index);(_this$swipedPixels4=this.swipedPixels).push.apply(_this$swipedPixels4,(0,toConsumableArray.Z)(_swipedPixels3)),deleteColumnOfData(this.data,index)}}},{key:"updatePixelColors",value:function updatePixelColors(data){var _step,_iterator=(0,createForOfIteratorHelper.Z)(data);try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value,rowIndex=item.rowIndex,columnIndex=item.columnIndex,color=item.color;this.data.get(rowIndex)&&this.data.get(rowIndex).get(columnIndex)&&this.data.get(rowIndex).set(columnIndex,{color})}}catch(err){_iterator.e(err)}finally{_iterator.f()}}},{key:"colorPixels",value:function colorPixels(data){var rowIndices=data.map((function(change){return change.rowIndex})),columnIndices=data.map((function(change){return change.columnIndex})),minRowIndex=Math.min.apply(Math,(0,toConsumableArray.Z)(rowIndices)),maxRowIndex=Math.max.apply(Math,(0,toConsumableArray.Z)(rowIndices)),minColumnIndex=Math.min.apply(Math,(0,toConsumableArray.Z)(columnIndices)),maxColumnIndex=Math.max.apply(Math,(0,toConsumableArray.Z)(columnIndices)),currentCanvasIndices=this.getGridIndices(),changeAmounts=[];if(minRowIndex<currentCanvasIndices.topRowIndex){var amount=currentCanvasIndices.topRowIndex-minRowIndex;this.extendGridBy(ButtonDirection.TOP,amount,currentCanvasIndices.topRowIndex),changeAmounts.push({direction:ButtonDirection.TOP,amount,startIndex:currentCanvasIndices.topRowIndex})}if(maxRowIndex>currentCanvasIndices.bottomRowIndex){var _amount=maxRowIndex-currentCanvasIndices.bottomRowIndex;this.extendGridBy(ButtonDirection.BOTTOM,_amount,currentCanvasIndices.bottomRowIndex),changeAmounts.push({direction:ButtonDirection.BOTTOM,amount:_amount,startIndex:currentCanvasIndices.bottomRowIndex})}if(minColumnIndex<currentCanvasIndices.leftColumnIndex){var _amount2=currentCanvasIndices.leftColumnIndex-minColumnIndex;this.extendGridBy(ButtonDirection.LEFT,_amount2,currentCanvasIndices.leftColumnIndex),changeAmounts.push({direction:ButtonDirection.LEFT,amount:_amount2,startIndex:currentCanvasIndices.leftColumnIndex})}if(maxColumnIndex>currentCanvasIndices.rightColumnIndex){var _amount3=maxColumnIndex-currentCanvasIndices.rightColumnIndex;this.extendGridBy(ButtonDirection.RIGHT,_amount3,currentCanvasIndices.rightColumnIndex),changeAmounts.push({direction:ButtonDirection.RIGHT,amount:_amount3,startIndex:currentCanvasIndices.rightColumnIndex})}var _step2,dataForAction=[],_iterator2=(0,createForOfIteratorHelper.Z)(data);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var change=_step2.value,previousColor=this.data.get(change.rowIndex).get(change.columnIndex).color,color=change.color;this.data.get(change.rowIndex).set(change.columnIndex,{color:change.color}),dataForAction.push((0,objectSpread2.Z)((0,objectSpread2.Z)({},change),{},{color,previousColor}))}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return{dataForAction,changeAmounts}}},{key:"erasePixels",value:function erasePixels(data){var _step3,dataForAction=[],_iterator3=(0,createForOfIteratorHelper.Z)(data);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var change=_step3.value,previousColor=this.data.get(change.rowIndex).get(change.columnIndex).color;this.data.get(change.rowIndex).set(change.columnIndex,{color:""}),dataForAction.push((0,objectSpread2.Z)((0,objectSpread2.Z)({},change),{},{color:"",previousColor}))}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}return{dataForAction}}},{key:"extendGridBy",value:function extendGridBy(direction,amount,startIndex){for(var shouldIncreaseIndex=direction===ButtonDirection.BOTTOM||direction===ButtonDirection.RIGHT,i=1;i<=amount;i++){var index=startIndex+(shouldIncreaseIndex?i:-i);this.extendGrid(direction,index)}}},{key:"extendGrid",value:function extendGrid(direction,index){direction===ButtonDirection.TOP||direction===ButtonDirection.BOTTOM?addRowToData(this.data,index):(direction===ButtonDirection.LEFT||direction===ButtonDirection.RIGHT)&&addColumnToData(this.data,index)}},{key:"render",value:function render(){var squareLength=this.gridSquareLength*this.panZoom.scale,leftTopPoint={x:-this.getColumnCount()/2*this.gridSquareLength,y:-this.getRowCount()/2*this.gridSquareLength},ctx=this.ctx;ctx.clearRect(0,0,this.width,this.height);var correctedLeftTopScreenPoint=getScreenPoint(convertCartesianToScreen(this.element,leftTopPoint,this.dpr),this.panZoom),allRowKeys=getRowKeysFromData(this.data),allColumnKeys=getColumnKeysFromData(this.data);ctx.save();var _step4,_iterator4=(0,createForOfIteratorHelper.Z)(allRowKeys);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _step5,i=_step4.value,_iterator5=(0,createForOfIteratorHelper.Z)(allColumnKeys);try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _this$data$get,_this$data$get$get,j=_step5.value,rowIndex=i,columnIndex=j,relativeRowIndex=this.rowKeyOrderMap.get(rowIndex),relativeColumnIndex=this.columnKeyOrderMap.get(columnIndex);if(void 0!==relativeRowIndex&&void 0!==relativeColumnIndex){var color=null===(_this$data$get=this.data.get(rowIndex))||void 0===_this$data$get||null===(_this$data$get$get=_this$data$get.get(columnIndex))||void 0===_this$data$get$get?void 0:_this$data$get$get.color;color&&(ctx.fillStyle=color,ctx.fillRect(relativeColumnIndex*squareLength+correctedLeftTopScreenPoint.x,relativeRowIndex*squareLength+correctedLeftTopScreenPoint.y,squareLength,squareLength))}}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}ctx.restore()}}]),DataLayer}(BaseLayer),drawArrowHead=(__webpack_require__("./node_modules/core-js/modules/es.array.fill.js"),function drawArrowHead(ctx,x,y,radians,scale){ctx.save(),ctx.beginPath(),ctx.translate(x,y),ctx.rotate(radians),ctx.moveTo(0,0),ctx.lineTo(7*scale,5*scale),ctx.lineTo(-7*scale,5*scale),ctx.closePath(),ctx.fillStyle="#949494",ctx.fill(),ctx.restore()}),drawExtendButton=function drawExtendButton(ctx,leftTopPos,color,buttonWidth,buttonHeight,scale){ctx.save(),ctx.fillStyle=color,ctx.fillRect(leftTopPos.x,leftTopPos.y,buttonWidth*scale,buttonHeight*scale),ctx.restore()},GridLayer=function(_BaseLayer){(0,inherits.Z)(GridLayer,_BaseLayer);var _super=(0,createSuper.Z)(GridLayer);function GridLayer(_ref){var _this,columnCount=_ref.columnCount,rowCount=_ref.rowCount,canvas=_ref.canvas;return(0,classCallCheck.Z)(this,GridLayer),(_this=_super.call(this,{canvas})).columnCount=void 0,_this.rowCount=void 0,_this.isGridVisible=!0,_this.isGridFixed=!1,_this.gridStrokeColor=void 0,_this.gridStrokeWidth=void 0,_this.gridSquareLength=DefaultGridSquareLength,_this.buttonHeight=DefaultButtonHeight,_this.buttonMargin=DefaultButtonHeight/2+5,_this.hoveredButton=null,_this.topButtonDimensions={x:0,y:0,width:0,height:0},_this.bottomButtonDimensions={x:0,y:0,width:0,height:0},_this.leftButtonDimensions={x:0,y:0,width:0,height:0},_this.rightButtonDimensions={x:0,y:0,width:0,height:0},_this.columnCount=columnCount,_this.rowCount=rowCount,_this.ctx=canvas.getContext("2d"),_this.element=canvas,_this}return(0,createClass.Z)(GridLayer,[{key:"setColumnCount",value:function setColumnCount(columnCount){this.columnCount=columnCount}},{key:"setRowCount",value:function setRowCount(rowCount){this.rowCount=rowCount}},{key:"setIsGridVisible",value:function setIsGridVisible(isGridVisible){void 0!==isGridVisible&&(this.isGridVisible=isGridVisible),this.render()}},{key:"getIsGridVisible",value:function getIsGridVisible(){return this.isGridVisible}},{key:"setIsGridFixed",value:function setIsGridFixed(isGridFixed){void 0!==isGridFixed&&(this.isGridFixed=isGridFixed),this.render()}},{key:"getIsGridFixed",value:function getIsGridFixed(){return this.isGridFixed}},{key:"getHoveredButton",value:function getHoveredButton(){return this.hoveredButton}},{key:"setGridStrokeColor",value:function setGridStrokeColor(gridStrokeColor){""===gridStrokeColor&&void 0===gridStrokeColor||(this.gridStrokeColor=gridStrokeColor),this.render()}},{key:"getGridStrokeColor",value:function getGridStrokeColor(){return this.gridStrokeColor}},{key:"setGridStrokeWidth",value:function setGridStrokeWidth(gridStrokeWidth){0===gridStrokeWidth&&void 0===gridStrokeWidth||(this.gridStrokeWidth=gridStrokeWidth),this.render()}},{key:"getGridStrokeWidth",value:function getGridStrokeWidth(){return this.gridStrokeWidth}},{key:"setHoveredButton",value:function setHoveredButton(hoveredButton){this.hoveredButton=hoveredButton,this.render()}},{key:"getButtonsDimensions",value:function getButtonsDimensions(){return{top:this.topButtonDimensions,bottom:this.bottomButtonDimensions,left:this.leftButtonDimensions,right:this.rightButtonDimensions}}},{key:"findLeftTopPosForButton",value:function findLeftTopPosForButton(direction,buttonWidth,buttonHeight){var gridsWidth=this.gridSquareLength*this.columnCount,gridsHeight=this.gridSquareLength*this.rowCount,buttonPos={x:gridsWidth/2+this.buttonMargin,y:-gridsHeight/2};if(direction===ButtonDirection.LEFT)buttonPos.x=-gridsWidth/2-this.buttonMargin-buttonWidth/2,buttonPos.y=-gridsHeight/2;else if(direction===ButtonDirection.RIGHT)buttonPos.x=gridsWidth/2+this.buttonMargin-buttonWidth/2,buttonPos.y=-gridsHeight/2;else if(direction===ButtonDirection.TOP)buttonPos.x=-gridsWidth/2,buttonPos.y=-gridsHeight/2-this.buttonMargin-buttonHeight/2;else{if(direction!==ButtonDirection.BOTTOM)throw new Error("Invalid button direction");buttonPos.x=-gridsWidth/2,buttonPos.y=gridsHeight/2+this.buttonMargin-buttonHeight/2}return{worldPos:buttonPos,screenPos:getScreenPoint(convertCartesianToScreen(this.element,buttonPos,this.dpr),this.panZoom)}}},{key:"drawRightButton",value:function drawRightButton(color){var width=this.buttonHeight,height=this.rowCount*this.gridSquareLength,_this$findLeftTopPosF=this.findLeftTopPosForButton(ButtonDirection.RIGHT,width,height),screenPos=_this$findLeftTopPosF.screenPos,worldPos=_this$findLeftTopPosF.worldPos;this.rightButtonDimensions={x:worldPos.x,y:worldPos.y,width,height},drawExtendButton(this.ctx,screenPos,color,width,height,this.panZoom.scale),drawArrowHead(this.ctx,screenPos.x,screenPos.y+height*this.panZoom.scale/2,-Math.PI/2,this.panZoom.scale),drawArrowHead(this.ctx,screenPos.x+width*this.panZoom.scale,screenPos.y+height*this.panZoom.scale/2,Math.PI/2,this.panZoom.scale)}},{key:"drawLeftButton",value:function drawLeftButton(color){var width=this.buttonHeight,height=this.rowCount*this.gridSquareLength,_this$findLeftTopPosF2=this.findLeftTopPosForButton(ButtonDirection.LEFT,width,height),screenPos=_this$findLeftTopPosF2.screenPos,worldPos=_this$findLeftTopPosF2.worldPos;this.leftButtonDimensions={x:worldPos.x,y:worldPos.y,width,height},drawExtendButton(this.ctx,screenPos,color,width,height,this.panZoom.scale),drawArrowHead(this.ctx,screenPos.x,screenPos.y+height*this.panZoom.scale/2,-Math.PI/2,this.panZoom.scale),drawArrowHead(this.ctx,screenPos.x+width*this.panZoom.scale,screenPos.y+height*this.panZoom.scale/2,Math.PI/2,this.panZoom.scale)}},{key:"drawTopButton",value:function drawTopButton(color){var width=this.columnCount*this.gridSquareLength,height=this.buttonHeight,_this$findLeftTopPosF3=this.findLeftTopPosForButton(ButtonDirection.TOP,width,height),screenPos=_this$findLeftTopPosF3.screenPos,worldPos=_this$findLeftTopPosF3.worldPos;this.topButtonDimensions={x:worldPos.x,y:worldPos.y,width,height},drawExtendButton(this.ctx,screenPos,color,width,height,this.panZoom.scale),drawArrowHead(this.ctx,screenPos.x+width*this.panZoom.scale/2,screenPos.y,2*Math.PI,this.panZoom.scale),drawArrowHead(this.ctx,screenPos.x+width*this.panZoom.scale/2,screenPos.y+height*this.panZoom.scale,Math.PI,this.panZoom.scale)}},{key:"drawBottomButton",value:function drawBottomButton(color){var width=this.columnCount*this.gridSquareLength,height=this.buttonHeight,_this$findLeftTopPosF4=this.findLeftTopPosForButton(ButtonDirection.BOTTOM,width,height),screenPos=_this$findLeftTopPosF4.screenPos,worldPos=_this$findLeftTopPosF4.worldPos;this.bottomButtonDimensions={x:worldPos.x,y:worldPos.y,width,height},drawExtendButton(this.ctx,screenPos,color,width,height,this.panZoom.scale),drawArrowHead(this.ctx,screenPos.x+width*this.panZoom.scale/2,screenPos.y,2*Math.PI,this.panZoom.scale),drawArrowHead(this.ctx,screenPos.x+width*this.panZoom.scale/2,screenPos.y+height*this.panZoom.scale,Math.PI,this.panZoom.scale)}},{key:"drawButtons",value:function drawButtons(){this.drawTopButton(this.hoveredButton===ButtonDirection.TOP?"#b2b2b2":"#c8c8c8"),this.drawBottomButton(this.hoveredButton===ButtonDirection.BOTTOM?"#b2b2b2":"#c8c8c8"),this.drawLeftButton(this.hoveredButton===ButtonDirection.LEFT?"#b2b2b2":"#c8c8c8"),this.drawRightButton(this.hoveredButton===ButtonDirection.RIGHT?"#b2b2b2":"#c8c8c8")}},{key:"render",value:function render(){var ctx=this.ctx;if(ctx.clearRect(0,0,this.width,this.height),this.isGridFixed||this.drawButtons(),this.isGridVisible){var squareLength=this.gridSquareLength*this.panZoom.scale,leftTopPoint={x:-this.columnCount/2*this.gridSquareLength,y:-this.rowCount/2*this.gridSquareLength},correctedScreenPoint=getScreenPoint(convertCartesianToScreen(this.element,leftTopPoint,this.dpr),this.panZoom);ctx.save(),ctx.lineWidth=this.gridStrokeWidth,ctx.strokeStyle=this.gridStrokeColor;for(var i=0;i<=this.columnCount;i++)0!==i&&i!==this.columnCount||(ctx.beginPath(),ctx.moveTo(correctedScreenPoint.x+i*squareLength,correctedScreenPoint.y-this.gridStrokeWidth/2),ctx.lineTo(correctedScreenPoint.x+i*squareLength,correctedScreenPoint.y+this.rowCount*squareLength+this.gridStrokeWidth/2),ctx.stroke(),ctx.closePath()),ctx.beginPath(),ctx.moveTo(correctedScreenPoint.x+i*squareLength,correctedScreenPoint.y),ctx.lineTo(correctedScreenPoint.x+i*squareLength,correctedScreenPoint.y+this.rowCount*squareLength),ctx.stroke(),ctx.closePath();for(var j=0;j<=this.rowCount;j++)0!==j&&j!==this.rowCount||(ctx.beginPath(),ctx.moveTo(correctedScreenPoint.x-this.gridStrokeWidth/2,correctedScreenPoint.y+j*squareLength),ctx.lineTo(correctedScreenPoint.x+this.columnCount*squareLength+this.gridStrokeWidth/2,correctedScreenPoint.y+j*squareLength),ctx.stroke(),ctx.closePath()),ctx.beginPath(),ctx.moveTo(correctedScreenPoint.x,correctedScreenPoint.y+j*squareLength),ctx.lineTo(correctedScreenPoint.x+this.columnCount*squareLength,correctedScreenPoint.y+j*squareLength),ctx.stroke(),ctx.closePath();ctx.restore()}}}]),GridLayer}(BaseLayer);__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.parse-int.js");var ActionType,PixelChangeRecords=function(){function PixelChangeRecords(){(0,classCallCheck.Z)(this,PixelChangeRecords),this.rawChanges=void 0,this.effectiveChangesMap=void 0,this.rawChanges=[],this.effectiveChangesMap=new Map}return(0,createClass.Z)(PixelChangeRecords,[{key:"record",value:function record(pixel){if(this.rawChanges.length>0){var mostRecentRawChange=this.rawChanges[this.rawChanges.length-1];mostRecentRawChange.rowIndex===pixel.rowIndex&&mostRecentRawChange.columnIndex===pixel.columnIndex&&mostRecentRawChange.color===pixel.color&&mostRecentRawChange.previousColor===pixel.previousColor||this.rawChanges.push(pixel)}else this.rawChanges.push(pixel);var rowIndex=pixel.rowIndex,columnIndex=pixel.columnIndex,color=pixel.color,previousColor=pixel.previousColor,pixelId=function generatePixelId(rowIndex,columnIndex){return"".concat(rowIndex,"*").concat(columnIndex)}(rowIndex,columnIndex);if(this.effectiveChangesMap.has(pixelId)){var originalPreviousColor=this.effectiveChangesMap.get(pixelId).previousColor;this.effectiveChangesMap.set(pixelId,{color,previousColor:originalPreviousColor})}else this.effectiveChangesMap.set(pixelId,{color,previousColor})}},{key:"reset",value:function reset(){this.rawChanges=[],this.effectiveChangesMap=new Map}},{key:"getIsChanged",value:function getIsChanged(){return this.effectiveChangesMap.size>0}},{key:"getRawChanges",value:function getRawChanges(){return this.rawChanges}},{key:"getEffectiveChanges",value:function getEffectiveChanges(){var result=[];return this.effectiveChangesMap.forEach((function(item,pixelId){var _parsePixelId=function parsePixelId(pixelId){var _pixelId$split=pixelId.split("*"),_pixelId$split2=(0,slicedToArray.Z)(_pixelId$split,2),rowIndex=_pixelId$split2[0],columnIndex=_pixelId$split2[1];return{rowIndex:parseInt(rowIndex),columnIndex:parseInt(columnIndex)}}(pixelId),rowIndex=_parsePixelId.rowIndex,columnIndex=_parsePixelId.columnIndex;result.push({rowIndex,columnIndex,color:item.color,previousColor:item.previousColor})})),result}}]),PixelChangeRecords}(),InteractionLayer=function(_BaseLayer){(0,inherits.Z)(InteractionLayer,_BaseLayer);var _super=(0,createSuper.Z)(InteractionLayer);function InteractionLayer(_ref){var _this,columnCount=_ref.columnCount,rowCount=_ref.rowCount,canvas=_ref.canvas;return(0,classCallCheck.Z)(this,InteractionLayer),(_this=_super.call(this,{canvas})).strokedPixelRecords=new Map,_this.erasedPixelRecords=new Map,_this.tempStrokedPixels=[],_this.indicatorPixels=[],_this.dataLayerRowCount=void 0,_this.dataLayerColumnCount=void 0,_this.capturedData=null,_this.capturedDataOriginalIndices=null,_this.hoveredPixel=null,_this.gridSquareLength=DefaultGridSquareLength,_this.dataLayerColumnCount=columnCount,_this.dataLayerRowCount=rowCount,_this}return(0,createClass.Z)(InteractionLayer,[{key:"getCapturedData",value:function getCapturedData(){return this.capturedData}},{key:"getCapturedDataOriginalIndices",value:function getCapturedDataOriginalIndices(){return this.capturedDataOriginalIndices}},{key:"setDataLayerColumnCount",value:function setDataLayerColumnCount(columnCount){this.dataLayerColumnCount=columnCount}},{key:"setDataLayerRowCount",value:function setDataLayerRowCount(rowCount){this.dataLayerRowCount=rowCount}},{key:"setCapturedData",value:function setCapturedData(gridChangeStartCapturedData){this.capturedData=new Map;for(var _i=0,_Array$from=Array.from(gridChangeStartCapturedData.entries());_i<_Array$from.length;_i++){var row=_Array$from[_i],_row=(0,slicedToArray.Z)(row,2),rowIndex=_row[0],rowData=_row[1];this.capturedData.set(rowIndex,new Map(rowData))}this.capturedDataOriginalIndices=getGridIndicesFromData(gridChangeStartCapturedData)}},{key:"resetCapturedData",value:function resetCapturedData(){this.capturedData=null,this.capturedDataOriginalIndices=null,this.deleteStrokePixelRecord("temporary-user-id")}},{key:"getHoveredPixel",value:function getHoveredPixel(){return this.hoveredPixel}},{key:"setHoveredPixel",value:function setHoveredPixel(hoveredPixel){this.hoveredPixel=hoveredPixel}},{key:"getStrokedPixelRecords",value:function getStrokedPixelRecords(){return this.strokedPixelRecords}},{key:"getEffectiveStrokePixelChanges",value:function getEffectiveStrokePixelChanges(userId){return this.strokedPixelRecords.has(userId)?this.strokedPixelRecords.get(userId).getEffectiveChanges():[]}},{key:"getErasedPixelRecords",value:function getErasedPixelRecords(){return this.erasedPixelRecords}},{key:"getEffectiveEraserPixelChanges",value:function getEffectiveEraserPixelChanges(userId){return this.erasedPixelRecords.has(userId)?this.erasedPixelRecords.get(userId).getEffectiveChanges():[]}},{key:"getIndicatorPixels",value:function getIndicatorPixels(){return this.indicatorPixels}},{key:"extendCapturedData",value:function extendCapturedData(direction){if(!this.capturedData)throw new Error("There is no captured data");var _getGridIndicesFromDa=getGridIndicesFromData(this.capturedData),topRowIndex=_getGridIndicesFromDa.topRowIndex,bottomRowIndex=_getGridIndicesFromDa.bottomRowIndex,leftColumnIndex=_getGridIndicesFromDa.leftColumnIndex,rightColumnIndex=_getGridIndicesFromDa.rightColumnIndex;if(direction===ButtonDirection.TOP||direction===ButtonDirection.BOTTOM){var newRowIndex=direction===ButtonDirection.TOP?topRowIndex-1:bottomRowIndex+1;addRowToData(this.capturedData,newRowIndex)}else if(direction===ButtonDirection.LEFT||direction===ButtonDirection.RIGHT){var newColumnIndex=direction===ButtonDirection.LEFT?leftColumnIndex-1:rightColumnIndex+1;addColumnToData(this.capturedData,newColumnIndex)}}},{key:"shortenCapturedData",value:function shortenCapturedData(direction){if(!this.capturedData)throw new Error("There is no captured data");var _getGridIndicesFromDa2=getGridIndicesFromData(this.capturedData),topRowIndex=_getGridIndicesFromDa2.topRowIndex,bottomRowIndex=_getGridIndicesFromDa2.bottomRowIndex,leftColumnIndex=_getGridIndicesFromDa2.leftColumnIndex,rightColumnIndex=_getGridIndicesFromDa2.rightColumnIndex,columnCount=getColumnCountFromData(this.capturedData),rowCount=getRowCountFromData(this.capturedData),pixelModifyItems=[];if(direction===ButtonDirection.TOP||direction===ButtonDirection.BOTTOM){if(rowCount<=2)return console.log("row count less than 2"),!1;var swipedRowIndex=direction===ButtonDirection.TOP?topRowIndex:bottomRowIndex,swipedRowPixels=extractColoredPixelsFromRow(this.capturedData,swipedRowIndex);pixelModifyItems.push.apply(pixelModifyItems,(0,toConsumableArray.Z)(swipedRowPixels)),deleteRowOfData(this.capturedData,swipedRowIndex)}else if(direction===ButtonDirection.LEFT||direction===ButtonDirection.RIGHT){if(columnCount<=2)return console.log("column count less than 2"),!1;var swipedColumnIndex=direction===ButtonDirection.LEFT?leftColumnIndex:rightColumnIndex,swipedColumnPixels=extractColoredPixelsFromColumn(this.capturedData,swipedColumnIndex);pixelModifyItems.push.apply(pixelModifyItems,(0,toConsumableArray.Z)(swipedColumnPixels)),deleteColumnOfData(this.capturedData,swipedColumnIndex)}return!0}},{key:"setIndicatorPixels",value:function setIndicatorPixels(indicatorPixels){Array.isArray(indicatorPixels)&&(this.indicatorPixels=indicatorPixels)}},{key:"addToStrokePixelRecords",value:function addToStrokePixelRecords(userId,pixelItem){var _this$strokedPixelRec;this.strokedPixelRecords.has(userId)||this.strokedPixelRecords.set(userId,new PixelChangeRecords),null===(_this$strokedPixelRec=this.strokedPixelRecords.get(userId))||void 0===_this$strokedPixelRec||_this$strokedPixelRec.record(pixelItem)}},{key:"getAllStrokePixels",value:function getAllStrokePixels(){var allStrokePixels=[];return this.strokedPixelRecords.forEach((function(pixelChangeRecords){allStrokePixels.push.apply(allStrokePixels,(0,toConsumableArray.Z)(pixelChangeRecords.getEffectiveChanges()))})),allStrokePixels}},{key:"addToErasedPixelRecords",value:function addToErasedPixelRecords(userId,pixelItem){var _this$erasedPixelReco;this.erasedPixelRecords.has(userId)||this.erasedPixelRecords.set(userId,new PixelChangeRecords),null===(_this$erasedPixelReco=this.erasedPixelRecords.get(userId))||void 0===_this$erasedPixelReco||_this$erasedPixelReco.record(pixelItem)}},{key:"getAllErasedPixels",value:function getAllErasedPixels(){var allErasedPixels=[];return this.erasedPixelRecords.forEach((function(pixelChangeRecords){allErasedPixels.push.apply(allErasedPixels,(0,toConsumableArray.Z)(pixelChangeRecords.getEffectiveChanges()))})),allErasedPixels}},{key:"deleteErasedPixelRecord",value:function deleteErasedPixelRecord(userId){this.erasedPixelRecords.delete(userId)}},{key:"deleteStrokePixelRecord",value:function deleteStrokePixelRecord(userId){this.strokedPixelRecords.delete(userId)}},{key:"colorPixels",value:function colorPixels(data){var _this$tempStrokedPixe;(_this$tempStrokedPixe=this.tempStrokedPixels).push.apply(_this$tempStrokedPixe,(0,toConsumableArray.Z)(data))}},{key:"erasePixels",value:function erasePixels(data){var _this$tempStrokedPixe2;(_this$tempStrokedPixe2=this.tempStrokedPixels).push.apply(_this$tempStrokedPixe2,(0,toConsumableArray.Z)(data.map((function(item){return(0,objectSpread2.Z)((0,objectSpread2.Z)({},item),{},{color:""})}))))}},{key:"renderStrokedPixels",value:function renderStrokedPixels(correctedLeftTopScreenPoint,squareLength){var _this2=this,ctx=this.ctx,doesCapturedDataExist=null!==this.capturedData,allStrokedPixels=this.getAllStrokePixels().filter((function(item){if(doesCapturedDataExist){var gridIndices=getGridIndicesFromData(_this2.capturedData);return item.rowIndex<gridIndices.topRowIndex||item.rowIndex>gridIndices.bottomRowIndex||item.columnIndex<gridIndices.leftColumnIndex||item.columnIndex>gridIndices.rightColumnIndex}return!0})),tempColorPixelsToStroke=this.tempStrokedPixels.filter((function(item){return""!==item.color})).filter((function(item){if(doesCapturedDataExist){var gridIndices=getGridIndicesFromData(_this2.capturedData);return item.rowIndex<gridIndices.topRowIndex||item.rowIndex>gridIndices.bottomRowIndex||item.columnIndex<gridIndices.leftColumnIndex||item.columnIndex>gridIndices.rightColumnIndex}return!0}));ctx.save();var _step,_iterator=(0,createForOfIteratorHelper.Z)(allStrokedPixels);try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value,relativeRowIndex=this.rowKeyOrderMap.get(item.rowIndex),relativeColumnIndex=this.columnKeyOrderMap.get(item.columnIndex);void 0!==relativeRowIndex&&void 0!==relativeColumnIndex&&(ctx.fillStyle=item.color,ctx.fillRect(relativeColumnIndex*squareLength+correctedLeftTopScreenPoint.x,relativeRowIndex*squareLength+correctedLeftTopScreenPoint.y,squareLength,squareLength))}}catch(err){_iterator.e(err)}finally{_iterator.f()}var _step2,_iterator2=(0,createForOfIteratorHelper.Z)(tempColorPixelsToStroke);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _item=_step2.value,_relativeRowIndex=this.rowKeyOrderMap.get(_item.rowIndex),_relativeColumnIndex=this.columnKeyOrderMap.get(_item.columnIndex);void 0!==_relativeRowIndex&&void 0!==_relativeColumnIndex&&(ctx.fillStyle=_item.color,ctx.fillRect(_relativeColumnIndex*squareLength+correctedLeftTopScreenPoint.x,_relativeRowIndex*squareLength+correctedLeftTopScreenPoint.y,squareLength,squareLength))}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}ctx.restore()}},{key:"renderErasedPixels",value:function renderErasedPixels(correctedLeftTopScreenPoint,squareLength){var tempErasePixels=this.tempStrokedPixels.filter((function(item){return""==item.color})),allErasedPixels=this.getAllErasedPixels(),ctx=this.ctx;ctx.save();var _step3,_iterator3=(0,createForOfIteratorHelper.Z)(allErasedPixels);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var item=_step3.value,relativeRowIndex=this.rowKeyOrderMap.get(item.rowIndex),relativeColumnIndex=this.columnKeyOrderMap.get(item.columnIndex);void 0!==relativeRowIndex&&void 0!==relativeColumnIndex&&ctx.clearRect(relativeColumnIndex*squareLength+correctedLeftTopScreenPoint.x,relativeRowIndex*squareLength+correctedLeftTopScreenPoint.y,squareLength,squareLength)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}var _step4,_iterator4=(0,createForOfIteratorHelper.Z)(tempErasePixels);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _item2=_step4.value,_relativeRowIndex2=this.rowKeyOrderMap.get(_item2.rowIndex),_relativeColumnIndex2=this.columnKeyOrderMap.get(_item2.columnIndex);void 0!==_relativeRowIndex2&&void 0!==_relativeColumnIndex2&&ctx.clearRect(_relativeColumnIndex2*squareLength+correctedLeftTopScreenPoint.x,_relativeRowIndex2*squareLength+correctedLeftTopScreenPoint.y,squareLength,squareLength)}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}}},{key:"renderIndicatorPixels",value:function renderIndicatorPixels(correctedLeftTopScreenPoint,squareLength){if(0!=this.indicatorPixels.length){var ctx=this.ctx;ctx.save();var _step5,_iterator5=(0,createForOfIteratorHelper.Z)(this.indicatorPixels);try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var item=_step5.value;ctx.fillStyle=item.color,ctx.globalAlpha=.5;var relativeRowIndex=this.rowKeyOrderMap.get(item.rowIndex),relativeColumnIndex=this.columnKeyOrderMap.get(item.columnIndex);void 0!==relativeRowIndex&&void 0!==relativeColumnIndex&&(ctx.clearRect(relativeColumnIndex*squareLength+correctedLeftTopScreenPoint.x,relativeRowIndex*squareLength+correctedLeftTopScreenPoint.y,squareLength,squareLength),ctx.fillRect(relativeColumnIndex*squareLength+correctedLeftTopScreenPoint.x,relativeRowIndex*squareLength+correctedLeftTopScreenPoint.y,squareLength,squareLength))}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}ctx.restore()}}},{key:"renderHoveredPixel",value:function renderHoveredPixel(correctedLeftTopScreenPoint,squareLength){if(null!==this.hoveredPixel){var ctx=this.ctx,_this$hoveredPixel=this.hoveredPixel,rowIndex=_this$hoveredPixel.rowIndex,columnIndex=_this$hoveredPixel.columnIndex,relativeRowIndex=this.rowKeyOrderMap.get(rowIndex),relativeColumnIndex=this.columnKeyOrderMap.get(columnIndex);void 0!==relativeRowIndex&&void 0!==relativeColumnIndex&&(ctx.save(),ctx.globalAlpha=.5,ctx.clearRect(relativeColumnIndex*squareLength+correctedLeftTopScreenPoint.x,relativeRowIndex*squareLength+correctedLeftTopScreenPoint.y,squareLength,squareLength),ctx.fillStyle=this.hoveredPixel.color,ctx.fillRect(relativeColumnIndex*squareLength+correctedLeftTopScreenPoint.x,relativeRowIndex*squareLength+correctedLeftTopScreenPoint.y,squareLength,squareLength),ctx.restore())}}},{key:"render",value:function render(){var squareLength=this.gridSquareLength*this.panZoom.scale,doesCapturedDataExist=null!==this.capturedData,rowCount=doesCapturedDataExist?getRowCountFromData(this.capturedData):this.dataLayerRowCount,leftTopPoint={x:-(doesCapturedDataExist?getColumnCountFromData(this.capturedData):this.dataLayerColumnCount)/2*this.gridSquareLength,y:-rowCount/2*this.gridSquareLength},correctedLeftTopScreenPoint=getScreenPoint(convertCartesianToScreen(this.element,leftTopPoint,this.dpr),this.panZoom);this.ctx.clearRect(0,0,this.width,this.height),this.renderStrokedPixels(correctedLeftTopScreenPoint,squareLength),this.renderErasedPixels(correctedLeftTopScreenPoint,squareLength),this.renderIndicatorPixels(correctedLeftTopScreenPoint,squareLength),this.renderHoveredPixel(correctedLeftTopScreenPoint,squareLength)}}]),InteractionLayer}(BaseLayer),types=__webpack_require__("./src/components/Canvas/types.ts");!function(ActionType){ActionType.ColorChange="ColorChange",ActionType.SizeChange="SizeChange",ActionType.ColorSizeChange="ColorSizeChange"}(ActionType||(ActionType={}));var ColorChangeMode,Action=(0,createClass.Z)((function Action(){(0,classCallCheck.Z)(this,Action),this.type=void 0}));!function(ColorChangeMode){ColorChangeMode.Fill="Fill",ColorChangeMode.Erase="Erase"}(ColorChangeMode||(ColorChangeMode={}));var ColorChangeAction=function(_Action){(0,inherits.Z)(ColorChangeAction,_Action);var _super=(0,createSuper.Z)(ColorChangeAction);function ColorChangeAction(data){var _this;return(0,classCallCheck.Z)(this,ColorChangeAction),(_this=_super.call(this)).type=ActionType.ColorChange,_this.data=void 0,_this.data=data,_this}return(0,createClass.Z)(ColorChangeAction,[{key:"createInverseAction",value:function createInverseAction(){return new ColorChangeAction(this.data.map((function(item){return(0,objectSpread2.Z)((0,objectSpread2.Z)({},item),{},{previousColor:item.color,color:item.previousColor})})))}},{key:"getType",value:function getType(){return this.type}}]),ColorChangeAction}(Action),ColorSizeChangeAction=function(_Action){(0,inherits.Z)(ColorSizeChangeAction,_Action);var _super=(0,createSuper.Z)(ColorSizeChangeAction);function ColorSizeChangeAction(data,changeAmounts){var _this;return(0,classCallCheck.Z)(this,ColorSizeChangeAction),(_this=_super.call(this)).type=ActionType.ColorSizeChange,_this.data=void 0,_this.changeAmounts=[],_this.data=data,_this.changeAmounts=changeAmounts,_this}return(0,createClass.Z)(ColorSizeChangeAction,[{key:"createInverseAction",value:function createInverseAction(){return new ColorSizeChangeAction(this.data.map((function(item){return(0,objectSpread2.Z)((0,objectSpread2.Z)({},item),{},{previousColor:item.color,color:item.previousColor})})),this.changeAmounts.map((function(item){var newStartIndex=item.startIndex;return item.direction===ButtonDirection.TOP||item.direction===ButtonDirection.LEFT?newStartIndex=item.startIndex-item.amount:item.direction!==ButtonDirection.BOTTOM&&item.direction!==ButtonDirection.RIGHT||(newStartIndex=item.startIndex+item.amount),(0,objectSpread2.Z)((0,objectSpread2.Z)({},item),{},{amount:-item.amount,startIndex:newStartIndex})})))}},{key:"getType",value:function getType(){return this.type}}]),ColorSizeChangeAction}(Action),SizeChangeAction=function(_Action){(0,inherits.Z)(SizeChangeAction,_Action);var _super=(0,createSuper.Z)(SizeChangeAction);function SizeChangeAction(data,changeAmounts){var _this;return(0,classCallCheck.Z)(this,SizeChangeAction),(_this=_super.call(this)).type=ActionType.SizeChange,_this.data=void 0,_this.changeAmounts=void 0,_this.data=data,_this.changeAmounts=changeAmounts,_this}return(0,createClass.Z)(SizeChangeAction,[{key:"createInverseAction",value:function createInverseAction(){return new SizeChangeAction(this.data,this.changeAmounts.map((function(item){var newStartIndex=item.startIndex;return item.direction===ButtonDirection.TOP||item.direction===ButtonDirection.LEFT?newStartIndex=item.startIndex-item.amount:item.direction!==ButtonDirection.BOTTOM&&item.direction!==ButtonDirection.RIGHT||(newStartIndex=item.startIndex+item.amount),(0,objectSpread2.Z)((0,objectSpread2.Z)({},item),{},{amount:-item.amount,startIndex:newStartIndex})})))}},{key:"getType",value:function getType(){return this.type}}]),SizeChangeAction}(Action),Event=(__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js"),__webpack_require__("./node_modules/core-js/modules/es.array.splice.js"),function(){function Event(name){(0,classCallCheck.Z)(this,Event),this.name=void 0,this.callbacks=void 0,this.name=name,this.callbacks=[]}return(0,createClass.Z)(Event,[{key:"on",value:function on(cb){this.callbacks.push(cb)}},{key:"off",value:function off(cb){var idx=this.callbacks.findIndex((function(callback){return callback===cb}));this.callbacks.splice(idx,1)}},{key:"toString",value:function toString(){return this.name}}]),Event}()),EventDispatcher=function(){function EventDispatcher(){(0,classCallCheck.Z)(this,EventDispatcher),this.events=void 0,this.events={}}return(0,createClass.Z)(EventDispatcher,[{key:"emit",value:function emit(name){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];this.events[name]&&this.events[name].callbacks.forEach((function(cb){cb.apply(void 0,args)}))}},{key:"addEventListener",value:function addEventListener(name,cb){this.events[name]||(this.events[name]=new Event(name)),this.events[name].on(cb)}},{key:"removeEventListener",value:function removeEventListener(name,cb){cb?this.events[name].off(cb):delete this.events[name]}}]),EventDispatcher}(),getPointFromTouchyEvent=function getPointFromTouchyEvent(evt,element,panZoom){var originY,originX,offsetX,offsetY;if(window.TouchEvent&&evt instanceof TouchEvent){for(var isCanvasTouchIncluded=!1,firstCanvasTouchIndex=0,i=0;i<evt.touches.length;i++){if(evt.touches.item(i).target instanceof HTMLCanvasElement){isCanvasTouchIncluded=!0,firstCanvasTouchIndex=i;break}}return getPointFromTouch(isCanvasTouchIncluded?evt.touches[firstCanvasTouchIndex]:evt.touches[0],element,panZoom)}return originY=evt.clientY,originX=evt.clientX,offsetX=evt.offsetX,offsetY=evt.offsetY,originY+=window.scrollY,originX+=window.scrollX,{y:originY-panZoom.offset.y,x:originX-panZoom.offset.x,offsetX,offsetY}},getPointFromTouch=function getPointFromTouch(touch,element,panZoom){var r=element.getBoundingClientRect(),originY=touch.clientY,originX=touch.clientX,offsetX=touch.clientX-r.left,offsetY=touch.clientY-r.top;return{x:originX-panZoom.offset.x,y:originY-panZoom.offset.y,offsetX,offsetY}},getMouseCartCoord=function getMouseCartCoord(evt,element,panZoom,dpr){evt.preventDefault();var point=getPointFromTouchyEvent(evt,element,panZoom);return diffPoints(getWorldPoint({x:point.offsetX,y:point.offsetY},panZoom),{x:element.width/dpr/2,y:element.height/dpr/2})},getPixelIndexFromMouseCartCoord=function getPixelIndexFromMouseCartCoord(mouseCartCoord,rowCount,columnCount,gridSquareLength,currentTopIndex,currentLeftIndex){var leftTopPoint_x=-columnCount/2*gridSquareLength,leftTopPoint_y=-rowCount/2*gridSquareLength;return mouseCartCoord.x>leftTopPoint_x&&mouseCartCoord.x<leftTopPoint_x+columnCount*gridSquareLength&&mouseCartCoord.y>leftTopPoint_y&&mouseCartCoord.y<leftTopPoint_y+rowCount*gridSquareLength?{rowIndex:currentTopIndex+Math.floor((mouseCartCoord.y-leftTopPoint_y)/gridSquareLength),columnIndex:currentLeftIndex+Math.floor((mouseCartCoord.x-leftTopPoint_x)/gridSquareLength)}:null},returnScrollOffsetFromMouseOffset=function returnScrollOffsetFromMouseOffset(mouseOffset,panZoom,newScale){var scaleOffset=diffPoints(mouseOffset,getScreenPoint(getWorldPoint(mouseOffset,panZoom),{scale:newScale,offset:panZoom.offset}));return addPoints(panZoom.offset,scaleOffset)},QueueNode=(0,createClass.Z)((function QueueNode(data){(0,classCallCheck.Z)(this,QueueNode),this.data=void 0,this.next=void 0,this.data=data,this.next=null})),Queue=function(){function Queue(){(0,classCallCheck.Z)(this,Queue),this.length=void 0,this.head=void 0,this.tail=void 0,this.head=null,this.tail=null,this.length=0}return(0,createClass.Z)(Queue,[{key:"enqueue",value:function enqueue(data){var node=new QueueNode(data);0===this.length?this.head=node:this.tail.next=node,this.tail=node,this.length++}},{key:"dequeue",value:function dequeue(){if(0===this.length)return null;var data=this.head.data;return this.head=this.head.next,this.length--,data}},{key:"size",value:function size(){return this.length}},{key:"isEmpty",value:function isEmpty(){return 0===this.length}},{key:"clear",value:function clear(){this.head=null,this.tail=null,this.length=0}}]),Queue}(),StackNode=(0,createClass.Z)((function StackNode(data){(0,classCallCheck.Z)(this,StackNode),this.data=void 0,this.next=void 0,this.data=data,this.next=null})),Stack=function(){function Stack(){(0,classCallCheck.Z)(this,Stack),this.length=void 0,this.head=void 0,this.tail=void 0,this.head=null,this.tail=null,this.length=0}return(0,createClass.Z)(Stack,[{key:"push",value:function push(data){var node=new StackNode(data);0===this.length?(this.head=node,this.tail=node):(node.next=this.head,this.head=node),this.length++}},{key:"pop",value:function pop(){if(0===this.length)return null;var data=this.head.data;return this.head=this.head.next,this.length--,data}},{key:"size",value:function size(){return this.length}},{key:"isEmpty",value:function isEmpty(){return 0===this.length}},{key:"shift",value:function shift(){if(0===this.length)return null;var data=this.tail.data;return this.tail=this.tail.next,this.length--,data}},{key:"clear",value:function clear(){this.head=null,this.tail=null,this.length=0}}]),Stack}();function addEvent(el,type,fn,capturing){return el.addEventListener(type,fn,capturing)}function removeEvent(el,type,fn,capturing){return el.removeEventListener(type,fn,capturing)}var touch={mouseup:"touchend",mouseout:"touchend",mousedown:"touchstart",mousemove:"touchmove"};function touchy(el,event,type,fn){event(el,touch[type],fn),event(el,type,fn)}function isValidIndicesRange(rowIndex,columnIndex,indices){var topRowIndex=indices.topRowIndex,bottomRowIndex=indices.bottomRowIndex,leftColumnIndex=indices.leftColumnIndex,rightColumnIndex=indices.rightColumnIndex;return!(rowIndex<topRowIndex||rowIndex>bottomRowIndex||columnIndex<leftColumnIndex||columnIndex>rightColumnIndex)}var Editor=function(_EventDispatcher){(0,inherits.Z)(Editor,_EventDispatcher);var _super=(0,createSuper.Z)(Editor);function Editor(_ref){var _this,gridCanvas=_ref.gridCanvas,interactionCanvas=_ref.interactionCanvas,dataCanvas=_ref.dataCanvas,backgroundCanvas=_ref.backgroundCanvas,initData=_ref.initData;(0,classCallCheck.Z)(this,Editor),(_this=_super.call(this)).gridLayer=void 0,_this.interactionLayer=void 0,_this.dataLayer=void 0,_this.backgroundLayer=void 0,_this.zoomSensitivity=DefaultZoomSensitivity,_this.maxScale=DefaultMaxScale,_this.minScale=DefaultMinScale,_this.extensionAllowanceRatio=2,_this.pinchZoomDiff=null,_this.width=void 0,_this.height=void 0,_this.panZoom={scale:1,offset:{x:0,y:0}},_this.panPoint={lastMousePos:{x:0,y:0}},_this.dpr=1,_this.brushColor="#FF0000",_this.gridSquareLength=DefaultGridSquareLength,_this.maxHistoryCount=100,_this.undoHistory=new Stack,_this.redoHistory=new Stack,_this.extensionPoint={lastMousePos:{x:0,y:0},direction:null},_this.isPanZoomable=!0,_this.mouseMode=MouseMode.PANNING,_this.brushTool=types.G.DOT,_this.isInteractionEnabled=!0,_this.isInteractionApplicable=!0,_this.element=void 0,_this.styleMouseCursor=function(){_this.mouseMode!==MouseMode.PANNING&&_this.mouseMode!==MouseMode.EXTENDING?_this.element.style.cursor='url("/cursor/'.concat(_this.mouseMode,'.cur"), auto'):_this.element.style.cursor="default"},_this.handleExtension=function(evt){evt.preventDefault();var interactionLayer=_this.interactionLayer;interactionLayer.getCapturedData()||interactionLayer.setCapturedData(_this.dataLayer.getCopiedData());var minAmountForExtension=_this.gridSquareLength/2;if(!(window.TouchEvent&&evt instanceof TouchEvent&&evt.touches.length>1)){var mouseCartCoord=getMouseCartCoord(evt,_this.element,_this.panZoom,_this.dpr),buttonDirection=_this.extensionPoint.direction,extensionAmount=diffPoints(_this.extensionPoint.lastMousePos,mouseCartCoord);if(buttonDirection){switch(buttonDirection){case ButtonDirection.TOP:extensionAmount.y>minAmountForExtension?_this.extendInteractionGrid(ButtonDirection.TOP):extensionAmount.y<-minAmountForExtension&&_this.shortenInteractionGrid(ButtonDirection.TOP);break;case ButtonDirection.BOTTOM:extensionAmount.y<-minAmountForExtension?_this.extendInteractionGrid(ButtonDirection.BOTTOM):extensionAmount.y>minAmountForExtension&&_this.shortenInteractionGrid(ButtonDirection.BOTTOM);break;case ButtonDirection.LEFT:extensionAmount.x>minAmountForExtension?_this.extendInteractionGrid(ButtonDirection.LEFT):extensionAmount.x<-minAmountForExtension&&_this.shortenInteractionGrid(ButtonDirection.LEFT);break;case ButtonDirection.RIGHT:extensionAmount.x<-minAmountForExtension?_this.extendInteractionGrid(ButtonDirection.RIGHT):extensionAmount.x>minAmountForExtension&&_this.shortenInteractionGrid(ButtonDirection.RIGHT)}_this.interactionLayer.setCriterionDataForRendering(_this.interactionLayer.getCapturedData()),_this.renderAll()}}},_this.handleWheel=function(e){if(e.preventDefault(),_this.isPanZoomable)if(e.ctrlKey){var zoom=1-e.deltaY/_this.zoomSensitivity,newScale=_this.panZoom.scale*zoom;newScale>_this.maxScale&&(newScale=_this.maxScale),newScale<_this.minScale&&(newScale=_this.minScale);var mouseOffset={x:e.offsetX,y:e.offsetY},newOffset=returnScrollOffsetFromMouseOffset(mouseOffset,_this.panZoom,newScale);_this.setPanZoom({scale:newScale,offset:newOffset})}else{var offset=diffPoints(_this.panZoom.offset,{x:e.deltaX,y:e.deltaY});_this.setPanZoom((0,objectSpread2.Z)((0,objectSpread2.Z)({},_this.panZoom),{},{offset}))}},_this.handlePanning=function(evt){if(_this.isPanZoomable){var lastMousePos=_this.panPoint.lastMousePos;if(!(window.TouchEvent&&evt instanceof TouchEvent&&evt.touches.length>1)){var point=getPointFromTouchyEvent(evt,_this.element,_this.panZoom),currentMousePos={x:point.offsetX,y:point.offsetY};_this.panPoint.lastMousePos=currentMousePos;var mouseDiff=diffPoints(lastMousePos,currentMousePos),offset=diffPoints(_this.panZoom.offset,mouseDiff);_this.setPanZoom({offset})}}},_this.dataLayer=new DataLayer({canvas:dataCanvas,initData});var initRowCount=_this.dataLayer.getRowCount(),initColumnCount=_this.dataLayer.getColumnCount();return _this.gridLayer=new GridLayer({columnCount:initColumnCount,rowCount:initRowCount,canvas:gridCanvas}),_this.interactionLayer=new InteractionLayer({columnCount:initColumnCount,rowCount:initRowCount,canvas:interactionCanvas}),_this.backgroundLayer=new BackgroundLayer({canvas:backgroundCanvas}),_this.interactionLayer.setCriterionDataForRendering(_this.dataLayer.getData()),_this.dataLayer.setCriterionDataForRendering(_this.dataLayer.getData()),_this.element=interactionCanvas,_this.initialize(),_this}return(0,createClass.Z)(Editor,[{key:"initialize",value:function initialize(){this.emit=this.emit.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),touchy(this.element,addEvent,"mousedown",this.onMouseDown),touchy(this.element,addEvent,"mouseup",this.onMouseUp),touchy(this.element,addEvent,"mouseout",this.onMouseOut),touchy(this.element,addEvent,"mousemove",this.onMouseMove),this.element.addEventListener("wheel",this.handleWheel)}},{key:"emitGridEvent",value:function emitGridEvent(){var data=this.dataLayer.getData(),dimensions={columnCount:this.getColumnCount(),rowCount:this.getRowCount()},indices=getGridIndicesFromData(data);this.emit(types.v.GRID_CHANGE,dimensions,indices)}},{key:"emitHoverPixelChangeEvent",value:function emitHoverPixelChangeEvent(){this.emit(types.v.HOVER_PIXEL_CHANGE,this.interactionLayer.getHoveredPixel())}},{key:"emitDataEvent",value:function emitDataEvent(){this.emit(types.v.DATA_CHANGE,this.dataLayer.getCopiedData())}},{key:"emitBrushChangeEvent",value:function emitBrushChangeEvent(){this.emit(types.v.BRUSH_CHANGE,this.brushColor,this.brushTool)}},{key:"setBackgroundMode",value:function setBackgroundMode(backgroundMode){this.backgroundLayer.setBackgroundColor(backgroundMode),this.renderBackgroundLayer()}},{key:"setBackgroundAlpha",value:function setBackgroundAlpha(alpha){this.backgroundLayer.setBackgroundAlpha(alpha),this.renderBackgroundLayer()}},{key:"setBackgroundColor",value:function setBackgroundColor(color){this.backgroundLayer.setBackgroundColor(color),this.renderBackgroundLayer()}},{key:"setIndicatorPixels",value:function setIndicatorPixels(indicatorPixels){this.interactionLayer.setIndicatorPixels(indicatorPixels),this.renderInteractionLayer()}},{key:"setIsGridFixed",value:function setIsGridFixed(isGridFixed){this.gridLayer.setIsGridFixed(isGridFixed),this.renderGridLayer()}},{key:"setGridStrokeColor",value:function setGridStrokeColor(color){this.gridLayer.setGridStrokeColor(color),this.renderGridLayer()}},{key:"setGridStrokeWidth",value:function setGridStrokeWidth(width){this.gridLayer.setGridStrokeWidth(width),this.renderGridLayer()}},{key:"setIsGridVisible",value:function setIsGridVisible(isGridVisible){this.gridLayer.setIsGridVisible(isGridVisible),this.renderGridLayer()}},{key:"setIsPanZoomable",value:function setIsPanZoomable(isPanZoomable){void 0!==isPanZoomable&&(this.isPanZoomable=isPanZoomable)}},{key:"setIsInteractionEnabled",value:function setIsInteractionEnabled(isInteractionEnabled){void 0!==isInteractionEnabled&&(this.isInteractionEnabled=isInteractionEnabled)}},{key:"setIsInteractionApplicable",value:function setIsInteractionApplicable(isInteractionApplicable){void 0!==isInteractionApplicable&&(this.isInteractionApplicable=isInteractionApplicable)}},{key:"setBrushTool",value:function setBrushTool(tool){this.brushTool=tool,this.styleMouseCursor(),this.emit(types.v.BRUSH_CHANGE,this.brushColor,this.brushTool)}},{key:"changeBrushColor",value:function changeBrushColor(color){this.brushColor=color,this.emit(types.v.BRUSH_CHANGE,this.brushColor,this.brushTool)}},{key:"setBrushColor",value:function setBrushColor(color){if(void 0!==color){this.brushColor=color;var hoveredPixel=this.interactionLayer.getHoveredPixel();hoveredPixel&&(this.interactionLayer.setHoveredPixel((0,objectSpread2.Z)((0,objectSpread2.Z)({},hoveredPixel),{},{color:this.brushColor})),this.renderDataLayer())}}},{key:"getColumnCount",value:function getColumnCount(){return this.dataLayer.getColumnCount()}},{key:"getRowCount",value:function getRowCount(){return this.dataLayer.getRowCount()}},{key:"getGridIndices",value:function getGridIndices(){return this.dataLayer.getGridIndices()}},{key:"detectButtonClicked",value:function detectButtonClicked(coord){var _this$gridLayer$getBu=this.gridLayer.getButtonsDimensions(),top=_this$gridLayer$getBu.top,bottom=_this$gridLayer$getBu.bottom,right=_this$gridLayer$getBu.right,left=_this$gridLayer$getBu.left,x=coord.x,y=coord.y,scaledYHeight=lerpRanges(this.panZoom.scale,this.maxScale,this.minScale,top.height,top.height*this.extensionAllowanceRatio),scaledXWidth=lerpRanges(this.panZoom.scale,this.maxScale,this.minScale,left.width,left.width*this.extensionAllowanceRatio);return x>=top.x&&x<=top.x+top.width&&y>=top.y-scaledYHeight+top.height&&y<=top.y+top.height?ButtonDirection.TOP:x>=bottom.x&&x<=bottom.x+bottom.width&&y>=bottom.y&&y<=bottom.y+scaledYHeight?ButtonDirection.BOTTOM:x>=left.x-scaledXWidth+left.width&&x<=left.x+left.width&&y>=left.y&&y<=left.y+left.height?ButtonDirection.LEFT:x>=right.x&&x<=right.x+scaledXWidth&&y>=right.y&&y<=right.y+right.height?ButtonDirection.RIGHT:null}},{key:"scale",value:function scale(x,y){this.dataLayer.scale(x,y),this.gridLayer.scale(x,y),this.interactionLayer.scale(x,y),this.backgroundLayer.scale(x,y)}},{key:"setWidth",value:function setWidth(width,devicePixelRatio){this.width=width,this.dataLayer.setWidth(width,devicePixelRatio),this.gridLayer.setWidth(width,devicePixelRatio),this.interactionLayer.setWidth(width,devicePixelRatio),this.backgroundLayer.setWidth(width,devicePixelRatio)}},{key:"setHeight",value:function setHeight(height,devicePixelRatio){this.height=height,this.dataLayer.setHeight(height,devicePixelRatio),this.gridLayer.setHeight(height,devicePixelRatio),this.interactionLayer.setHeight(height,devicePixelRatio),this.backgroundLayer.setHeight(height,devicePixelRatio)}},{key:"getWidth",value:function getWidth(){return this.width}},{key:"getHeight",value:function getHeight(){return this.height}},{key:"getCanvasElement",value:function getCanvasElement(){return this.element}},{key:"setSize",value:function setSize(width,height,devicePixelRatio){this.setWidth(width,devicePixelRatio),this.setHeight(height,devicePixelRatio),this.setDpr(devicePixelRatio||this.dpr)}},{key:"setDpr",value:function setDpr(dpr){this.dpr=dpr,this.dataLayer.setDpr(dpr),this.gridLayer.setDpr(dpr),this.interactionLayer.setDpr(dpr)}},{key:"setPanZoom",value:function setPanZoom(_ref2){var offset=_ref2.offset,scale=_ref2.scale,baseColumnCount=_ref2.baseColumnCount,baseRowCount=_ref2.baseRowCount;if(scale&&(this.panZoom.scale=scale),offset){var correctedOffset=(0,objectSpread2.Z)({},offset),columnCount=baseColumnCount||this.dataLayer.getColumnCount(),rowCount=baseRowCount||this.dataLayer.getRowCount(),isGridRowsBiggerThanCanvas=rowCount*this.gridSquareLength*this.panZoom.scale>this.height,isGridColumnsBiggerThanCanvas=columnCount*this.gridSquareLength*this.panZoom.scale>this.width,minXPosition=isGridColumnsBiggerThanCanvas?this.width-columnCount*this.gridSquareLength*this.panZoom.scale-(this.width-columnCount*this.gridSquareLength)*this.panZoom.scale/2:-(this.width-columnCount*this.gridSquareLength)/2*this.panZoom.scale,minYPosition=isGridRowsBiggerThanCanvas?this.height-rowCount*this.gridSquareLength*this.panZoom.scale-(this.height-rowCount*this.gridSquareLength)*this.panZoom.scale/2:-(this.height-rowCount*this.gridSquareLength)/2*this.panZoom.scale,maxXPosition=isGridColumnsBiggerThanCanvas?-(this.width-columnCount*this.gridSquareLength)/2*this.panZoom.scale:this.width-columnCount*this.gridSquareLength*this.panZoom.scale-(this.width-columnCount*this.gridSquareLength)*this.panZoom.scale/2,maxYPosition=isGridRowsBiggerThanCanvas?rowCount*this.gridSquareLength*this.panZoom.scale/2-this.height/2*this.panZoom.scale:this.height-rowCount*this.gridSquareLength*this.panZoom.scale-(this.height-rowCount*this.gridSquareLength)*this.panZoom.scale/2;correctedOffset.x<minXPosition&&(correctedOffset.x=minXPosition),correctedOffset.y<minYPosition&&(correctedOffset.y=minYPosition),correctedOffset.x>maxXPosition&&(correctedOffset.x=maxXPosition),correctedOffset.y>maxYPosition&&(correctedOffset.y=maxYPosition),this.panZoom.offset=correctedOffset}this.dataLayer.setPanZoom(this.panZoom),this.gridLayer.setPanZoom(this.panZoom),this.interactionLayer.setPanZoom(this.panZoom),this.renderAll()}},{key:"extendInteractionGrid",value:function extendInteractionGrid(direction){var interactionLayer=this.interactionLayer;interactionLayer.extendCapturedData(direction);var interactionCapturedData=interactionLayer.getCapturedData(),baseRowCount=getRowCountFromData(interactionCapturedData),baseColumnCount=getColumnCountFromData(interactionCapturedData);direction===ButtonDirection.TOP?(this.setPanZoom({offset:{x:this.panZoom.offset.x,y:this.panZoom.offset.y-this.gridSquareLength/2*this.panZoom.scale},baseRowCount,baseColumnCount}),this.extensionPoint.lastMousePos.y-=this.gridSquareLength/2):direction===ButtonDirection.BOTTOM?(this.setPanZoom({offset:{x:this.panZoom.offset.x,y:this.panZoom.offset.y+this.gridSquareLength/2*this.panZoom.scale},baseRowCount,baseColumnCount}),this.extensionPoint.lastMousePos.y+=this.gridSquareLength/2):direction===ButtonDirection.LEFT?(this.setPanZoom({offset:{x:this.panZoom.offset.x-this.gridSquareLength/2*this.panZoom.scale,y:this.panZoom.offset.y},baseRowCount,baseColumnCount}),this.extensionPoint.lastMousePos.x-=this.gridSquareLength/2):direction===ButtonDirection.RIGHT&&(this.setPanZoom({offset:{x:this.panZoom.offset.x+this.gridSquareLength/2*this.panZoom.scale,y:this.panZoom.offset.y},baseRowCount,baseColumnCount}),this.extensionPoint.lastMousePos.x+=this.gridSquareLength/2)}},{key:"shortenInteractionGrid",value:function shortenInteractionGrid(direction){var interactionLayer=this.interactionLayer;if(interactionLayer.shortenCapturedData(direction)){var interactionCapturedData=interactionLayer.getCapturedData(),baseRowCount=getRowCountFromData(interactionCapturedData),baseColumnCount=getColumnCountFromData(interactionCapturedData);console.log("is shortened?"),direction===ButtonDirection.TOP?(this.setPanZoom({offset:{x:this.panZoom.offset.x,y:this.panZoom.offset.y+this.gridSquareLength/2*this.panZoom.scale},baseColumnCount,baseRowCount}),this.extensionPoint.lastMousePos.y+=this.gridSquareLength/2):direction===ButtonDirection.BOTTOM?(this.setPanZoom({offset:{x:this.panZoom.offset.x,y:this.panZoom.offset.y-this.gridSquareLength/2*this.panZoom.scale},baseColumnCount,baseRowCount}),this.extensionPoint.lastMousePos.y-=this.gridSquareLength/2):direction===ButtonDirection.LEFT?(this.setPanZoom({offset:{x:this.panZoom.offset.x+this.gridSquareLength/2*this.panZoom.scale,y:this.panZoom.offset.y},baseColumnCount,baseRowCount}),this.extensionPoint.lastMousePos.x+=this.gridSquareLength/2):direction===ButtonDirection.RIGHT&&(this.setPanZoom({offset:{x:this.panZoom.offset.x-this.gridSquareLength/2*this.panZoom.scale,y:this.panZoom.offset.y},baseColumnCount,baseRowCount}),this.extensionPoint.lastMousePos.x-=this.gridSquareLength/2)}}},{key:"handlePinchZoom",value:function handlePinchZoom(evt){if(this.isPanZoomable){var newPanZoom=function calculateNewPanZoomFromPinchZoom(evt,element,panZoom,zoomSensitivity,prevPinchZoomDiff,minScale,maxScale){if(evt.preventDefault(),window.TouchEvent&&evt instanceof TouchEvent){var touchCount=evt.touches.length;if(touchCount<2)return;for(var canvasTouchEventIndexes=[],i=0;i<touchCount;i++)evt.touches.item(i).target instanceof HTMLCanvasElement&&canvasTouchEventIndexes.push(i);if(2!==canvasTouchEventIndexes.length)return;var firstTouch=evt.touches[canvasTouchEventIndexes[0]],secondTouch=evt.touches[canvasTouchEventIndexes[1]],pinchZoomCurrentDiff=Math.abs(firstTouch.clientX-secondTouch.clientX)+Math.abs(firstTouch.clientY-secondTouch.clientY),firstTouchPoint=getPointFromTouch(firstTouch,element,panZoom),secondTouchPoint=getPointFromTouch(secondTouch,element,panZoom),touchCenterPos={x:(firstTouchPoint.offsetX+secondTouchPoint.offsetX)/2,y:(firstTouchPoint.offsetY+secondTouchPoint.offsetY)/2};if(!prevPinchZoomDiff)return{pinchZoomDiff:pinchZoomCurrentDiff,panZoom};var zoom=1-2*(prevPinchZoomDiff-pinchZoomCurrentDiff)/zoomSensitivity,newScale=panZoom.scale*zoom;if(minScale>newScale||newScale>maxScale)return;var scaleOffset=diffPoints(touchCenterPos,getScreenPoint(getWorldPoint(touchCenterPos,{scale:panZoom.scale,offset:panZoom.offset}),{scale:newScale,offset:panZoom.offset}));return{pinchZoomDiff:pinchZoomCurrentDiff,panZoom:{scale:newScale,offset:addPoints(panZoom.offset,scaleOffset)}}}return null}(evt,this.element,this.panZoom,this.zoomSensitivity,this.pinchZoomDiff,this.minScale,this.maxScale);newPanZoom&&(this.pinchZoomDiff=newPanZoom.pinchZoomDiff,this.setPanZoom(newPanZoom.panZoom))}}},{key:"drawPixelInInteractionLayer",value:function drawPixelInInteractionLayer(rowIndex,columnIndex){var interactionLayer=this.interactionLayer,data=this.dataLayer.getData();if(this.brushTool===types.G.ERASER){var _data$get,previousColor=null===(_data$get=data.get(rowIndex))||void 0===_data$get?void 0:_data$get.get(columnIndex).color;interactionLayer.addToErasedPixelRecords("current-device-user-id",{rowIndex,columnIndex,color:"",previousColor})}else if(this.brushTool===types.G.DOT){var _data$get2,_previousColor=null===(_data$get2=data.get(rowIndex))||void 0===_data$get2?void 0:_data$get2.get(columnIndex).color;interactionLayer.addToStrokePixelRecords("current-device-user-id",{rowIndex,columnIndex,color:this.brushColor,previousColor:_previousColor})}else if(this.brushTool===types.G.PAINT_BUCKET){var _data$get3,_data$get3$get,gridIndices=getGridIndicesFromData(data),initialSelectedColor=null===(_data$get3=data.get(rowIndex))||void 0===_data$get3||null===(_data$get3$get=_data$get3.get(columnIndex))||void 0===_data$get3$get?void 0:_data$get3$get.color;if(initialSelectedColor===this.brushColor)return;this.paintSameColorRegion(initialSelectedColor,gridIndices,{rowIndex,columnIndex})}this.renderInteractionLayer()}},{key:"relayDataDimensionsToLayers",value:function relayDataDimensionsToLayers(){var columnCount=getColumnCountFromData(this.dataLayer.getData());this.gridLayer.setColumnCount(columnCount),this.interactionLayer.setDataLayerColumnCount(columnCount);var rowCount=getRowCountFromData(this.dataLayer.getData());this.gridLayer.setRowCount(rowCount),this.interactionLayer.setDataLayerRowCount(rowCount)}},{key:"relayInteractionDataToDataLayer",value:function relayInteractionDataToDataLayer(){var interactionLayer=this.interactionLayer;if(this.isInteractionApplicable){var strokedPixelModifyItems=interactionLayer.getEffectiveStrokePixelChanges("current-device-user-id"),erasedPixelModifyItems=interactionLayer.getEffectiveEraserPixelChanges("current-device-user-id"),pixelModifyItems=[].concat((0,toConsumableArray.Z)(strokedPixelModifyItems),(0,toConsumableArray.Z)(erasedPixelModifyItems));0!==pixelModifyItems.length&&(this.dataLayer.colorPixels(pixelModifyItems),this.recordInteractionColorChangeAction(pixelModifyItems)),0!==strokedPixelModifyItems.length&&this.emit(types.v.STROKE_END,strokedPixelModifyItems,new Map(this.dataLayer.getData()));var capturedData=interactionLayer.getCapturedData();if(capturedData){var interactionGridIndices=getGridIndicesFromData(capturedData),dataGridIndices=this.interactionLayer.getCapturedDataOriginalIndices(),topRowDiff=interactionGridIndices.topRowIndex-dataGridIndices.topRowIndex,leftColumnDiff=interactionGridIndices.leftColumnIndex-dataGridIndices.leftColumnIndex,bottomRowDiff=interactionGridIndices.bottomRowIndex-dataGridIndices.bottomRowIndex,rightColumnDiff=interactionGridIndices.rightColumnIndex-dataGridIndices.rightColumnIndex,amount=0,direction=null,startIndex=0,isExtendingAction=!0;topRowDiff<0?(amount=-topRowDiff,this.dataLayer.extendGridBy(ButtonDirection.TOP,amount,dataGridIndices.topRowIndex),direction=ButtonDirection.TOP,startIndex=dataGridIndices.topRowIndex,isExtendingAction=!0):topRowDiff>0&&(amount=topRowDiff,this.dataLayer.shortenGridBy(ButtonDirection.TOP,amount,dataGridIndices.topRowIndex),direction=ButtonDirection.TOP,startIndex=dataGridIndices.topRowIndex,isExtendingAction=!1),leftColumnDiff<0?(amount=-leftColumnDiff,this.dataLayer.extendGridBy(ButtonDirection.LEFT,amount,dataGridIndices.leftColumnIndex),direction=ButtonDirection.LEFT,startIndex=dataGridIndices.leftColumnIndex,isExtendingAction=!0):leftColumnDiff>0&&(amount=leftColumnDiff,this.dataLayer.shortenGridBy(ButtonDirection.LEFT,amount,dataGridIndices.leftColumnIndex),direction=ButtonDirection.LEFT,startIndex=dataGridIndices.leftColumnIndex,isExtendingAction=!1),bottomRowDiff>0?(amount=bottomRowDiff,this.dataLayer.extendGridBy(ButtonDirection.BOTTOM,amount,dataGridIndices.bottomRowIndex),direction=ButtonDirection.BOTTOM,startIndex=dataGridIndices.bottomRowIndex,isExtendingAction=!0):bottomRowDiff<0&&(amount=-bottomRowDiff,this.dataLayer.shortenGridBy(ButtonDirection.BOTTOM,amount,dataGridIndices.bottomRowIndex),direction=ButtonDirection.BOTTOM,startIndex=dataGridIndices.bottomRowIndex,isExtendingAction=!1),rightColumnDiff>0?(amount=rightColumnDiff,this.dataLayer.extendGridBy(ButtonDirection.RIGHT,amount,dataGridIndices.rightColumnIndex),direction=ButtonDirection.RIGHT,startIndex=dataGridIndices.rightColumnIndex,isExtendingAction=!0):rightColumnDiff<0&&(amount=-rightColumnDiff,this.dataLayer.shortenGridBy(ButtonDirection.RIGHT,amount,dataGridIndices.rightColumnIndex),direction=ButtonDirection.RIGHT,startIndex=dataGridIndices.rightColumnIndex,isExtendingAction=!1),direction&&(this.recordInteractionSizeChangeAction(direction,this.dataLayer.getSwipedPixels(),isExtendingAction?amount:-amount,startIndex),this.dataLayer.resetSwipedPixels())}var updatedData=this.dataLayer.getCopiedData();this.emit(types.v.DATA_CHANGE,updatedData);var updatedColumnCount=getColumnCountFromData(updatedData),updatedDimensions={rowCount:getRowCountFromData(updatedData),columnCount:updatedColumnCount},updatedGridIndices=getGridIndicesFromData(updatedData);this.emit(types.v.GRID_CHANGE,updatedDimensions,updatedGridIndices),this.relayDataDimensionsToLayers(),interactionLayer.deleteErasedPixelRecord("current-device-user-id"),interactionLayer.deleteStrokePixelRecord("current-device-user-id"),this.dataLayer.setCriterionDataForRendering(this.dataLayer.getData()),this.interactionLayer.setCriterionDataForRendering(this.dataLayer.getData())}interactionLayer.resetCapturedData(),this.renderAll()}},{key:"recordInteractionSizeChangeAction",value:function recordInteractionSizeChangeAction(direction,deletedPixels,amount,startIndex){this.recordAction(new SizeChangeAction(deletedPixels,[{direction,amount,startIndex}]))}},{key:"recordInteractionColorChangeAction",value:function recordInteractionColorChangeAction(pixelModifyItems){this.recordAction(new ColorChangeAction(pixelModifyItems))}},{key:"commitAction",value:function commitAction(action){switch(action.getType()){case ActionType.ColorChange:var colorChangePixels=action.data;this.dataLayer.updatePixelColors(colorChangePixels);break;case ActionType.SizeChange:for(var sizeChangeAction=action,i=0;i<sizeChangeAction.changeAmounts.length;i++){var change=sizeChangeAction.changeAmounts[i];change.amount>0?this.dataLayer.extendGridBy(change.direction,change.amount,change.startIndex):this.dataLayer.shortenGridBy(change.direction,-change.amount,change.startIndex);var sizeChangePixels=sizeChangeAction.data;this.dataLayer.updatePixelColors(sizeChangePixels)}break;case ActionType.ColorSizeChange:for(var colorSizeChangeAction=action,_i=0;_i<colorSizeChangeAction.changeAmounts.length;_i++){var _change=colorSizeChangeAction.changeAmounts[_i];_change.amount>0?this.dataLayer.extendGridBy(_change.direction,_change.amount,_change.startIndex):this.dataLayer.shortenGridBy(_change.direction,_change.amount,_change.startIndex)}var colorSizeChangePixels=colorSizeChangeAction.data;this.dataLayer.updatePixelColors(colorSizeChangePixels)}}},{key:"recordAction",value:function recordAction(action){this.undoHistory.size()>=this.maxHistoryCount&&this.undoHistory.shift(),this.undoHistory.push(action),this.redoHistory.clear()}},{key:"undo",value:function undo(){if(!this.undoHistory.isEmpty()){var action=this.undoHistory.pop(),inverseAction=action.createInverseAction();this.commitAction(inverseAction),this.redoHistory.push(action);var rowCount=getRowCountFromData(this.dataLayer.getData()),columnCount=getColumnCountFromData(this.dataLayer.getData());this.gridLayer.setRowCount(rowCount),this.gridLayer.setColumnCount(columnCount),this.interactionLayer.setDataLayerRowCount(rowCount),this.interactionLayer.setDataLayerColumnCount(columnCount),this.dataLayer.setCriterionDataForRendering(this.dataLayer.getData()),this.interactionLayer.setCriterionDataForRendering(this.dataLayer.getData()),this.renderAll()}}},{key:"redo",value:function redo(){if(!this.redoHistory.isEmpty()){var action=this.redoHistory.pop();this.commitAction(action),this.undoHistory.push(action);var rowCount=getRowCountFromData(this.dataLayer.getData()),columnCount=getColumnCountFromData(this.dataLayer.getData());this.gridLayer.setRowCount(rowCount),this.gridLayer.setColumnCount(columnCount),this.interactionLayer.setDataLayerRowCount(rowCount),this.interactionLayer.setDataLayerColumnCount(columnCount),this.dataLayer.setCriterionDataForRendering(this.dataLayer.getData()),this.interactionLayer.setCriterionDataForRendering(this.dataLayer.getData()),this.renderAll()}}},{key:"erasePixels",value:function erasePixels(data){var dataForAction=this.dataLayer.erasePixels(data).dataForAction;null!==this.interactionLayer.getCapturedData()&&this.interactionLayer.erasePixels(data),this.recordAction(new ColorChangeAction(dataForAction)),this.emit(types.v.DATA_CHANGE,this.dataLayer.getCopiedData()),this.renderAll()}},{key:"colorPixels",value:function colorPixels(data){var _this$dataLayer$color=this.dataLayer.colorPixels(data),changeAmounts=_this$dataLayer$color.changeAmounts,dataForAction=_this$dataLayer$color.dataForAction;null!==this.interactionLayer.getCapturedData()?(this.interactionLayer.colorPixels(data),this.interactionLayer.setCriterionDataForRendering(this.interactionLayer.getCapturedData())):this.interactionLayer.setCriterionDataForRendering(this.dataLayer.getData()),this.relayDataDimensionsToLayers(),this.recordAction(new ColorSizeChangeAction(dataForAction,changeAmounts)),this.emit(types.v.DATA_CHANGE,this.dataLayer.getCopiedData()),this.dataLayer.setCriterionDataForRendering(this.dataLayer.getData()),this.renderAll()}},{key:"paintSameColorRegion",value:function paintSameColorRegion(initialColor,gridIndices,currentIndices){var interactionLayer=this.interactionLayer,indicesQueue=new Queue;indicesQueue.enqueue(currentIndices),interactionLayer.setCapturedData(this.dataLayer.getCopiedData());for(var data=this.interactionLayer.getCapturedData();indicesQueue.size()>0;){var _data$get4,_ref3=indicesQueue.dequeue(),rowIndex=_ref3.rowIndex,columnIndex=_ref3.columnIndex;if(isValidIndicesRange(rowIndex,columnIndex,gridIndices)){var currentPixel=null===(_data$get4=data.get(rowIndex))||void 0===_data$get4?void 0:_data$get4.get(columnIndex);if(currentPixel&&(null==currentPixel?void 0:currentPixel.color)===initialColor){var color=this.brushColor,previousColor=data.get(rowIndex).get(columnIndex).color;data.get(rowIndex).get(columnIndex).color=color,interactionLayer.addToStrokePixelRecords("current-device-user-id",{rowIndex,columnIndex,color,previousColor}),[{rowIndex:rowIndex-1,columnIndex},{rowIndex:rowIndex+1,columnIndex},{rowIndex,columnIndex:columnIndex-1},{rowIndex,columnIndex:columnIndex+1}].forEach((function(_ref4){var rowIndex=_ref4.rowIndex,columnIndex=_ref4.columnIndex;indicesQueue.enqueue({rowIndex,columnIndex})}))}}}interactionLayer.resetCapturedData()}},{key:"onMouseDown",value:function onMouseDown(evt){evt.preventDefault();var point=getPointFromTouchyEvent(evt,this.element,this.panZoom);this.panPoint.lastMousePos={x:point.offsetX,y:point.offsetY},this.interactionLayer.setHoveredPixel(null);var mouseCartCoord=getMouseCartCoord(evt,this.element,this.panZoom,this.dpr),gridIndices=this.dataLayer.getGridIndices(),pixelIndex=getPixelIndexFromMouseCartCoord(mouseCartCoord,this.getRowCount(),this.getColumnCount(),this.gridSquareLength,gridIndices.topRowIndex,gridIndices.leftColumnIndex);if(pixelIndex&&(this.emit(types.v.HOVER_PIXEL_CHANGE,null),this.drawPixelInInteractionLayer(pixelIndex.rowIndex,pixelIndex.columnIndex),this.renderInteractionLayer(),this.renderErasedPixelsFromInteractionLayerInDataLayer()),this.mouseMode=pixelIndex?MouseMode.DRAWING:MouseMode.PANNING,!this.gridLayer.getIsGridFixed()){var buttonDirection=this.detectButtonClicked(mouseCartCoord);buttonDirection&&(this.extensionPoint.lastMousePos={x:mouseCartCoord.x,y:mouseCartCoord.y},this.extensionPoint.direction=buttonDirection,this.mouseMode=MouseMode.EXTENDING,touchy(this.element,addEvent,"mousemove",this.handleExtension))}this.mouseMode===MouseMode.PANNING&&(touchy(this.element,addEvent,"mousemove",this.handlePanning),touchy(this.element,addEvent,"mousemove",this.handlePinchZoom))}},{key:"onMouseMove",value:function onMouseMove(evt){evt.preventDefault();var mouseCartCoord=getMouseCartCoord(evt,this.element,this.panZoom,this.dpr),gridIndices=this.dataLayer.getGridIndices(),pixelIndex=getPixelIndexFromMouseCartCoord(mouseCartCoord,this.getRowCount(),this.getColumnCount(),this.gridSquareLength,gridIndices.topRowIndex,gridIndices.leftColumnIndex),hoveredPixel=this.interactionLayer.getHoveredPixel();pixelIndex?this.mouseMode===MouseMode.DRAWING?(this.drawPixelInInteractionLayer(pixelIndex.rowIndex,pixelIndex.columnIndex),this.renderInteractionLayer(),this.brushTool===types.G.ERASER&&this.renderErasedPixelsFromInteractionLayerInDataLayer()):(hoveredPixel&&hoveredPixel.rowIndex===pixelIndex.rowIndex&&hoveredPixel.columnIndex===pixelIndex.columnIndex||this.emit(types.v.HOVER_PIXEL_CHANGE,pixelIndex),this.interactionLayer.setHoveredPixel({rowIndex:pixelIndex.rowIndex,columnIndex:pixelIndex.columnIndex,color:this.brushTool!==types.G.ERASER?this.brushColor:"white"}),this.renderInteractionLayer()):null!==hoveredPixel&&(this.emit(types.v.HOVER_PIXEL_CHANGE,null),this.interactionLayer.setHoveredPixel(null),this.renderInteractionLayer());var buttonDirection=this.detectButtonClicked(mouseCartCoord);if(buttonDirection)return this.gridLayer.setHoveredButton(buttonDirection),void this.renderGridLayer();this.mouseMode!==MouseMode.EXTENDING&&(this.gridLayer.setHoveredButton(null),this.renderGridLayer())}},{key:"onMouseUp",value:function onMouseUp(evt){evt.preventDefault(),this.relayInteractionDataToDataLayer(),this.mouseMode=MouseMode.PANNING,touchy(this.element,removeEvent,"mousemove",this.handlePanning),touchy(this.element,removeEvent,"mousemove",this.handlePinchZoom),touchy(this.element,removeEvent,"mousemove",this.handleExtension),this.pinchZoomDiff=void 0,this.gridLayer.setHoveredButton(null)}},{key:"onMouseOut",value:function onMouseOut(evt){evt.preventDefault(),this.relayInteractionDataToDataLayer(),touchy(this.element,removeEvent,"mousemove",this.handlePanning),touchy(this.element,removeEvent,"mousemove",this.handlePinchZoom),touchy(this.element,removeEvent,"mousemove",this.handleExtension),null!==this.gridLayer.getHoveredButton()&&this.emit(types.v.HOVER_PIXEL_CHANGE,null),this.gridLayer.setHoveredButton(null)}},{key:"removePanListeners",value:function removePanListeners(){touchy(this.element,removeEvent,"mousemove",this.handlePanning),touchy(this.element,removeEvent,"mousemove",this.handlePinchZoom)}},{key:"renderGridLayer",value:function renderGridLayer(){this.gridLayer.render()}},{key:"clear",value:function clear(){var rowKeys=getRowKeysFromData(this.dataLayer.getData()),columnKeys=getColumnKeysFromData(this.dataLayer.getData());this.dataLayer.setData(new Map);var _step,data=this.dataLayer.getData(),_iterator=(0,createForOfIteratorHelper.Z)(rowKeys);try{for(_iterator.s();!(_step=_iterator.n()).done;){var i=_step.value;data.set(i,new Map);var _step2,_iterator2=(0,createForOfIteratorHelper.Z)(columnKeys);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var j=_step2.value;data.get(i).set(j,{color:""})}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}catch(err){_iterator.e(err)}finally{_iterator.f()}this.renderDataLayer()}},{key:"downloadImage",value:function downloadImage(props){var data=this.dataLayer.getData(),imageCanvas=document.createElement("canvas"),columnCount=this.getColumnCount(),rowCount=this.getRowCount();imageCanvas.width=columnCount*this.gridSquareLength,imageCanvas.height=rowCount*this.gridSquareLength;var _step3,imageContext=imageCanvas.getContext("2d"),allRowKeys=getRowKeysFromData(data),allColumnKeys=getColumnKeysFromData(data),rowKeyOrderMap=createRowKeyOrderMapfromData(data),columnKeyOrderMap=createColumnKeyOrderMapfromData(data),_iterator3=(0,createForOfIteratorHelper.Z)(allRowKeys);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _step4,i=_step3.value,_iterator4=(0,createForOfIteratorHelper.Z)(allColumnKeys);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _j=_step4.value,rowIndex=i,columnIndex=_j,relativeRowIndex=rowKeyOrderMap.get(rowIndex),relativeColumnIndex=columnKeyOrderMap.get(columnIndex),pixel=data.get(rowIndex).get(columnIndex);if(pixel&&pixel.color){var pixelCoord={x:relativeColumnIndex*this.gridSquareLength,y:relativeRowIndex*this.gridSquareLength};imageContext.save(),imageContext.fillStyle=pixel.color,imageContext.fillRect(pixelCoord.x,pixelCoord.y,this.gridSquareLength,this.gridSquareLength),imageContext.restore()}}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}if(imageContext.save(),imageContext.strokeStyle="#000000",imageContext.lineWidth=1,props&&props.isGridVisible){for(var _i2=0;_i2<=this.getColumnCount();_i2++)imageContext.beginPath(),imageContext.moveTo(_i2*this.gridSquareLength,0),imageContext.lineTo(_i2*this.gridSquareLength,rowCount*this.gridSquareLength),imageContext.stroke(),imageContext.closePath();for(var j=0;j<=this.getRowCount();j++)imageContext.beginPath(),imageContext.moveTo(0,j*this.gridSquareLength),imageContext.lineTo(columnCount*this.gridSquareLength,j*this.gridSquareLength),imageContext.stroke(),imageContext.closePath()}imageContext.restore()}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}var anchor=document.createElement("a");anchor.href=imageCanvas.toDataURL("image/png"),anchor.download="dotting.png",anchor.click()}},{key:"renderAll",value:function renderAll(){this.renderBackgroundLayer();var capturedData=this.interactionLayer.getCapturedData();if(capturedData){var rowCount=getRowCountFromData(capturedData),columnCount=getColumnCountFromData(capturedData);this.gridLayer.setRowCount(rowCount),this.gridLayer.setColumnCount(columnCount)}else this.renderDataLayer(),this.renderErasedPixelsFromInteractionLayerInDataLayer();this.renderInteractionLayer(),this.renderGridLayer()}},{key:"renderErasedPixelsFromInteractionLayerInDataLayer",value:function renderErasedPixelsFromInteractionLayerInDataLayer(){var erasedPixelsInInteractionLayer=this.interactionLayer.getAllErasedPixels();if(erasedPixelsInInteractionLayer.length>0){var _step5,ctx=this.dataLayer.getContext(),squareLength=this.gridSquareLength*this.panZoom.scale,leftTopPoint={x:-this.dataLayer.getColumnCount()/2*this.gridSquareLength,y:-this.dataLayer.getRowCount()/2*this.gridSquareLength},correctedLeftTopScreenPoint=getScreenPoint(convertCartesianToScreen(this.element,leftTopPoint,this.dpr),this.panZoom),_iterator5=(0,createForOfIteratorHelper.Z)(erasedPixelsInInteractionLayer);try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _this$dataLayer$getDa,_this$dataLayer$getDa2,pixel=_step5.value,rowIndex=pixel.rowIndex,columnIndex=pixel.columnIndex,relativeRowIndex=this.dataLayer.getRowKeyOrderMap().get(rowIndex),relativeColumnIndex=this.dataLayer.getColumnKeyOrderMap().get(columnIndex);if(void 0!==relativeColumnIndex&&void 0!==relativeRowIndex)(null===(_this$dataLayer$getDa=this.dataLayer.getData().get(rowIndex))||void 0===_this$dataLayer$getDa||null===(_this$dataLayer$getDa2=_this$dataLayer$getDa.get(columnIndex))||void 0===_this$dataLayer$getDa2?void 0:_this$dataLayer$getDa2.color)&&ctx.clearRect(relativeColumnIndex*squareLength+correctedLeftTopScreenPoint.x,relativeRowIndex*squareLength+correctedLeftTopScreenPoint.y,squareLength,squareLength)}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}}}},{key:"renderDataLayer",value:function renderDataLayer(){this.dataLayer.render()}},{key:"renderInteractionLayer",value:function renderInteractionLayer(){this.interactionLayer.render()}},{key:"renderBackgroundLayer",value:function renderBackgroundLayer(){this.backgroundLayer.render()}},{key:"destroy",value:function destroy(){touchy(this.element,removeEvent,"mouseup",this.onMouseUp),touchy(this.element,removeEvent,"mouseout",this.onMouseOut),touchy(this.element,removeEvent,"mousedown",this.onMouseDown),touchy(this.element,removeEvent,"mousemove",this.onMouseMove),touchy(this.element,removeEvent,"mousemove",this.handlePanning),touchy(this.element,removeEvent,"mousemove",this.handlePinchZoom),this.element.removeEventListener("wheel",this.handleWheel)}}]),Editor}(EventDispatcher),Dotting=(0,react.forwardRef)((function Dotting(props,ref){var containerRef=(0,react.useRef)(null),_useState=(0,react.useState)(null),_useState2=(0,slicedToArray.Z)(_useState,2),gridCanvas=_useState2[0],setGridCanvas=_useState2[1],_useState3=(0,react.useState)(null),_useState4=(0,slicedToArray.Z)(_useState3,2),dataCanvas=_useState4[0],setDataCanvas=_useState4[1],_useState5=(0,react.useState)(null),_useState6=(0,slicedToArray.Z)(_useState5,2),interactionCanvas=_useState6[0],setInteractionCanvas=_useState6[1],_useState7=(0,react.useState)(null),_useState8=(0,slicedToArray.Z)(_useState7,2),backgroundCanvas=_useState8[0],setBackgroundCanvas=_useState8[1],_useState9=(0,react.useState)(null),_useState10=(0,slicedToArray.Z)(_useState9,2),editor=_useState10[0],setEditor=_useState10[1],_useState11=(0,react.useState)([]),_useState12=(0,slicedToArray.Z)(_useState11,2),dataChangeListeners=_useState12[0],setDataChangeListeners=_useState12[1],_useState13=(0,react.useState)([]),_useState14=(0,slicedToArray.Z)(_useState13,2),gridChangeListeners=_useState14[0],setGridChangeListeners=_useState14[1],_useState15=(0,react.useState)([]),_useState16=(0,slicedToArray.Z)(_useState15,2),strokeEndListeners=_useState16[0],setStrokeEndListeners=_useState16[1],_useState17=(0,react.useState)([]),_useState18=(0,slicedToArray.Z)(_useState17,2),brushChangeListeners=_useState18[0],setBrushChangeListeners=_useState18[1],_useState19=(0,react.useState)([]),_useState20=(0,slicedToArray.Z)(_useState19,2),hoverPixelChangeListeners=_useState20[0],setHoverPixelChangeListeners=_useState20[1],_useState21=(0,react.useState)([]),_useState22=(0,slicedToArray.Z)(_useState21,2),canvasElementEventListeners=_useState22[0],setCanvasElementEventListeners=_useState22[1];(0,react.useEffect)((function(){editor&&editor.setIsGridFixed(props.isGridFixed)}),[editor,props.isGridFixed]),(0,react.useEffect)((function(){editor&&editor.setGridStrokeColor(props.gridStrokeColor)}),[editor,props.gridStrokeColor]),(0,react.useEffect)((function(){editor&&editor.setGridStrokeWidth(props.gridStrokeWidth)}),[editor,props.gridStrokeWidth]),(0,react.useEffect)((function(){editor&&editor.setIsGridVisible(props.isGridVisible)}),[editor,props.isGridVisible]),(0,react.useEffect)((function(){editor&&editor.setIsPanZoomable(props.isPanZoomable)}),[editor,props.isPanZoomable]),(0,react.useEffect)((function(){if(editor)return gridChangeListeners.forEach((function(listener){editor.addEventListener(types.v.GRID_CHANGE,listener)})),editor.emitGridEvent(),function(){gridChangeListeners.forEach((function(listener){null==editor||editor.removeEventListener(types.v.GRID_CHANGE,listener)}))}}),[editor,gridChangeListeners]),(0,react.useEffect)((function(){if(editor)return dataChangeListeners.forEach((function(listener){editor.addEventListener(types.v.DATA_CHANGE,listener)})),editor.emitDataEvent(),function(){dataChangeListeners.forEach((function(listener){null==editor||editor.removeEventListener(types.v.DATA_CHANGE,listener)}))}}),[editor,dataChangeListeners]),(0,react.useEffect)((function(){if(editor)return brushChangeListeners.forEach((function(listener){editor.addEventListener(types.v.BRUSH_CHANGE,listener)})),editor.emitBrushChangeEvent(),function(){brushChangeListeners.forEach((function(listener){null==editor||editor.removeEventListener(types.v.BRUSH_CHANGE,listener)}))}}),[editor,brushChangeListeners]),(0,react.useEffect)((function(){if(editor)return strokeEndListeners.forEach((function(listener){editor.addEventListener(types.v.STROKE_END,listener)})),function(){strokeEndListeners.forEach((function(listener){null==editor||editor.removeEventListener(types.v.STROKE_END,listener)}))}}),[editor,strokeEndListeners]),(0,react.useEffect)((function(){if(editor)return hoverPixelChangeListeners.forEach((function(listener){editor.addEventListener(types.v.HOVER_PIXEL_CHANGE,listener)})),editor.emitHoverPixelChangeEvent(),function(){hoverPixelChangeListeners.forEach((function(listener){null==editor||editor.removeEventListener(types.v.HOVER_PIXEL_CHANGE,listener)}))}}),[editor,hoverPixelChangeListeners]),(0,react.useEffect)((function(){if(editor)return canvasElementEventListeners.forEach((function(_ref){var type=_ref.type,listener=_ref.listener;editor.getCanvasElement().addEventListener(type,listener)})),function(){canvasElementEventListeners.forEach((function(_ref2){var type=_ref2.type,listener=_ref2.listener;editor.getCanvasElement().removeEventListener(type,listener)}))}}),[editor,canvasElementEventListeners]),(0,react.useEffect)((function(){var onResize=function onResize(){if(containerRef.current&&editor){var dpr=window.devicePixelRatio,rect=containerRef.current.getBoundingClientRect();editor.setSize(rect.width,rect.height,dpr),editor.scale(dpr,dpr),editor.renderAll()}};return onResize(),window.addEventListener("resize",onResize),function(){window.removeEventListener("resize",onResize)}}),[editor,containerRef,props.height,props.width]),(0,react.useEffect)((function(){if(gridCanvas&&interactionCanvas&&dataCanvas&&backgroundCanvas){var editor=new Editor({gridCanvas,interactionCanvas,dataCanvas,backgroundCanvas,initData:props.initData});return editor.setIsGridFixed(props.isGridFixed),editor.setBackgroundAlpha(props.backgroundAlpha),editor.setBackgroundMode(props.backgroundMode),editor.setIsPanZoomable(props.isPanZoomable),editor.setIsGridVisible(props.isGridVisible),editor.setGridStrokeColor(props.gridStrokeColor),editor.setGridStrokeWidth(props.gridStrokeWidth),editor.setBrushColor(props.initBrushColor),editor.setIndicatorPixels(props.initIndicatorData),setEditor(editor),function(){editor.destroy()}}}),[gridCanvas,interactionCanvas,dataCanvas,backgroundCanvas]);var gotGridCanvasRef=(0,react.useCallback)((function(element){element&&(element.style.touchAction="none",setGridCanvas(element))}),[]),gotInteractionCanvasRef=(0,react.useCallback)((function(element){element&&(element.style.touchAction="none",setInteractionCanvas(element))}),[]),gotDataCanvasRef=(0,react.useCallback)((function(element){element&&(element.style.touchAction="none",setDataCanvas(element))}),[]),gotBackgroundCanvasRef=(0,react.useCallback)((function(element){element&&(element.style.touchAction="none",setBackgroundCanvas(element))}),[]),addDataChangeListener=(0,react.useCallback)((function(listener){setDataChangeListeners((function(listeners){return[].concat((0,toConsumableArray.Z)(listeners),[listener])}))}),[]),removeDataChangeListener=(0,react.useCallback)((function(listener){editor.removeEventListener(types.v.DATA_CHANGE,listener),setDataChangeListeners((function(listeners){return listeners.filter((function(l){return l!==listener}))}))}),[editor]),addGridChangeListener=(0,react.useCallback)((function(listener){setGridChangeListeners((function(listeners){return[].concat((0,toConsumableArray.Z)(listeners),[listener])}))}),[]),removeGridChangeListener=(0,react.useCallback)((function(listener){editor.removeEventListener(types.v.GRID_CHANGE,listener),setGridChangeListeners((function(listeners){return listeners.filter((function(l){return l!==listener}))}))}),[editor]),addBrushChangeListener=(0,react.useCallback)((function(listener){setBrushChangeListeners((function(listeners){return[].concat((0,toConsumableArray.Z)(listeners),[listener])}))}),[]),removeBrushChangeListener=(0,react.useCallback)((function(listener){editor.removeEventListener(types.v.BRUSH_CHANGE,listener),setBrushChangeListeners((function(listeners){return listeners.filter((function(l){return l!==listener}))}))}),[editor]),addStrokeEndListener=(0,react.useCallback)((function(listener){setStrokeEndListeners((function(listeners){return[].concat((0,toConsumableArray.Z)(listeners),[listener])}))}),[]),removeStrokeEndListener=(0,react.useCallback)((function(listener){editor.removeEventListener(types.v.STROKE_END,listener),setStrokeEndListeners((function(listeners){return listeners.filter((function(l){return l!==listener}))}))}),[editor]),addHoverPixelChangeListener=(0,react.useCallback)((function(listener){setHoverPixelChangeListeners((function(listeners){return[].concat((0,toConsumableArray.Z)(listeners),[listener])}))}),[]),removeHoverPixelChangeListener=(0,react.useCallback)((function(listener){editor.removeEventListener(types.v.HOVER_PIXEL_CHANGE,listener),setHoverPixelChangeListeners((function(listeners){return listeners.filter((function(l){return l!==listener}))}))}),[editor]),addCanvasElementEventListener=(0,react.useCallback)((function(type,listener){setCanvasElementEventListeners((function(listeners){return[].concat((0,toConsumableArray.Z)(listeners),[{type,listener}])}))}),[editor]),removeCanvasElementEventListener=(0,react.useCallback)((function(type,listener){editor&&(editor.getCanvasElement().removeEventListener(type,listener),setCanvasElementEventListeners((function(listeners){return listeners.filter((function(l){return l.type!==type&&l.listener!==listener}))})))}),[editor]),clear=(0,react.useCallback)((function(){return null==editor?void 0:editor.clear()}),[editor]),colorPixels=(0,react.useCallback)((function(changes){null==editor||editor.colorPixels(changes)}),[editor]),erasePixels=(0,react.useCallback)((function(changes){null==editor||editor.erasePixels(changes)}),[editor]),setIndicatorPixels=(0,react.useCallback)((function(indicators){null==editor||editor.setIndicatorPixels(indicators)}),[editor]),downloadImage=(0,react.useCallback)((function(options){null==editor||editor.downloadImage(options)}),[editor]),changeBrushColor=(0,react.useCallback)((function(color){null==editor||editor.changeBrushColor(color)}),[editor]),changeBrushTool=(0,react.useCallback)((function(brushTool){null==editor||editor.setBrushTool(brushTool)}),[editor]),undo=(0,react.useCallback)((function(){null==editor||editor.undo()}),[editor]),redo=(0,react.useCallback)((function(){null==editor||editor.redo()}),[editor]);return(0,react.useImperativeHandle)(ref,(function(){return{clear,colorPixels,erasePixels,downloadImage,setIndicatorPixels,undo,redo,changeBrushColor,changeBrushTool,addDataChangeListener,removeDataChangeListener,addGridChangeListener,removeGridChangeListener,addBrushChangeListener,removeBrushChangeListener,addStrokeEndListener,removeStrokeEndListener,addHoverPixelChangeListener,removeHoverPixelChangeListener,addCanvasElementEventListener,removeCanvasElementEventListener}}),[clear,colorPixels,erasePixels,downloadImage,setIndicatorPixels,undo,redo,changeBrushColor,changeBrushTool,addDataChangeListener,removeDataChangeListener,addGridChangeListener,removeGridChangeListener,addBrushChangeListener,removeBrushChangeListener,addStrokeEndListener,removeStrokeEndListener,addHoverPixelChangeListener,removeHoverPixelChangeListener,addCanvasElementEventListener,removeCanvasElementEventListener]),react.createElement("div",{style:{width:props.width,height:props.height,position:"relative"},ref:containerRef},react.createElement("canvas",{ref:gotBackgroundCanvasRef,style:(0,objectSpread2.Z)({position:"absolute",border:"1px solid #555555"},props.style)}),react.createElement("canvas",{ref:gotDataCanvasRef,style:(0,objectSpread2.Z)({position:"absolute",pointerEvents:"none",border:"1px solid #555555"},props.style)}),react.createElement("canvas",{ref:gotInteractionCanvasRef,style:(0,objectSpread2.Z)({position:"absolute",border:"1px solid #555555"},props.style)}),react.createElement("canvas",{ref:gotGridCanvasRef,style:(0,objectSpread2.Z)({position:"absolute",pointerEvents:"none",border:"1px solid #555555"},props.style)}))}));const components_Dotting=Dotting;try{Dotting.displayName="Dotting",Dotting.__docgenInfo={description:"",displayName:"Dotting",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"string | number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"string | number"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"React.CSSProperties"}},gridStrokeColor:{defaultValue:null,description:"",name:"gridStrokeColor",required:!1,type:{name:"string"}},gridStrokeWidth:{defaultValue:null,description:"",name:"gridStrokeWidth",required:!1,type:{name:"number"}},isGridVisible:{defaultValue:null,description:"",name:"isGridVisible",required:!1,type:{name:"boolean"}},backgroundMode:{defaultValue:null,description:"",name:"backgroundMode",required:!1,type:{name:'"checkerboard" | "color"'}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!1,type:{name:"React.CSSProperties"}},backgroundAlpha:{defaultValue:null,description:"",name:"backgroundAlpha",required:!1,type:{name:"number"}},initData:{defaultValue:null,description:"",name:"initData",required:!1,type:{name:"PixelData[][]"}},initIndicatorData:{defaultValue:null,description:"",name:"initIndicatorData",required:!1,type:{name:"PixelModifyItem[]"}},isPanZoomable:{defaultValue:null,description:"",name:"isPanZoomable",required:!1,type:{name:"boolean"}},isGridFixed:{defaultValue:null,description:"",name:"isGridFixed",required:!1,type:{name:"boolean"}},initBrushColor:{defaultValue:null,description:"",name:"initBrushColor",required:!1,type:{name:"string"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<DottingRef>"}},key:{defaultValue:null,description:"",name:"key",required:!1,type:{name:"Key"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Dotting.tsx#Dotting"]={docgenInfo:Dotting.__docgenInfo,name:"Dotting",path:"src/components/Dotting.tsx#Dotting"})}catch(__react_docgen_typescript_loader_error){}},"./src/hooks/useBrush.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_dotting_dotting_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_useHandlers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/hooks/useHandlers.ts"),_components_Canvas_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Canvas/types.ts");const __WEBPACK_DEFAULT_EXPORT__=function useBrush(ref){var _useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(_components_Canvas_types__WEBPACK_IMPORTED_MODULE_2__.G.DOT),_useState2=(0,_home_runner_work_dotting_dotting_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.Z)(_useState,2),brushTool=_useState2[0],setBrushTool=_useState2[1],_useState3=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),_useState4=(0,_home_runner_work_dotting_dotting_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.Z)(_useState3,2),brushColor=_useState4[0],setBrushColor=_useState4[1],_useHandlers=(0,_useHandlers__WEBPACK_IMPORTED_MODULE_1__.Z)(ref),addBrushChangeListener=_useHandlers.addBrushChangeListener,removeBrushChangeListener=_useHandlers.removeBrushChangeListener;(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var listener=function listener(brushColor,brushMode){setBrushTool(brushMode),setBrushColor(brushColor)};return addBrushChangeListener(listener),function(){removeBrushChangeListener(listener)}}),[addBrushChangeListener,removeBrushChangeListener]);var changeBrushColor=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(brushColor){var _ref$current;null===(_ref$current=ref.current)||void 0===_ref$current||_ref$current.changeBrushColor(brushColor)}),[ref]);return{changeBrushColor,changeBrushTool:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(brushMode){var _ref$current2;null===(_ref$current2=ref.current)||void 0===_ref$current2||_ref$current2.changeBrushTool(brushMode)}),[ref]),brushTool,brushColor}}},"./src/hooks/useData.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var _home_runner_work_dotting_dotting_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/index.js"),_useHandlers__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/hooks/useHandlers.ts");const __WEBPACK_DEFAULT_EXPORT__=function useData(ref){var _useHandlers=(0,_useHandlers__WEBPACK_IMPORTED_MODULE_7__.Z)(ref),addDataChangeListener=_useHandlers.addDataChangeListener,removeDataChangeListener=_useHandlers.removeDataChangeListener,_useState=(0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(new Map),_useState2=(0,_home_runner_work_dotting_dotting_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_8__.Z)(_useState,2),data=_useState2[0],setData=_useState2[1],_useState3=(0,react__WEBPACK_IMPORTED_MODULE_6__.useState)([]),_useState4=(0,_home_runner_work_dotting_dotting_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_8__.Z)(_useState3,2),dataArray=_useState4[0],setDataArray=_useState4[1];return(0,react__WEBPACK_IMPORTED_MODULE_6__.useEffect)((function(){var listener=function listener(canvasData){setData(canvasData);for(var allRowKeys=Array.from(canvasData.keys()),allColumnKeys=Array.from(canvasData.get(allRowKeys[0]).keys()),currentTopIndex=Math.min.apply(Math,allRowKeys),currentLeftIndex=Math.min.apply(Math,allColumnKeys),currentBottomIndex=Math.max.apply(Math,allRowKeys),currentRightIndex=Math.max.apply(Math,allColumnKeys),tempArray=[],i=currentTopIndex;i<=currentBottomIndex;i++){for(var row=[],j=currentLeftIndex;j<=currentRightIndex;j++){var _canvasData$get,pixel=null===(_canvasData$get=canvasData.get(i))||void 0===_canvasData$get?void 0:_canvasData$get.get(j);pixel&&row.push({rowIndex:i,columnIndex:j,color:pixel.color})}tempArray.push(row)}setDataArray(tempArray)};return addDataChangeListener(listener),function(){removeDataChangeListener(listener)}}),[addDataChangeListener,removeDataChangeListener]),{data,dataArray}}},"./src/hooks/useDotting.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=function useDotting(ref){return{clear:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){var _ref$current;null===(_ref$current=ref.current)||void 0===_ref$current||_ref$current.clear()}),[ref]),colorPixels:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(changes){var _ref$current2;null===(_ref$current2=ref.current)||void 0===_ref$current2||_ref$current2.colorPixels(changes)}),[ref]),erasePixels:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(changes){var _ref$current3;null===(_ref$current3=ref.current)||void 0===_ref$current3||_ref$current3.erasePixels(changes)}),[ref]),downloadImage:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(options){var _ref$current4;null===(_ref$current4=ref.current)||void 0===_ref$current4||_ref$current4.downloadImage(options)}),[ref]),setIndicatorPixels:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(indicators){var _ref$current5;null===(_ref$current5=ref.current)||void 0===_ref$current5||_ref$current5.setIndicatorPixels(indicators)}),[ref]),undo:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){var _ref$current6;null===(_ref$current6=ref.current)||void 0===_ref$current6||_ref$current6.undo()}),[ref]),redo:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){var _ref$current7;null===(_ref$current7=ref.current)||void 0===_ref$current7||_ref$current7.redo()}),[ref])}}},"./src/hooks/useGrids.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_dotting_dotting_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_useHandlers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/hooks/useHandlers.ts");const __WEBPACK_DEFAULT_EXPORT__=function useGrids(ref){var _useHandlers=(0,_useHandlers__WEBPACK_IMPORTED_MODULE_1__.Z)(ref),addGridChangeListener=_useHandlers.addGridChangeListener,removeGridChangeListener=_useHandlers.removeGridChangeListener,_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({columnCount:0,rowCount:0}),_useState2=(0,_home_runner_work_dotting_dotting_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_useState,2),dimensions=_useState2[0],setDimensions=_useState2[1],_useState3=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({topRowIndex:0,bottomRowIndex:0,leftColumnIndex:0,rightColumnIndex:0}),_useState4=(0,_home_runner_work_dotting_dotting_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_useState3,2),indices=_useState4[0],setIndices=_useState4[1];return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var listener=function listener(dimensions,indices){setDimensions({columnCount:dimensions.columnCount,rowCount:dimensions.rowCount}),setIndices({topRowIndex:indices.topRowIndex,bottomRowIndex:indices.bottomRowIndex,leftColumnIndex:indices.leftColumnIndex,rightColumnIndex:indices.rightColumnIndex})};return addGridChangeListener(listener),function(){removeGridChangeListener(listener)}}),[addGridChangeListener,removeGridChangeListener]),{dimensions,indices}}},"./src/hooks/useHandlers.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=function useHandlers(ref){return{addDataChangeListener:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(listener){var _ref$current;null===(_ref$current=ref.current)||void 0===_ref$current||_ref$current.addDataChangeListener(listener)}),[ref]),removeDataChangeListener:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(listener){var _ref$current2;null===(_ref$current2=ref.current)||void 0===_ref$current2||_ref$current2.removeDataChangeListener(listener)}),[ref]),addGridChangeListener:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(listener){var _ref$current3;null===(_ref$current3=ref.current)||void 0===_ref$current3||_ref$current3.addGridChangeListener(listener)}),[ref]),removeGridChangeListener:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(listener){var _ref$current4;null===(_ref$current4=ref.current)||void 0===_ref$current4||_ref$current4.removeGridChangeListener(listener)}),[ref]),addBrushChangeListener:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(listener){var _ref$current5;null===(_ref$current5=ref.current)||void 0===_ref$current5||_ref$current5.addBrushChangeListener(listener)}),[ref]),removeBrushChangeListener:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(listener){var _ref$current6;null===(_ref$current6=ref.current)||void 0===_ref$current6||_ref$current6.removeBrushChangeListener(listener)}),[ref]),addStrokeEndListener:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(listener){var _ref$current7;null===(_ref$current7=ref.current)||void 0===_ref$current7||_ref$current7.addStrokeEndListener(listener)}),[ref]),removeStrokeEndListener:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(listener){var _ref$current8;null===(_ref$current8=ref.current)||void 0===_ref$current8||_ref$current8.removeStrokeEndListener(listener)}),[ref]),addHoverPixelChangeListener:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(listener){var _ref$current9;null===(_ref$current9=ref.current)||void 0===_ref$current9||_ref$current9.addHoverPixelChangeListener(listener)}),[ref]),removeHoverPixelChangeListener:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(listener){var _ref$current10;null===(_ref$current10=ref.current)||void 0===_ref$current10||_ref$current10.removeHoverPixelChangeListener(listener)}),[ref]),addCanvasElementEventListener:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(event,listener){var _ref$current11;null===(_ref$current11=ref.current)||void 0===_ref$current11||_ref$current11.addCanvasElementEventListener(event,listener)}),[ref]),removeCanvasElementEventListener:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(event,listener){var _ref$current12;null===(_ref$current12=ref.current)||void 0===_ref$current12||_ref$current12.removeCanvasElementEventListener(event,listener)}),[ref])}}},"./stories/useBrushComponents/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{t:()=>useBrushComponents_ChangeBrushColor,j:()=>useBrushComponents_ChangeBrushTool});__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js");var react=__webpack_require__("./node_modules/react/index.js"),Dotting=__webpack_require__("./src/components/Dotting.tsx"),useBrush=__webpack_require__("./src/hooks/useBrush.ts");const useBrushComponents_ChangeBrushColor=function ChangeBrushColor(){var ref=(0,react.useRef)(null),_useBrush=(0,useBrush.Z)(ref),changeBrushColor=_useBrush.changeBrushColor,brushColor=_useBrush.brushColor;return react.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",fontFamily:"'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif",marginBottom:50}},react.createElement(Dotting.Z,{ref,width:"100%",height:300}),react.createElement("div",{style:{display:"flex",alignItems:"center",marginTop:10,marginBottom:3}},react.createElement("span",{style:{fontSize:13}},"Brush Color"),react.createElement("div",{style:{borderRadius:"50%",width:20,height:20,marginLeft:15,backgroundColor:brushColor}})),react.createElement("div",null,["#FF0000","#0000FF","#00FF00","#FF00FF","#00FFFF","#FFFF00","#000000","#FFFFFF"].map((function(color){return react.createElement("div",{key:color,onClick:changeBrushColor.bind(null,color),style:{width:25,height:25,margin:10,border:"1px solid black",backgroundColor:color,display:"inline-block"}})}))))};var types=__webpack_require__("./src/components/Canvas/types.ts");const useBrushComponents_ChangeBrushTool=function ChangeBrushTool(){var ref=(0,react.useRef)(null),_useBrush=(0,useBrush.Z)(ref),changeBrushColor=_useBrush.changeBrushColor,changeBrushTool=_useBrush.changeBrushTool,brushTool=_useBrush.brushTool,brushColor=_useBrush.brushColor,handleColorChange=(0,react.useCallback)((function(e){changeBrushColor.bind(null,e.target.value)()}),[]);return react.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",fontFamily:"'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"}},react.createElement(Dotting.Z,{ref,width:"100%",height:300}),react.createElement("div",{style:{display:"flex",alignItems:"center",marginTop:10,marginBottom:3,fontSize:13}},react.createElement("span",null,"Brush Mode"),react.createElement("select",{style:{marginLeft:15},value:brushTool,onChange:function onChange(e){changeBrushTool(e.target.value)}},react.createElement("option",{value:types.G.DOT},types.G.DOT),react.createElement("option",{value:types.G.ERASER},types.G.ERASER),react.createElement("option",{value:types.G.PAINT_BUCKET},types.G.PAINT_BUCKET))),react.createElement("div",{style:{display:"flex",alignItems:"center",marginTop:10,marginBottom:3}},react.createElement("span",{style:{fontSize:13}},"Brush Color"),react.createElement("div",{style:{borderRadius:"50%",width:20,height:20,marginLeft:15,marginRight:15,backgroundColor:brushColor}}),react.createElement("input",{type:"color",value:brushColor,onChange:handleColorChange})),react.createElement("div",null))}},"./stories/useDottingComponents/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{UZ:()=>useDottingComponents_Clear,aF:()=>ColorPixels,sQ:()=>useDottingComponents_DownloadImage,Uo:()=>useDottingComponents_GridStyling,Z_:()=>useDottingComponents_SetIndicatorPixels,QA:()=>useDottingComponents_UndoRedo});var react=__webpack_require__("./node_modules/react/index.js"),Dotting=__webpack_require__("./src/components/Dotting.tsx"),useDotting=__webpack_require__("./src/hooks/useDotting.ts");const useDottingComponents_Clear=function Clear(){var ref=(0,react.useRef)(null),clear=(0,useDotting.Z)(ref).clear;return react.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"}},react.createElement(Dotting.Z,{ref,width:"100%",height:300}),react.createElement("button",{style:{padding:"5px 10px",background:"none",marginTop:10,marginBottom:50},onClick:clear},"Clear Canvas"))};__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js");var slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");const ColorPixels=function ChangePixelColor(){var ref=(0,react.useRef)(null),_useDotting=(0,useDotting.Z)(ref),colorPixels=_useDotting.colorPixels,erasePixels=_useDotting.erasePixels,_React$useState=react.useState(0),_React$useState2=(0,slicedToArray.Z)(_React$useState,2),rowIndex=_React$useState2[0],setRowIndex=_React$useState2[1],_React$useState3=react.useState(0),_React$useState4=(0,slicedToArray.Z)(_React$useState3,2),columnIndex=_React$useState4[0],setColumnIndex=_React$useState4[1],_React$useState5=react.useState(0),_React$useState6=(0,slicedToArray.Z)(_React$useState5,2),rowIndex2=_React$useState6[0],setRowIndex2=_React$useState6[1],_React$useState7=react.useState(0),_React$useState8=(0,slicedToArray.Z)(_React$useState7,2),columnIndex2=_React$useState8[0],setColumnIndex2=_React$useState8[1];return react.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",fontFamily:"'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"}},react.createElement(Dotting.Z,{ref,width:"100%",height:300}),react.createElement("div",null,react.createElement("div",{style:{padding:"20px 0",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},react.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},react.createElement("div",{style:{margin:"0 10px"}},react.createElement("span",null,"Row Index: "),react.createElement("input",{style:{width:40,height:20},type:"number",value:rowIndex,onChange:function onChange(e){return setRowIndex(Number(e.target.value))}})),react.createElement("div",{style:{margin:"0 10px"}},react.createElement("span",null,"Column Index: "),react.createElement("input",{style:{width:40,height:20},type:"number",value:columnIndex,onChange:function onChange(e){return setColumnIndex(Number(e.target.value))}}))),react.createElement("button",{style:{padding:"5px 10px",background:"none",marginTop:15},onClick:function onClick(){return colorPixels([{rowIndex,columnIndex,color:"red"}])}},"Color Pixel")),react.createElement("div",{style:{padding:"20px 0",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},react.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},react.createElement("div",{style:{margin:"0 10px"}},react.createElement("span",null,"Row Index: "),react.createElement("input",{style:{width:40,height:20},type:"number",value:rowIndex2,onChange:function onChange(e){return setRowIndex2(Number(e.target.value))}})),react.createElement("div",{style:{margin:"0 10px"}},react.createElement("span",null,"Column Index: "),react.createElement("input",{style:{width:40,height:20},type:"number",value:columnIndex2,onChange:function onChange(e){return setColumnIndex2(Number(e.target.value))}}))),react.createElement("button",{style:{padding:"5px 10px",background:"none",marginTop:15,marginBottom:30},onClick:function onClick(){return erasePixels([{rowIndex:rowIndex2,columnIndex:columnIndex2}])}},"Erase Pixel"))))};const useDottingComponents_DownloadImage=function DownloadImage(){var ref=(0,react.useRef)(null),downloadImage=(0,useDotting.Z)(ref).downloadImage;return react.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"}},react.createElement(Dotting.Z,{ref,width:"100%",height:300}),react.createElement("button",{style:{padding:"5px 10px",background:"none",marginTop:10,marginBottom:50},onClick:function onClick(){return downloadImage()}},"Download"))};const useDottingComponents_GridStyling=function GridStyling(){var ref=(0,react.useRef)(null),_useState=(0,react.useState)("#000000"),_useState2=(0,slicedToArray.Z)(_useState,2),gridStrokeColor=_useState2[0],setGridStrokeColor=_useState2[1],_useState3=(0,react.useState)(1),_useState4=(0,slicedToArray.Z)(_useState3,2),gridStrokeWidth=_useState4[0],setGridStrokeWidth=_useState4[1];return react.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"}},react.createElement(Dotting.Z,{ref,width:"100%",height:300,gridStrokeColor,gridStrokeWidth,style:{borderColor:"red"},backgroundMode:"color",backgroundAlpha:.1,backgroundColor:"red"}),react.createElement("div",{style:{display:"flex",alignItems:"center",marginTop:10}},react.createElement("span",{style:{fontSize:13}},"Grid Stroke Width"),react.createElement("input",{type:"number",style:{marginLeft:25},min:1,max:10,step:1,value:gridStrokeWidth,onChange:function onChange(e){setGridStrokeWidth(+e.target.value)}})),react.createElement("div",{style:{display:"flex",alignItems:"center",marginTop:10,marginBottom:3}},react.createElement("span",{style:{fontSize:13}},"Grid Stroke Color"),react.createElement("div",{style:{borderRadius:"50%",width:20,height:20,marginLeft:15,marginRight:15,backgroundColor:gridStrokeColor}}),react.createElement("input",{type:"color",value:gridStrokeColor,onChange:function onChange(e){return setGridStrokeColor(e.target.value)}})))};const useDottingComponents_SetIndicatorPixels=function SetIndicatorPixels(){var ref=(0,react.useRef)(null),setIndicatorPixels=(0,useDotting.Z)(ref).setIndicatorPixels,_React$useState=react.useState(!1),_React$useState2=(0,slicedToArray.Z)(_React$useState,2),areIndicatorsShown=_React$useState2[0],setAreIndicatorsShown=_React$useState2[1],showIndicators=(0,react.useCallback)((function(){setIndicatorPixels([{rowIndex:0,columnIndex:0,color:"#ff0000"},{rowIndex:1,columnIndex:1,color:"#ff0000"}])}),[setIndicatorPixels,setAreIndicatorsShown]),hideIndicators=(0,react.useCallback)((function(){setIndicatorPixels([])}),[setIndicatorPixels,setAreIndicatorsShown]);return react.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",fontFamily:"'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"}},react.createElement(Dotting.Z,{ref,width:"100%",height:300}),react.createElement("div",null,react.createElement("div",{style:{padding:"20px 0",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},react.createElement("button",{style:{padding:"5px 10px",background:"none",marginTop:15,marginBottom:30},onClick:function onClick(){areIndicatorsShown?(setAreIndicatorsShown(!1),hideIndicators()):(setAreIndicatorsShown(!0),showIndicators())}},areIndicatorsShown?"Hide Indicators":"Show Indicators"))))};const useDottingComponents_UndoRedo=function UndoRedo(){var ref=(0,react.useRef)(null),_useDotting=(0,useDotting.Z)(ref),undo=_useDotting.undo,redo=_useDotting.redo;return react.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"}},react.createElement(Dotting.Z,{ref,width:"100%",height:300}),react.createElement("div",{style:{marginTop:10,marginBottom:50,display:"flex"}},react.createElement("button",{style:{padding:"5px 10px",background:"none"},onClick:undo},"undo"),react.createElement("button",{style:{padding:"5px 10px",background:"none"},onClick:redo},"redo")))}},"./storybook-init-framework-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},"./stories/Hooks.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,__page:()=>__page,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_useDottingComponents__WEBPACK_IMPORTED_MODULE_14__=(__webpack_require__("./stories/assets/code-brackets.svg"),__webpack_require__("./stories/assets/colors.svg"),__webpack_require__("./stories/assets/comments.svg"),__webpack_require__("./stories/assets/direction.svg"),__webpack_require__("./stories/assets/flow.svg"),__webpack_require__("./stories/assets/plugin.svg"),__webpack_require__("./stories/assets/repo.svg"),__webpack_require__("./stories/assets/stackalt.svg"),__webpack_require__("./src/components/Dotting.tsx"),__webpack_require__("./stories/useDottingComponents/index.ts"));function _createMdxContent(props){var _components=Object.assign({h1:"h1",h4:"h4",p:"p",code:"code",pre:"pre",strong:"strong"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.ah)(),props.components);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__.h_,{title:"Hooks/Setup"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("style",{children:"\n  .subheading {\n    --mediumdark: '#999999';\n    font-weight: 900;\n    font-size: 13px;\n    color: #999;\n    letter-spacing: 6px;\n    line-height: 24px;\n    text-transform: uppercase;\n    margin-bottom: 12px;\n    margin-top: 40px;\n    font-family: 'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  }\n\n  .link-list {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: 1fr 1fr;\n    row-gap: 10px;\n  }\n\n  @media (min-width: 620px) {\n    .link-list {\n      row-gap: 20px;\n      column-gap: 20px;\n      grid-template-columns: 1fr 1fr;\n    }\n  }\n\n  @media all and (-ms-high-contrast:none) {\n  .link-list {\n      display: -ms-grid;\n      -ms-grid-columns: 1fr 1fr;\n      -ms-grid-rows: 1fr 1fr;\n    }\n  }\n\n  .link-item {\n    display: block;\n    padding: 20px 30px 20px 15px;\n    border: 1px solid #00000010;\n    border-radius: 5px;\n    transition: background 150ms ease-out, border 150ms ease-out, transform 150ms ease-out;\n    color: #333333;\n    display: flex;\n    align-items: flex-start;\n  }\n\n  .link-item:hover {\n    border-color: #1EA7FD50;\n    transform: translate3d(0, -3px, 0);\n    box-shadow: rgba(0, 0, 0, 0.08) 0 3px 10px 0;\n  }\n\n  .link-item:active {\n    border-color: #1EA7FD;\n    transform: translate3d(0, 0, 0);\n  }\n\n  .link-item strong {\n    font-weight: 700;\n    display: block;\n    margin-bottom: 2px;\n  }\n  \n  .link-item img {\n    height: 40px;\n    width: 40px;\n    margin-right: 15px;\n    flex: none;\n  }\n\n  .link-item span {\n    font-size: 14px;\n    line-height: 20px;\n  }\n\n  .tip {\n    display: inline-block;\n    border-radius: 1em;\n    font-size: 11px;\n    line-height: 12px;\n    font-weight: 700;\n    background: #E7FDD8;\n    color: #66BF3C;\n    padding: 4px 12px;\n    margin-right: 10px;\n    vertical-align: top;\n  }\n\n  .tip-wrapper {\n    font-size: 13px;\n    line-height: 20px;\n    margin-top: 40px;\n    margin-bottom: 40px;\n  }\n\n  .tip-wrapper code {\n    font-size: 12px;\n    display: inline-block;\n  }\n"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.h1,{children:"Using hooks for interaction!"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.h4,{children:"How to setup hooks"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["To manipulate the Dotting component you should have a ref object attached to the Dotting Component.\nYou can use React's ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"useRef"})," to get the DottingRef refobject of the Dotting Component.\nAfter the ref object is set, you can use the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"useDotting"})," or ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"useBrush"})," hook and pass the ref as its parameter."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["Below is the example setup for using the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"useDotting"})," hook.\nThe example below shows how you can clear the canvas."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.h4,{children:"Setup Example (Clearing the Canvas)"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{className:"language-ts",children:'export const Component = () => {\n  const ref = useRef<DottingRef>(null);\n  const { clear } = useDotting(ref);\n  return (\n    <div>\n      <Dotting ref={ref} width={"100%"} height={300} />\n      <button onClick={clear}>Clear Canvas</button>\n    </div>\n  );\n};\n'})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_useDottingComponents__WEBPACK_IMPORTED_MODULE_14__.UZ,{}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.h4,{children:"Styling"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["You can add styles to Dotting component via ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"React.CSSProperties"})," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("br",{}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"gridStroke"})," props to control grid's appearances ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("br",{}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"background"})," props to control base layer's appearances ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("br",{}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"backgroundMode"})," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.strong,{children:"checkerboard"})," is default you can use plain background if you change to ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.strong,{children:"color"})," mode"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{className:"language-ts",children:'export const Component = () => {\n  return (\n    <div>\n      <Dotting\n        gridStrokeColor={gridStrokeColor}\n        gridStrokeWidth={gridStrokeWidth}\n        style={{ borderColor: "red" }}\n        backgroundMode="color"\n        backgroundAlpha=0.2\n        backgroundColor="red"\n      />\n    </div>\n  );\n};\n'})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_useDottingComponents__WEBPACK_IMPORTED_MODULE_14__.Uo,{})]})}function MDXContent(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},MDXLayout=Object.assign({},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.ah)(),props.components).wrapper;return MDXLayout?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(MDXLayout,Object.assign({},props,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_createMdxContent,props)})):_createMdxContent(props)}var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Hooks/Setup",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},react__WEBPACK_IMPORTED_MODULE_1__.createElement(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta;var __namedExportsOrder=["__page"]},"./stories/Introduction.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,__page:()=>__page,default:()=>Introduction_stories});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("./node_modules/react/index.js"),esm=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),dist_esm=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),stackalt=(__webpack_require__("./stories/assets/code-brackets.svg"),__webpack_require__("./stories/assets/colors.svg"),__webpack_require__("./stories/assets/comments.svg"),__webpack_require__("./stories/assets/direction.svg"),__webpack_require__("./stories/assets/flow.svg"),__webpack_require__("./stories/assets/plugin.svg"),__webpack_require__("./stories/assets/repo.svg"),__webpack_require__("./stories/assets/stackalt.svg")),Dotting=__webpack_require__("./src/components/Dotting.tsx"),useBrush=(__webpack_require__("./stories/useBrushComponents/index.ts"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./src/components/Canvas/types.ts"),__webpack_require__("./src/hooks/useBrush.ts")),useDotting=(__webpack_require__("./src/hooks/useData.ts"),__webpack_require__("./src/hooks/useDotting.ts"));__webpack_require__("./src/hooks/useGrids.ts"),__webpack_require__("./src/hooks/useHandlers.ts");const custom_CustomExample=function CustomExample(){var ref=(0,react.useRef)(null),_useDotting=(0,useDotting.Z)(ref),undo=_useDotting.undo,redo=_useDotting.redo,changeBrushColor=(0,useBrush.Z)(ref).changeBrushColor;return react.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"}},react.createElement(Dotting.Z,{ref,width:"100%",height:300}),react.createElement("div",null,["#FF0000","#0000FF","#00FF00","#FF00FF","#00FFFF","#FFFF00","#000000","#FFFFFF"].map((function(color){return react.createElement("div",{key:color,onClick:changeBrushColor.bind(null,color),style:{width:25,height:25,margin:10,border:"1px solid black",backgroundColor:color,display:"inline-block"}})}))),react.createElement("div",{style:{marginTop:10,marginBottom:50,display:"flex"}},react.createElement("button",{style:{padding:"5px 10px",background:"none"},onClick:undo},"undo"),react.createElement("button",{style:{padding:"5px 10px",background:"none"},onClick:redo},"redo")))};function _createMdxContent(props){var _components=Object.assign({h1:"h1",h4:"h4",p:"p",strong:"strong",a:"a",pre:"pre",code:"code"},(0,dist_esm.ah)(),props.components);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(esm.h_,{title:"Introduction"}),"\n",(0,jsx_runtime.jsx)("style",{children:"\n  .subheading {\n    --mediumdark: '#999999';\n    font-weight: 900;\n    font-size: 13px;\n    color: #999;\n    letter-spacing: 6px;\n    line-height: 24px;\n    text-transform: uppercase;\n    margin-bottom: 12px;\n    margin-top: 40px;\n    font-family: 'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  }\n\n  .link-list {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: 1fr 1fr;\n    row-gap: 10px;\n  }\n\n  @media (min-width: 620px) {\n    .link-list {\n      row-gap: 20px;\n      column-gap: 20px;\n      grid-template-columns: 1fr 1fr;\n    }\n  }\n\n  @media all and (-ms-high-contrast:none) {\n  .link-list {\n      display: -ms-grid;\n      -ms-grid-columns: 1fr 1fr;\n      -ms-grid-rows: 1fr 1fr;\n    }\n  }\n\n  .link-item {\n    display: block;\n    padding: 20px 30px 20px 15px;\n    border: 1px solid #00000010;\n    border-radius: 5px;\n    transition: background 150ms ease-out, border 150ms ease-out, transform 150ms ease-out;\n    color: #333333;\n    display: flex;\n    align-items: flex-start;\n  }\n\n  .link-item:hover {\n    border-color: #1EA7FD50;\n    transform: translate3d(0, -3px, 0);\n    box-shadow: rgba(0, 0, 0, 0.08) 0 3px 10px 0;\n  }\n\n  .link-item:active {\n    border-color: #1EA7FD;\n    transform: translate3d(0, 0, 0);\n  }\n\n  .link-item strong {\n    font-weight: 700;\n    display: block;\n    margin-bottom: 2px;\n  }\n  \n  .link-item img {\n    height: 40px;\n    width: 40px;\n    margin-right: 15px;\n    flex: none;\n  }\n\n  .link-item span {\n    font-size: 14px;\n    line-height: 20px;\n  }\n\n  .tip {\n    display: inline-block;\n    border-radius: 1em;\n    font-size: 11px;\n    line-height: 12px;\n    font-weight: 700;\n    background: #E7FDD8;\n    color: #66BF3C;\n    padding: 4px 12px;\n    margin-right: 10px;\n    vertical-align: top;\n  }\n\n  .tip-wrapper {\n    font-size: 13px;\n    line-height: 20px;\n    margin-top: 40px;\n    margin-bottom: 40px;\n  }\n\n  .tip-wrapper code {\n    font-size: 12px;\n    display: inline-block;\n  }\n"}),"\n",(0,jsx_runtime.jsx)(_components.h1,{children:"Welcome to Dotting!"}),"\n",(0,jsx_runtime.jsx)(_components.h4,{children:"Finding a pixel art editor for your website? Look no further!"}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["Dotting is a pixel art drawing component for React for creators who want to implement a pixel canvas editor to their websites.\nDotting works for ",(0,jsx_runtime.jsx)(_components.strong,{children:"both PC and mobile environments"}),". You can freely pan & zoom around the using your mouse or your fingers.\nThe canvas grid size is changeable. You can extend your canvas grid to any size by extending the grid from any edges. Make your websites interactive by adding a simple pixel art canvas editor to your website!"]}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["Dotting welcomes all contributions!\nIf you are interested in contributing, visit ",(0,jsx_runtime.jsx)(_components.a,{href:"https://github.com/hunkim98/dotting",children:(0,jsx_runtime.jsx)(_components.strong,{children:"Dotting Github"})})," to view the source code!"]}),"\n",(0,jsx_runtime.jsx)(custom_CustomExample,{}),"\n",(0,jsx_runtime.jsx)(_components.h1,{children:"Quick Start"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:(0,jsx_runtime.jsx)(_components.strong,{children:"Step 1. Install the package"})}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-bash",children:"$ yarn add dotting\n"})}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:(0,jsx_runtime.jsx)(_components.strong,{children:"Step 2. Implement the component in your React project"})}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-jsx",children:'import { Dotting } from "dotting";\n\nconst DottingExample = () => {\n  return (\n    <div>\n      <Dotting width={300} height={300} />\n    </div>\n  );\n};\n'})}),"\n",(0,jsx_runtime.jsx)("div",{className:"subheading",children:"Resources"}),"\n",(0,jsx_runtime.jsx)("div",{className:"link-list",children:(0,jsx_runtime.jsxs)("a",{className:"link-item",href:"https://github.com/hunkim98/dotting",target:"_blank",children:[(0,jsx_runtime.jsx)("img",{src:stackalt,alt:"Build"}),(0,jsx_runtime.jsx)("span",{children:(0,jsx_runtime.jsxs)(_components.p,{children:[(0,jsx_runtime.jsx)("strong",{children:"Github Source Code"}),"\nView the source code and contribute to the project!"]})})]})}),"\n",(0,jsx_runtime.jsx)("div",{className:"tip-wrapper"}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{})})]})}function MDXContent(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},MDXLayout=Object.assign({},(0,dist_esm.ah)(),props.components).wrapper;return MDXLayout?(0,jsx_runtime.jsx)(MDXLayout,Object.assign({},props,{children:(0,jsx_runtime.jsx)(_createMdxContent,props)})):_createMdxContent(props)}var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Introduction",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return react.createElement(esm.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},react.createElement(MDXContent,null))}});const Introduction_stories=componentMeta;var __namedExportsOrder=["__page"]},"./stories/useBrush.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,__page:()=>__page,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_assets_stackalt_svg__WEBPACK_IMPORTED_MODULE_12__=(__webpack_require__("./stories/assets/code-brackets.svg"),__webpack_require__("./stories/assets/colors.svg"),__webpack_require__("./stories/assets/comments.svg"),__webpack_require__("./stories/assets/direction.svg"),__webpack_require__("./stories/assets/flow.svg"),__webpack_require__("./stories/assets/plugin.svg"),__webpack_require__("./stories/assets/repo.svg"),__webpack_require__("./stories/assets/stackalt.svg")),_useBrushComponents__WEBPACK_IMPORTED_MODULE_14__=(__webpack_require__("./src/components/Dotting.tsx"),__webpack_require__("./stories/useBrushComponents/index.ts"));function _createMdxContent(props){var _components=Object.assign({h1:"h1",code:"code",p:"p",h4:"h4",pre:"pre",h3:"h3"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.ah)(),props.components);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__.h_,{title:"Hooks/useBrush"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("style",{children:'\n  .subheading {\n    --mediumdark: \'#999999\';\n    font-weight: 900;\n    font-size: 13px;\n    color: #999;\n    letter-spacing: 6px;\n    line-height: 24px;\n    text-transform: uppercase;\n    margin-bottom: 12px;\n    margin-top: 40px;\n    font-family: \'Nunito Sans\', \'Helvetica Neue\', Helvetica, Arial, sans-serif;\n  }\n\n  .link-list {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: 1fr 1fr;\n    row-gap: 10px;\n  }\n\n  @media (min-width: 620px) {\n    .link-list {\n      row-gap: 20px;\n      column-gap: 20px;\n      grid-template-columns: 1fr 1fr;\n    }\n  }\n\n  @media all and (-ms-high-contrast:none) {\n  .link-list {\n      display: -ms-grid;\n      -ms-grid-columns: 1fr 1fr;\n      -ms-grid-rows: 1fr 1fr;\n    }\n  }\n\n  .link-item {\n    display: block;\n    padding: 20px 30px 20px 15px;\n    border: 1px solid #00000010;\n    border-radius: 5px;\n    transition: background 150ms ease-out, border 150ms ease-out, transform 150ms ease-out;\n    color: #333333;\n    display: flex;\n    align-items: flex-start;\n  }\n\n  .link-item:hover {\n    border-color: #1EA7FD50;\n    transform: translate3d(0, -3px, 0);\n    box-shadow: rgba(0, 0, 0, 0.08) 0 3px 10px 0;\n  }\n\n  .link-item:active {\n    border-color: #1EA7FD;\n    transform: translate3d(0, 0, 0);\n  }\n\n  .link-item strong {\n    font-weight: 700;\n    display: block;\n    margin-bottom: 2px;\n  }\n  \n  .link-item img {\n    height: 40px;\n    width: 40px;\n    margin-right: 15px;\n    flex: none;\n  }\n\n  .link-item span {\n    font-size: 14px;\n    line-height: 20px;\n  }\n\n  .tip {\n    display: inline-block;\n    border-radius: 1em;\n    font-size: 11px;\n    line-height: 12px;\n    font-weight: 700;\n    background: #E7FDD8;\n    color: #66BF3C;\n    padding: 4px 12px;\n    margin-right: 10px;\n    vertical-align: top;\n  }\n\n  .tip-wrapper {\n    font-size: 13px;\n    line-height: 20px;\n    margin-top: 40px;\n    margin-bottom: 40px;\n  }\n\n  .tip-wrapper code {\n    font-size: 12px;\n    display: inline-block;\n  }\n  \ntable {\n  width: 100%;\n  border-collapse: collapse;\n  border: 1px solid #cccccc;\n  margin: 15px auto;\n  margin-bottom: 80px;\n  background: white;\n  color: #333333;\n  font-family: "Nunito Sans",-apple-system,".SFNSText-Regular","San Francisco",BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Helvetica,Arial,sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\nthead {\n  border-bottom: 1px solid #cccccc;\n}\n\ntable .css-1p8ieni {\n  margin: 0;\n}\n\nh4 {\n  margin-top: 15px;\n}\n\nth {\n  background: steelblue;\n  height: 54px;\n  width: 25%;\n  font-weight: lighter;\n  text-shadow: 0 1px 0 #38678f;\n  color: white;\n  border: 1px solid black;\n  box-shadow: inset 0px 1px 2px #cccccc;\n  transition: all 0.2s;\n}\ntr {\n  border-bottom: 1px solid #cccccc;\n}\ntr:last-child {\n  border-bottom: 0px;\n}\ntd {\n  border-right: 1px solid #cccccc;\n  padding: 10px;\n  transition: all 0.2s;\n  font-size: 14px;\n}\ntd:first-child {\n  font-size: 12px;\n  font-family: monospace\n\n}\ntd:last-child {\n  border-right: 0px;\n}\ntd.selected {\n  background: #d7e4ef;\n  z-index: ;\n}\ntd input {\n  font-size: 14px;\n  background: none;\n  outline: none;\n  border: 0;\n  display: table-cell;\n  height: 100%;\n  width: 100%;\n}\ntd input:focus {\n  box-shadow: 0 1px 0 steelblue;\n  color: steelblue;\n}\n::-moz-selection {\n  background: steelblue;\n  color: white;\n}\n::selection {\n  background: steelblue;\n  color: white;\n}\n'}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.h1,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"useBrush"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["With ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"useBrush"}),", you can change the brush color and mode."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.h4,{children:["Features provided by ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"useBrush"})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("table",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("thead",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("strong",{children:"Description"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("strong",{children:"Parameters"})})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tbody",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"changeBrushColor(color: string)"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:"Allows you to change the brush color"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"string"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"changeBrushTool(brushTool: BrushTool)"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("td",{children:["Allows you to change the brush mode to ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"DOT"}),", ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"ERASER"})," or ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"PAINT_BUCKET"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("td",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.p,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"BrushTool"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{className:"language-ts",children:'export enum BrushTool {\n  DOT = "DOT",\n  ERASER = "ERASER",\n  PAINT_BUCKET = "PAINT_BUCKET",\n}\n'})})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"brushTool"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("td",{children:["Allows you to know the current brush mode. Variable type is ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"BrushTool"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"brushColor"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("td",{children:["Allows you to know the current brush color. Variable type is ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"string"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{})]})]})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.h3,{children:"Examples"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.h4,{children:["1. Change Brush Color Example ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"changeBrushColor(color: string)"})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["With ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"changeBrushColor"})," method, you can change the color of the brush."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_useBrushComponents__WEBPACK_IMPORTED_MODULE_14__.t,{}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.h4,{children:["2. Change Brush Tool Example ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"changeBrushTool(brushTool: BrushTool)"})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["With ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"changeBrushTool"})," method, you can change the brush tool."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_useBrushComponents__WEBPACK_IMPORTED_MODULE_14__.j,{}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"subheading",children:"Example Source Codes"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"link-list",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("a",{className:"link-item",href:"https://github.com/hunkim98/dotting/tree/main/stories/useBrushComponents",target:"_blank",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("img",{src:_assets_stackalt_svg__WEBPACK_IMPORTED_MODULE_12__,alt:"Build"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("strong",{children:"Github Source Code"}),"\nView the source code and contribute to the project!"]})})]})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"tip-wrapper"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{})})]})}function MDXContent(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},MDXLayout=Object.assign({},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.ah)(),props.components).wrapper;return MDXLayout?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(MDXLayout,Object.assign({},props,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_createMdxContent,props)})):_createMdxContent(props)}var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Hooks/useBrush",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},react__WEBPACK_IMPORTED_MODULE_1__.createElement(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta;var __namedExportsOrder=["__page"]},"./stories/useData.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,__page:()=>__page,default:()=>useData_stories});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("./node_modules/react/index.js"),esm=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),dist_esm=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),stackalt=(__webpack_require__("./stories/assets/code-brackets.svg"),__webpack_require__("./stories/assets/colors.svg"),__webpack_require__("./stories/assets/comments.svg"),__webpack_require__("./stories/assets/direction.svg"),__webpack_require__("./stories/assets/flow.svg"),__webpack_require__("./stories/assets/plugin.svg"),__webpack_require__("./stories/assets/repo.svg"),__webpack_require__("./stories/assets/stackalt.svg")),Dotting=__webpack_require__("./src/components/Dotting.tsx"),slicedToArray=(__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js")),useBrush=__webpack_require__("./src/hooks/useBrush.ts"),useData=__webpack_require__("./src/hooks/useData.ts");const useDataComponents_DataInformation=function DataInformation(){var ref=(0,react.useRef)(null),dataArray=(0,useData.Z)(ref).dataArray,changeBrushColor=(0,useBrush.Z)(ref).changeBrushColor,_useState=(0,react.useState)(new Map),_useState2=(0,slicedToArray.Z)(_useState,2),groupData=_useState2[0],setGroupData=_useState2[1];(0,react.useEffect)((function(){var map=new Map;dataArray.forEach((function(row){row.forEach((function(pixel){pixel.color&&(map.has(pixel.color)?map.set(pixel.color,map.get(pixel.color)+1):map.set(pixel.color,1))}))})),setGroupData(map)}),[dataArray]);var entries=(0,react.useMemo)((function(){return Array.from(groupData.entries())}),[groupData]);return react.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",fontFamily:"'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"}},react.createElement(Dotting.Z,{ref,width:"100%",height:300}),react.createElement("div",null,["#FF0000","#0000FF","#00FF00","#FF00FF","#00FFFF","#FFFF00","#000000","#FFFFFF"].map((function(color){return react.createElement("div",{key:color,onClick:changeBrushColor.bind(null,color),style:{width:25,height:25,margin:10,border:"1px solid black",backgroundColor:color,display:"inline-block"}})}))),0===entries.length&&react.createElement("div",{style:{padding:10}},"Color some pixels to see color groups!"),react.createElement("div",null,entries.map((function(entry){return react.createElement("div",null,react.createElement("span",{style:{marginRight:10,color:entry[0]}},entry[0]),react.createElement("span",null,entry[1]))}))))};function _createMdxContent(props){var _components=Object.assign({h1:"h1",code:"code",p:"p",h4:"h4",pre:"pre",h3:"h3"},(0,dist_esm.ah)(),props.components);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(esm.h_,{title:"Hooks/useData"}),"\n",(0,jsx_runtime.jsx)("style",{children:'\n  .subheading {\n    --mediumdark: \'#999999\';\n    font-weight: 900;\n    font-size: 13px;\n    color: #999;\n    letter-spacing: 6px;\n    line-height: 24px;\n    text-transform: uppercase;\n    margin-bottom: 12px;\n    margin-top: 40px;\n    font-family: \'Nunito Sans\', \'Helvetica Neue\', Helvetica, Arial, sans-serif;\n  }\n\n  .link-list {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: 1fr 1fr;\n    row-gap: 10px;\n  }\n\n  @media (min-width: 620px) {\n    .link-list {\n      row-gap: 20px;\n      column-gap: 20px;\n      grid-template-columns: 1fr 1fr;\n    }\n  }\n\n  @media all and (-ms-high-contrast:none) {\n  .link-list {\n      display: -ms-grid;\n      -ms-grid-columns: 1fr 1fr;\n      -ms-grid-rows: 1fr 1fr;\n    }\n  }\n\n  .link-item {\n    display: block;\n    padding: 20px 30px 20px 15px;\n    border: 1px solid #00000010;\n    border-radius: 5px;\n    transition: background 150ms ease-out, border 150ms ease-out, transform 150ms ease-out;\n    color: #333333;\n    display: flex;\n    align-items: flex-start;\n  }\n\n  .link-item:hover {\n    border-color: #1EA7FD50;\n    transform: translate3d(0, -3px, 0);\n    box-shadow: rgba(0, 0, 0, 0.08) 0 3px 10px 0;\n  }\n\n  .link-item:active {\n    border-color: #1EA7FD;\n    transform: translate3d(0, 0, 0);\n  }\n\n  .link-item strong {\n    font-weight: 700;\n    display: block;\n    margin-bottom: 2px;\n  }\n  \n  .link-item img {\n    height: 40px;\n    width: 40px;\n    margin-right: 15px;\n    flex: none;\n  }\n\n  .link-item span {\n    font-size: 14px;\n    line-height: 20px;\n  }\n\n  .tip {\n    display: inline-block;\n    border-radius: 1em;\n    font-size: 11px;\n    line-height: 12px;\n    font-weight: 700;\n    background: #E7FDD8;\n    color: #66BF3C;\n    padding: 4px 12px;\n    margin-right: 10px;\n    vertical-align: top;\n  }\n\n  .tip-wrapper {\n    font-size: 13px;\n    line-height: 20px;\n    margin-top: 40px;\n    margin-bottom: 40px;\n  }\n\n  .tip-wrapper code {\n    font-size: 12px;\n    display: inline-block;\n  }\n  \ntable {\n  width: 100%;\n  border-collapse: collapse;\n  border: 1px solid #cccccc;\n  margin: 15px auto;\n  margin-bottom: 80px;\n  background: white;\n  color: #333333;\n  font-family: "Nunito Sans",-apple-system,".SFNSText-Regular","San Francisco",BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Helvetica,Arial,sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\nthead {\n  border-bottom: 1px solid #cccccc;\n}\n\ntable .css-1p8ieni {\n  margin: 0;\n}\n\nh4 {\n  margin-top: 15px;\n}\n\nth {\n  background: steelblue;\n  height: 54px;\n  width: 25%;\n  font-weight: lighter;\n  text-shadow: 0 1px 0 #38678f;\n  color: white;\n  border: 1px solid black;\n  box-shadow: inset 0px 1px 2px #cccccc;\n  transition: all 0.2s;\n}\ntr {\n  border-bottom: 1px solid #cccccc;\n}\ntr:last-child {\n  border-bottom: 0px;\n}\ntd {\n  border-right: 1px solid #cccccc;\n  padding: 10px;\n  transition: all 0.2s;\n  font-size: 14px;\n}\ntd:first-child {\n  font-size: 12px;\n  font-family: monospace\n\n}\ntd:last-child {\n  border-right: 0px;\n}\ntd.selected {\n  background: #d7e4ef;\n  z-index: ;\n}\ntd input {\n  font-size: 14px;\n  background: none;\n  outline: none;\n  border: 0;\n  display: table-cell;\n  height: 100%;\n  width: 100%;\n}\ntd input:focus {\n  box-shadow: 0 1px 0 steelblue;\n  color: steelblue;\n}\n::-moz-selection {\n  background: steelblue;\n  color: white;\n}\n::selection {\n  background: steelblue;\n  color: white;\n}\n'}),"\n",(0,jsx_runtime.jsx)(_components.h1,{children:(0,jsx_runtime.jsx)(_components.code,{children:"useData"})}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["With ",(0,jsx_runtime.jsx)(_components.code,{children:"useData"}),", you can get the current status of data"]}),"\n",(0,jsx_runtime.jsxs)(_components.h4,{children:["Features provided by ",(0,jsx_runtime.jsx)(_components.code,{children:"useData"})]}),"\n",(0,jsx_runtime.jsxs)("table",{children:[(0,jsx_runtime.jsx)("thead",{children:(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)("strong",{children:"Description"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)("strong",{children:"Parameters"})})]})}),(0,jsx_runtime.jsxs)("tbody",{children:[(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"data"})}),(0,jsx_runtime.jsxs)("td",{children:[(0,jsx_runtime.jsxs)(_components.p,{children:["Allows you to know the current pixel data. The variable type is ",(0,jsx_runtime.jsx)(_components.code,{children:"Map<number, Map<number, PixelData>>"})]}),(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-ts",children:"type PixelData = {\n  color: string;\n};\n"})})]}),(0,jsx_runtime.jsx)("td",{})]}),(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"dataArray"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsxs)(_components.p,{children:["Allows you to know the 2d array of the pixel data. If you are not fond with Maps, you may use this instead. The variable type is ",(0,jsx_runtime.jsx)(_components.code,{children:"<Array<Array<PixelModifyItem>>>"})]})}),(0,jsx_runtime.jsx)("td",{})]})]})]}),"\n",(0,jsx_runtime.jsx)(_components.h3,{children:"Examples"}),"\n",(0,jsx_runtime.jsxs)(_components.h4,{children:["1. Data Array Example ",(0,jsx_runtime.jsx)(_components.code,{children:"dataArray"})]}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["With ",(0,jsx_runtime.jsx)(_components.code,{children:"dataArray"})," method, you can check the current status of the canvas"]}),"\n",(0,jsx_runtime.jsx)(useDataComponents_DataInformation,{}),"\n",(0,jsx_runtime.jsx)("div",{className:"subheading",children:"Example Source Codes"}),"\n",(0,jsx_runtime.jsx)("div",{className:"link-list",children:(0,jsx_runtime.jsxs)("a",{className:"link-item",href:"https://github.com/hunkim98/dotting/tree/main/stories/useDataComponents",target:"_blank",children:[(0,jsx_runtime.jsx)("img",{src:stackalt,alt:"Build"}),(0,jsx_runtime.jsx)("span",{children:(0,jsx_runtime.jsxs)(_components.p,{children:[(0,jsx_runtime.jsx)("strong",{children:"Github Source Code"}),"\nView the source code and contribute to the project!"]})})]})}),"\n",(0,jsx_runtime.jsx)("div",{className:"tip-wrapper"}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{})})]})}function MDXContent(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},MDXLayout=Object.assign({},(0,dist_esm.ah)(),props.components).wrapper;return MDXLayout?(0,jsx_runtime.jsx)(MDXLayout,Object.assign({},props,{children:(0,jsx_runtime.jsx)(_createMdxContent,props)})):_createMdxContent(props)}var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Hooks/useData",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return react.createElement(esm.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},react.createElement(MDXContent,null))}});const useData_stories=componentMeta;var __namedExportsOrder=["__page"]},"./stories/useDotting.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,__page:()=>__page,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_assets_stackalt_svg__WEBPACK_IMPORTED_MODULE_12__=(__webpack_require__("./stories/assets/code-brackets.svg"),__webpack_require__("./stories/assets/colors.svg"),__webpack_require__("./stories/assets/comments.svg"),__webpack_require__("./stories/assets/direction.svg"),__webpack_require__("./stories/assets/flow.svg"),__webpack_require__("./stories/assets/plugin.svg"),__webpack_require__("./stories/assets/repo.svg"),__webpack_require__("./stories/assets/stackalt.svg")),_useDottingComponents__WEBPACK_IMPORTED_MODULE_14__=(__webpack_require__("./src/components/Dotting.tsx"),__webpack_require__("./stories/useDottingComponents/index.ts"));function _createMdxContent(props){var _components=Object.assign({h1:"h1",code:"code",p:"p",h4:"h4",pre:"pre",h3:"h3"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.ah)(),props.components);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__.h_,{title:"Hooks/useDotting"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("style",{children:'\n  .subheading {\n    --mediumdark: \'#999999\';\n    font-weight: 900;\n    font-size: 13px;\n    color: #999;\n    letter-spacing: 6px;\n    line-height: 24px;\n    text-transform: uppercase;\n    margin-bottom: 12px;\n    margin-top: 40px;\n    font-family: \'Nunito Sans\', \'Helvetica Neue\', Helvetica, Arial, sans-serif;\n  }\n\n  .link-list {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: 1fr 1fr;\n    row-gap: 10px;\n  }\n\n  @media (min-width: 620px) {\n    .link-list {\n      row-gap: 20px;\n      column-gap: 20px;\n      grid-template-columns: 1fr 1fr;\n    }\n  }\n\n  @media all and (-ms-high-contrast:none) {\n  .link-list {\n      display: -ms-grid;\n      -ms-grid-columns: 1fr 1fr;\n      -ms-grid-rows: 1fr 1fr;\n    }\n  }\n\n  .link-item {\n    display: block;\n    padding: 20px 30px 20px 15px;\n    border: 1px solid #00000010;\n    border-radius: 5px;\n    transition: background 150ms ease-out, border 150ms ease-out, transform 150ms ease-out;\n    color: #333333;\n    display: flex;\n    align-items: flex-start;\n  }\n\n  .link-item:hover {\n    border-color: #1EA7FD50;\n    transform: translate3d(0, -3px, 0);\n    box-shadow: rgba(0, 0, 0, 0.08) 0 3px 10px 0;\n  }\n\n  .link-item:active {\n    border-color: #1EA7FD;\n    transform: translate3d(0, 0, 0);\n  }\n\n  .link-item strong {\n    font-weight: 700;\n    display: block;\n    margin-bottom: 2px;\n  }\n  \n  .link-item img {\n    height: 40px;\n    width: 40px;\n    margin-right: 15px;\n    flex: none;\n  }\n\n  .link-item span {\n    font-size: 14px;\n    line-height: 20px;\n  }\n\n  .tip {\n    display: inline-block;\n    border-radius: 1em;\n    font-size: 11px;\n    line-height: 12px;\n    font-weight: 700;\n    background: #E7FDD8;\n    color: #66BF3C;\n    padding: 4px 12px;\n    margin-right: 10px;\n    vertical-align: top;\n  }\n\n  .tip-wrapper {\n    font-size: 13px;\n    line-height: 20px;\n    margin-top: 40px;\n    margin-bottom: 40px;\n  }\n\n  .tip-wrapper code {\n    font-size: 12px;\n    display: inline-block;\n  }\n  \ntable {\n  width: 100%;\n  border-collapse: collapse;\n  border: 1px solid #cccccc;\n  margin: 15px auto;\n  margin-bottom: 80px;\n  background: white;\n  color: #333333;\n  font-family: "Nunito Sans",-apple-system,".SFNSText-Regular","San Francisco",BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Helvetica,Arial,sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\nthead {\n  border-bottom: 1px solid #cccccc;\n}\n\ntable .css-1p8ieni {\n  margin: 0;\n}\n\nh4 {\n  margin-top: 15px;\n}\n\nth {\n  background: steelblue;\n  height: 54px;\n  width: 25%;\n  font-weight: lighter;\n  text-shadow: 0 1px 0 #38678f;\n  color: white;\n  border: 1px solid black;\n  box-shadow: inset 0px 1px 2px #cccccc;\n  transition: all 0.2s;\n}\ntr {\n  border-bottom: 1px solid #cccccc;\n}\ntr:last-child {\n  border-bottom: 0px;\n}\ntd {\n  border-right: 1px solid #cccccc;\n  padding: 10px;\n  transition: all 0.2s;\n  font-size: 14px;\n}\ntd:first-child {\n  font-size: 12px;\n  font-family: monospace\n\n}\ntd:last-child {\n  border-right: 0px;\n}\ntd.selected {\n  background: #d7e4ef;\n  z-index: ;\n}\ntd input {\n  font-size: 14px;\n  background: none;\n  outline: none;\n  border: 0;\n  display: table-cell;\n  height: 100%;\n  width: 100%;\n}\ntd input:focus {\n  box-shadow: 0 1px 0 steelblue;\n  color: steelblue;\n}\n::-moz-selection {\n  background: steelblue;\n  color: white;\n}\n::selection {\n  background: steelblue;\n  color: white;\n}\n'}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.h1,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"useDotting"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["With ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"useDotting"}),", you can manipulate the grids."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.h4,{children:["Features provided by ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"useDotting"})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("table",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("thead",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("strong",{children:"Description"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("strong",{children:"Parameters"})})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tbody",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"downloadImage(options?: ImageDownloadOptions)"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:"Allows you to download the pixel image"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("td",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.p,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"ImageDownloadOptions"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{className:"language-ts",children:"export interface ImageDownloadOptions {\n  isGridVisible?: boolean;\n}\n"})})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"clear()"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:"Allows you to clear the canvas"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"colorPixels(data: Array<PixelModifyItem>)"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.p,{children:"Allows you to color pixels on specific indices. If the index provided is\nnot in the grid, the grid first extends its grid and then colors it"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("td",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"Array<PixelModifyItem>"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"PixelModifyItem"})," is defined as follows:"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{className:"language-ts",children:"export interface PixelModifyItem {\n  rowIndex: number;\n  columnIndex: number;\n  color: string;\n}\n"})})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"erasePixels(data: Array<{rowIndex: number; columnIndex: number}>)"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.p,{children:"Allows you to erase pixels on specific indices. If the index provided is\nnot in the grid, that data is ignored"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"Array<{rowIndex: number; columnIndex: number}>"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"setIndicatorPixels(indicators: Array<PixelModifyItem>)"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.p,{children:"Allows you to set the indicator pixels. If the index provided is not in\nthe grid, that data is ignored"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"Array<PixelModifyItem>"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"undo()"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.p,{children:"Allows you to undo the last action"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"redo()"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.p,{children:"Allows you to redo the last action"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{})]})]})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.h3,{children:"Examples"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.h4,{children:["1. Download Image Example ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"downloadImage()"})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["With ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"downloadImage"})," method, you can download the image of the grid."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_useDottingComponents__WEBPACK_IMPORTED_MODULE_14__.sQ,{}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.h4,{children:["2. Change Pixel Color Example ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"colorPixels(data: PixelModifyData)"}),", ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"erasePixels(data: Array<{rowIndex: number; columnIndex: number}>)"})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["With ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"colorPixels"})," method, you can change the color of specific pixels.\nThe ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"PixelModifyData"})," type is defined as follows:"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{className:"language-ts",children:"export type PixelModifyData = Array<PixelModifyItem>;\n\nexport interface PixelModifyItem {\n  rowIndex: number;\n  columnIndex: number;\n  color: string;\n}\n"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["By passing an array of ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"PixelModifyItem"})," you are able to color the pixels.\nIf the rowIndex and columnIndex of the pixel is not in the grid, the grid\nfirst extends its grid and then colors it."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["You can also erase pixels using ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"erasePixels"})," method. The ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"erasePixels"})," method\ntakes an array of ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"{rowIndex: number; columnIndex: number}"})," as a parameter. If the rowIndex and\ncolumnIndex of the pixel is not in the grid, that data is ignored."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_useDottingComponents__WEBPACK_IMPORTED_MODULE_14__.aF,{}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.h4,{children:["3. Clear Example ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"clear()"})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["With ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"clear"})," method, you can clear all the pixels in the grid."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_useDottingComponents__WEBPACK_IMPORTED_MODULE_14__.UZ,{}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.h4,{children:["4. Set Indicator Pixels ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"setIndicatorPixels(data: Array<PixelModifyItem>)"})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["With ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"setIndicatorPixels"})," method, you can set the indicator pixels. The indicator pixels are\nthe pixels that are shwon as indicators in the grid. Their opacity is lower than the real pixel data.\nThey do not affect the data of the grid."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["By the way, if you want to initially have the indicator pixels before the canvas mounts,\nyou need to pass the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"initIndicatorData"})," prop to the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"Dotting"})," component.\nThe data type of the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"initIndicatorData"})," is the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"Array<PixelModifyItem>"}),"."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_useDottingComponents__WEBPACK_IMPORTED_MODULE_14__.Z_,{}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.h4,{children:["5. Undo and Redo Example ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"undo()"}),", ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"redo()"})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["With ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"undo"})," and ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"redo"})," methods, you can undo and redo the last action."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_useDottingComponents__WEBPACK_IMPORTED_MODULE_14__.QA,{}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"subheading",children:"Example Source Codes"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"link-list",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("a",{className:"link-item",href:"https://github.com/hunkim98/dotting/tree/main/stories/useDottingComponents",target:"_blank",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("img",{src:_assets_stackalt_svg__WEBPACK_IMPORTED_MODULE_12__,alt:"Build"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("strong",{children:"Github Source Code"}),"\nView the source code and contribute to the project!"]})})]})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"tip-wrapper"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{})})]})}function MDXContent(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},MDXLayout=Object.assign({},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.ah)(),props.components).wrapper;return MDXLayout?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(MDXLayout,Object.assign({},props,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_createMdxContent,props)})):_createMdxContent(props)}var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Hooks/useDotting",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},react__WEBPACK_IMPORTED_MODULE_1__.createElement(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta;var __namedExportsOrder=["__page"]},"./stories/useGrids.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,__page:()=>__page,default:()=>useGrids_stories});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("./node_modules/react/index.js"),esm=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),dist_esm=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),stackalt=(__webpack_require__("./stories/assets/code-brackets.svg"),__webpack_require__("./stories/assets/colors.svg"),__webpack_require__("./stories/assets/comments.svg"),__webpack_require__("./stories/assets/direction.svg"),__webpack_require__("./stories/assets/flow.svg"),__webpack_require__("./stories/assets/plugin.svg"),__webpack_require__("./stories/assets/repo.svg"),__webpack_require__("./stories/assets/stackalt.svg")),Dotting=__webpack_require__("./src/components/Dotting.tsx"),useGrids=(__webpack_require__("./stories/useBrushComponents/index.ts"),__webpack_require__("./src/hooks/useGrids.ts"));const useGridComponents_GridInformation=function GridInformation(){var ref=(0,react.useRef)(null),_useGrids=(0,useGrids.Z)(ref),dimensions=_useGrids.dimensions,indices=_useGrids.indices;return react.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",fontFamily:"'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"}},react.createElement(Dotting.Z,{ref,width:"100%",height:300}),react.createElement("div",null,"column count: ",dimensions.columnCount),react.createElement("div",null,"row count: ",dimensions.rowCount),react.createElement("div",null,"top row index: ",indices.topRowIndex),react.createElement("div",null,"left column index: ",indices.leftColumnIndex),react.createElement("div",null,"bottom row index: ",indices.bottomRowIndex),react.createElement("div",null,"right column index: ",indices.rightColumnIndex))};function _createMdxContent(props){var _components=Object.assign({h1:"h1",code:"code",p:"p",h4:"h4",h3:"h3",pre:"pre"},(0,dist_esm.ah)(),props.components);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(esm.h_,{title:"Hooks/useGrids"}),"\n",(0,jsx_runtime.jsx)("style",{children:'\n  .subheading {\n    --mediumdark: \'#999999\';\n    font-weight: 900;\n    font-size: 13px;\n    color: #999;\n    letter-spacing: 6px;\n    line-height: 24px;\n    text-transform: uppercase;\n    margin-bottom: 12px;\n    margin-top: 40px;\n    font-family: \'Nunito Sans\', \'Helvetica Neue\', Helvetica, Arial, sans-serif;\n  }\n\n  .link-list {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: 1fr 1fr;\n    row-gap: 10px;\n  }\n\n  @media (min-width: 620px) {\n    .link-list {\n      row-gap: 20px;\n      column-gap: 20px;\n      grid-template-columns: 1fr 1fr;\n    }\n  }\n\n  @media all and (-ms-high-contrast:none) {\n  .link-list {\n      display: -ms-grid;\n      -ms-grid-columns: 1fr 1fr;\n      -ms-grid-rows: 1fr 1fr;\n    }\n  }\n\n  .link-item {\n    display: block;\n    padding: 20px 30px 20px 15px;\n    border: 1px solid #00000010;\n    border-radius: 5px;\n    transition: background 150ms ease-out, border 150ms ease-out, transform 150ms ease-out;\n    color: #333333;\n    display: flex;\n    align-items: flex-start;\n  }\n\n  .link-item:hover {\n    border-color: #1EA7FD50;\n    transform: translate3d(0, -3px, 0);\n    box-shadow: rgba(0, 0, 0, 0.08) 0 3px 10px 0;\n  }\n\n  .link-item:active {\n    border-color: #1EA7FD;\n    transform: translate3d(0, 0, 0);\n  }\n\n  .link-item strong {\n    font-weight: 700;\n    display: block;\n    margin-bottom: 2px;\n  }\n  \n  .link-item img {\n    height: 40px;\n    width: 40px;\n    margin-right: 15px;\n    flex: none;\n  }\n\n  .link-item span {\n    font-size: 14px;\n    line-height: 20px;\n  }\n\n  .tip {\n    display: inline-block;\n    border-radius: 1em;\n    font-size: 11px;\n    line-height: 12px;\n    font-weight: 700;\n    background: #E7FDD8;\n    color: #66BF3C;\n    padding: 4px 12px;\n    margin-right: 10px;\n    vertical-align: top;\n  }\n\n  .tip-wrapper {\n    font-size: 13px;\n    line-height: 20px;\n    margin-top: 40px;\n    margin-bottom: 40px;\n  }\n\n  .tip-wrapper code {\n    font-size: 12px;\n    display: inline-block;\n  }\n  \ntable {\n  width: 100%;\n  border-collapse: collapse;\n  border: 1px solid #cccccc;\n  margin: 15px auto;\n  margin-bottom: 80px;\n  background: white;\n  color: #333333;\n  font-family: "Nunito Sans",-apple-system,".SFNSText-Regular","San Francisco",BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Helvetica,Arial,sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\nthead {\n  border-bottom: 1px solid #cccccc;\n}\n\ntable .css-1p8ieni {\n  margin: 0;\n}\n\nh4 {\n  margin-top: 15px;\n}\n\nth {\n  background: steelblue;\n  height: 54px;\n  width: 25%;\n  font-weight: lighter;\n  text-shadow: 0 1px 0 #38678f;\n  color: white;\n  border: 1px solid black;\n  box-shadow: inset 0px 1px 2px #cccccc;\n  transition: all 0.2s;\n}\ntr {\n  border-bottom: 1px solid #cccccc;\n}\ntr:last-child {\n  border-bottom: 0px;\n}\ntd {\n  border-right: 1px solid #cccccc;\n  padding: 10px;\n  transition: all 0.2s;\n  font-size: 14px;\n}\ntd:first-child {\n  font-size: 12px;\n  font-family: monospace\n\n}\ntd:last-child {\n  border-right: 0px;\n}\ntd.selected {\n  background: #d7e4ef;\n  z-index: ;\n}\ntd input {\n  font-size: 14px;\n  background: none;\n  outline: none;\n  border: 0;\n  display: table-cell;\n  height: 100%;\n  width: 100%;\n}\ntd input:focus {\n  box-shadow: 0 1px 0 steelblue;\n  color: steelblue;\n}\n::-moz-selection {\n  background: steelblue;\n  color: white;\n}\n::selection {\n  background: steelblue;\n  color: white;\n}\n'}),"\n",(0,jsx_runtime.jsx)(_components.h1,{children:(0,jsx_runtime.jsx)(_components.code,{children:"useGrids"})}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["With ",(0,jsx_runtime.jsx)(_components.code,{children:"useGrids"}),", you can get information about the the canvas columns and rows.\nYou also get information about the indices of the top row, left column, bottom row, and the right column."]}),"\n",(0,jsx_runtime.jsxs)(_components.h4,{children:["Features provided by ",(0,jsx_runtime.jsx)(_components.code,{children:"useGrids"})]}),"\n",(0,jsx_runtime.jsxs)("table",{children:[(0,jsx_runtime.jsx)("thead",{children:(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)("strong",{children:"Description"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)("strong",{children:"Parameters"})})]})}),(0,jsx_runtime.jsxs)("tbody",{children:[(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"dimensions"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsxs)(_components.p,{children:["Allows you to know the ",(0,jsx_runtime.jsx)(_components.code,{children:"columnCount"})," and ",(0,jsx_runtime.jsx)(_components.code,{children:"rowCount"})," of the current grid"]})}),(0,jsx_runtime.jsx)("td",{})]}),(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"indices"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsxs)(_components.p,{children:["Allows you to know the ",(0,jsx_runtime.jsx)(_components.code,{children:"topRowIndex"}),", ",(0,jsx_runtime.jsx)(_components.code,{children:"bottomRowIndex"}),",\n",(0,jsx_runtime.jsx)(_components.code,{children:"leftColumnIndex"}),", and ",(0,jsx_runtime.jsx)(_components.code,{children:"rightColumnIndex"})," of the grids. This is useful\nwhen you want to implement ",(0,jsx_runtime.jsx)(_components.code,{children:"colorPixels"})," method provided by ",(0,jsx_runtime.jsx)(_components.code,{children:"useDotting"}),"\nhook."]})}),(0,jsx_runtime.jsx)("td",{})]})]})]}),"\n",(0,jsx_runtime.jsx)(_components.h3,{children:"Examples"}),"\n",(0,jsx_runtime.jsxs)(_components.h4,{children:["1. Grid Information Example ",(0,jsx_runtime.jsx)(_components.code,{children:"dimensions"}),", ",(0,jsx_runtime.jsx)(_components.code,{children:"indices"})]}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["With ",(0,jsx_runtime.jsx)(_components.code,{children:"dimensions"})," and ",(0,jsx_runtime.jsx)(_components.code,{children:"indices"}),", you can get the information about the current grid."]}),"\n",(0,jsx_runtime.jsx)(useGridComponents_GridInformation,{}),"\n",(0,jsx_runtime.jsx)("div",{className:"subheading",children:"Example Source Codes"}),"\n",(0,jsx_runtime.jsx)("div",{className:"link-list",children:(0,jsx_runtime.jsxs)("a",{className:"link-item",href:"https://github.com/hunkim98/dotting/tree/main/stories/useGridComponents",target:"_blank",children:[(0,jsx_runtime.jsx)("img",{src:stackalt,alt:"Build"}),(0,jsx_runtime.jsx)("span",{children:(0,jsx_runtime.jsxs)(_components.p,{children:[(0,jsx_runtime.jsx)("strong",{children:"Github Source Code"}),"\nView the source code and contribute to the project!"]})})]})}),"\n",(0,jsx_runtime.jsx)("div",{className:"tip-wrapper"}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{})})]})}function MDXContent(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},MDXLayout=Object.assign({},(0,dist_esm.ah)(),props.components).wrapper;return MDXLayout?(0,jsx_runtime.jsx)(MDXLayout,Object.assign({},props,{children:(0,jsx_runtime.jsx)(_createMdxContent,props)})):_createMdxContent(props)}var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Hooks/useGrids",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return react.createElement(esm.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},react.createElement(MDXContent,null))}});const useGrids_stories=componentMeta;var __namedExportsOrder=["__page"]},"./stories/useHandlers.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,__page:()=>__page,default:()=>useHandlers_stories});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("./node_modules/react/index.js"),esm=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),dist_esm=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),stackalt=(__webpack_require__("./stories/assets/code-brackets.svg"),__webpack_require__("./stories/assets/colors.svg"),__webpack_require__("./stories/assets/comments.svg"),__webpack_require__("./stories/assets/direction.svg"),__webpack_require__("./stories/assets/flow.svg"),__webpack_require__("./stories/assets/plugin.svg"),__webpack_require__("./stories/assets/repo.svg"),__webpack_require__("./stories/assets/stackalt.svg")),Dotting=__webpack_require__("./src/components/Dotting.tsx"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),useHandlers=__webpack_require__("./src/hooks/useHandlers.ts");const useHandlersComponents_CanvasElementEvents=function CanvasElementEvents(){var ref=(0,react.useRef)(null),_useHandlers=(0,useHandlers.Z)(ref),addCanvasElementEventListener=_useHandlers.addCanvasElementEventListener,removeCanvasElementEventListener=_useHandlers.removeCanvasElementEventListener,_useState=(0,react.useState)(!1),_useState2=(0,slicedToArray.Z)(_useState,2),isMouseDown=_useState2[0],setIsMouseDown=_useState2[1];return(0,react.useEffect)((function(){var handleMouseDown=function handleMouseDown(){setIsMouseDown(!0)},handleMouseUp=function handleMouseUp(){setIsMouseDown(!1)};return addCanvasElementEventListener("mousedown",handleMouseDown),addCanvasElementEventListener("mouseup",handleMouseUp),function(){removeCanvasElementEventListener("mousedown",handleMouseDown),removeCanvasElementEventListener("mouseup",handleMouseUp)}}),[]),react.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",fontFamily:"'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"}},react.createElement(Dotting.Z,{ref,width:"100%",height:300}),react.createElement("div",{style:{marginTop:25,display:"flex",alignItems:"center",flexDirection:"column",marginBottom:50}},react.createElement("strong",null,"Is Mouse Down?"),react.createElement("div",null,isMouseDown?"Yes":"No")))};const useHandlersComponents_HoverPixelListener=function HoverPixelListener(){var ref=(0,react.useRef)(null),_useHandlers=(0,useHandlers.Z)(ref),addHoverPixelChangeListener=_useHandlers.addHoverPixelChangeListener,removeHoverPixelChangeListener=_useHandlers.removeHoverPixelChangeListener,_useState=(0,react.useState)(null),_useState2=(0,slicedToArray.Z)(_useState,2),hoveredPixel=_useState2[0],setHoveredPixel=_useState2[1],handleHoverPixelChangeHandler=function handleHoverPixelChangeHandler(indices){setHoveredPixel(indices)};return(0,react.useEffect)((function(){return addHoverPixelChangeListener(handleHoverPixelChangeHandler),function(){removeHoverPixelChangeListener(handleHoverPixelChangeHandler)}}),[]),react.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",fontFamily:"'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"}},react.createElement(Dotting.Z,{ref,width:"100%",height:300}),react.createElement("div",{style:{marginTop:25,display:"flex",alignItems:"center",flexDirection:"column",marginBottom:50}},react.createElement("strong",null,"Hovered Pixel"),hoveredPixel&&react.createElement("div",null,"rowIndex: ",hoveredPixel.rowIndex,", columnIndex:"," ",hoveredPixel.columnIndex)))};__webpack_require__("./node_modules/core-js/modules/es.array.map.js");const useHandlersComponents_StrokeListener=function StrokeListener(){var ref=(0,react.useRef)(null),_useHandlers=(0,useHandlers.Z)(ref),addStrokeEndListener=_useHandlers.addStrokeEndListener,removeStrokeEndListener=_useHandlers.removeStrokeEndListener,_useState=(0,react.useState)([]),_useState2=(0,slicedToArray.Z)(_useState,2),strokedPixels=_useState2[0],setStrokedPixels=_useState2[1],handleStrokeEnd=function handleStrokeEnd(strokedPixels,data){setStrokedPixels(strokedPixels)};return(0,react.useEffect)((function(){return addStrokeEndListener(handleStrokeEnd),function(){removeStrokeEndListener(handleStrokeEnd)}}),[]),react.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",fontFamily:"'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"}},react.createElement(Dotting.Z,{ref,width:"100%",height:300}),react.createElement("div",{style:{marginTop:25,display:"flex",alignItems:"center",flexDirection:"column",marginBottom:50}},react.createElement("div",null,react.createElement("strong",null,"Stroked Pixels")),strokedPixels.map((function(item,index){return react.createElement("div",{key:index},"rowIndex: ",item.rowIndex,", columnIndex: ",item.columnIndex,", color:"," ",item.color)}))))};function _createMdxContent(props){var _components=Object.assign({h1:"h1",code:"code",p:"p",ul:"ul",li:"li",h4:"h4",pre:"pre",h3:"h3"},(0,dist_esm.ah)(),props.components);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(esm.h_,{title:"Hooks/useHandlers"}),"\n",(0,jsx_runtime.jsx)("style",{children:'\n  .subheading {\n    --mediumdark: \'#999999\';\n    font-weight: 900;\n    font-size: 13px;\n    color: #999;\n    letter-spacing: 6px;\n    line-height: 24px;\n    text-transform: uppercase;\n    margin-bottom: 12px;\n    margin-top: 40px;\n    font-family: \'Nunito Sans\', \'Helvetica Neue\', Helvetica, Arial, sans-serif;\n  }\n\n  .link-list {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: 1fr 1fr;\n    row-gap: 10px;\n  }\n\n  @media (min-width: 620px) {\n    .link-list {\n      row-gap: 20px;\n      column-gap: 20px;\n      grid-template-columns: 1fr 1fr;\n    }\n  }\n\n  @media all and (-ms-high-contrast:none) {\n  .link-list {\n      display: -ms-grid;\n      -ms-grid-columns: 1fr 1fr;\n      -ms-grid-rows: 1fr 1fr;\n    }\n  }\n\n  .link-item {\n    display: block;\n    padding: 20px 30px 20px 15px;\n    border: 1px solid #00000010;\n    border-radius: 5px;\n    transition: background 150ms ease-out, border 150ms ease-out, transform 150ms ease-out;\n    color: #333333;\n    display: flex;\n    align-items: flex-start;\n  }\n\n  .link-item:hover {\n    border-color: #1EA7FD50;\n    transform: translate3d(0, -3px, 0);\n    box-shadow: rgba(0, 0, 0, 0.08) 0 3px 10px 0;\n  }\n\n  .link-item:active {\n    border-color: #1EA7FD;\n    transform: translate3d(0, 0, 0);\n  }\n\n  .link-item strong {\n    font-weight: 700;\n    display: block;\n    margin-bottom: 2px;\n  }\n  \n  .link-item img {\n    height: 40px;\n    width: 40px;\n    margin-right: 15px;\n    flex: none;\n  }\n\n  .link-item span {\n    font-size: 14px;\n    line-height: 20px;\n  }\n\n  .tip {\n    display: inline-block;\n    border-radius: 1em;\n    font-size: 11px;\n    line-height: 12px;\n    font-weight: 700;\n    background: #E7FDD8;\n    color: #66BF3C;\n    padding: 4px 12px;\n    margin-right: 10px;\n    vertical-align: top;\n  }\n\n  .tip-wrapper {\n    font-size: 13px;\n    line-height: 20px;\n    margin-top: 40px;\n    margin-bottom: 40px;\n  }\n\n  .tip-wrapper code {\n    font-size: 12px;\n    display: inline-block;\n  }\n  \ntable {\n  width: 100%;\n  border-collapse: collapse;\n  border: 1px solid #cccccc;\n  margin: 15px auto;\n  margin-bottom: 80px;\n  background: white;\n  color: #333333;\n  font-family: "Nunito Sans",-apple-system,".SFNSText-Regular","San Francisco",BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Helvetica,Arial,sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\nthead {\n  border-bottom: 1px solid #cccccc;\n}\n\ntable .css-1p8ieni {\n  margin: 0;\n}\n\nh4 {\n  margin-top: 15px;\n}\n\nth {\n  background: steelblue;\n  height: 54px;\n  width: 25%;\n  font-weight: lighter;\n  text-shadow: 0 1px 0 #38678f;\n  color: white;\n  border: 1px solid black;\n  box-shadow: inset 0px 1px 2px #cccccc;\n  transition: all 0.2s;\n}\ntr {\n  border-bottom: 1px solid #cccccc;\n}\ntr:last-child {\n  border-bottom: 0px;\n}\ntd {\n  border-right: 1px solid #cccccc;\n  padding: 10px;\n  transition: all 0.2s;\n  font-size: 14px;\n}\ntd:first-child {\n  font-size: 12px;\n  font-family: monospace\n\n}\ntd:last-child {\n  border-right: 0px;\n}\ntd.selected {\n  background: #d7e4ef;\n  z-index: ;\n}\ntd input {\n  font-size: 14px;\n  background: none;\n  outline: none;\n  border: 0;\n  display: table-cell;\n  height: 100%;\n  width: 100%;\n}\ntd input:focus {\n  box-shadow: 0 1px 0 steelblue;\n  color: steelblue;\n}\n::-moz-selection {\n  background: steelblue;\n  color: white;\n}\n::selection {\n  background: steelblue;\n  color: white;\n}\n'}),"\n",(0,jsx_runtime.jsx)(_components.h1,{children:(0,jsx_runtime.jsx)(_components.code,{children:"useHandlers"})}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["With ",(0,jsx_runtime.jsx)(_components.code,{children:"useHandlers"}),", you can add event listeners to the canvas.\nThe events that you can listen to are:"]}),"\n",(0,jsx_runtime.jsxs)(_components.ul,{children:["\n",(0,jsx_runtime.jsx)(_components.li,{children:(0,jsx_runtime.jsx)(_components.code,{children:"data change"})}),"\n",(0,jsx_runtime.jsx)(_components.li,{children:(0,jsx_runtime.jsx)(_components.code,{children:"grid change"})}),"\n",(0,jsx_runtime.jsx)(_components.li,{children:(0,jsx_runtime.jsx)(_components.code,{children:"stroke end"})}),"\n",(0,jsx_runtime.jsx)(_components.li,{children:(0,jsx_runtime.jsx)(_components.code,{children:"hover pixel change"})}),"\n"]}),"\n",(0,jsx_runtime.jsxs)(_components.h4,{children:["Features provided by ",(0,jsx_runtime.jsx)(_components.code,{children:"useHandlers"})]}),"\n",(0,jsx_runtime.jsxs)("table",{children:[(0,jsx_runtime.jsx)("thead",{children:(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)("strong",{children:"Description"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)("strong",{children:"Parameters"})})]})}),(0,jsx_runtime.jsxs)("tbody",{children:[(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"addDataChangeListener(listener: CanvasDataChangeHandler)"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.p,{children:"Allows you to listen to data change events."})}),(0,jsx_runtime.jsxs)("td",{children:[(0,jsx_runtime.jsx)(_components.p,{children:(0,jsx_runtime.jsx)(_components.code,{children:"CanvasDataChangeHandler"})}),(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-ts",children:"export type CanvasDataChangeHandler = (data: DottingData) => void;\nexport type DottingData = Map<number, Map<number, PixelData>>;\nexport type PixelData = {\n    color: string;\n};\n"})})]})]}),(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"removeDataChangeListener(listener: CanvasDataChangeHandler)"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.p,{children:"Allows you to remove a data change listener"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"CanvasDataChangeHandler"})})]}),(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"addGridChangeListener(listener: CanvasGridChangeHandler)"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.p,{children:"Allows you to the listen to grid change events."})}),(0,jsx_runtime.jsxs)("td",{children:[(0,jsx_runtime.jsx)(_components.p,{children:(0,jsx_runtime.jsx)(_components.code,{children:"CanvasGridChangeHandler"})}),(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-ts",children:"export type CanvasGridChangeHandler = (\n    dimensions: {\n        columnCount: number;\n        rowCount: number;\n    },\n    indices: {\n        topRowIndex: number;\n        bottomRowIndex: number;\n        leftColumnIndex: number;\n        rightColumnIndex: number;\n    }\n) => void;\n"})})]})]}),(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"removeGridChangeListener(listener: CanvasGridChangeHandler)"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.p,{children:"Allows you to remove a grid change listener"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"CanvasGridChangeHandler"})})]}),(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"addBrushChangeListener(listener: CanvasBrushChangeHandler)"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.p,{children:"Allows you to listen to brush change events"})}),(0,jsx_runtime.jsxs)("td",{children:[(0,jsx_runtime.jsx)(_components.p,{children:(0,jsx_runtime.jsx)(_components.code,{children:"CanvasBrushChangeHandler"})}),(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-ts",children:'export type CanvasBrushChangeHandler = (\n    brushColor: string,\n    brushMode: BrushMode\n) => void;\nexport enum BrushMode {\n    DOT = "dot",\n    ERASER = "eraser",\n    PAINT_BUCKET = "paint_bucket",\n}\n'})})]})]}),(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"removeBrushChangeListener(listener: CanvasBrushChangeHandler)"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.p,{children:"Allows you to remove a brush change listener"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"CanvasBrushChangeHandler"})})]}),(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"addStrokeEndListener(listener: CanvasStrokeEndHandler)"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.p,{children:"Allows you to add a listener to stroke end events"})}),(0,jsx_runtime.jsxs)("td",{children:[(0,jsx_runtime.jsx)(_components.p,{children:(0,jsx_runtime.jsx)(_components.code,{children:"CanvasStrokeEndHandler"})}),(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-ts",children:"export type CanvasStrokeEndHandler = (\n    strokedPixels: Array<PixelModifyItem>,\n    data: DottingData\n) => void;\nexport interface PixelModifyItem {\n    rowIndex: number;\n    columnIndex: number;\n    color: string;\n}\nexport type DottingData = Map<number, Map<number, PixelData>>;\nexport type PixelData = {\n    color: string;\n};\n"})})]})]}),(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"removeStrokeEndListener(listener: CanvasStrokeEndHandler)"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.p,{children:"Allows you to remove a stroke end listener"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"CanvasStrokeEndHandler"})})]}),(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"addHoverPixelChangeListener(listener: CanvasHoverPixelChangeHandler)"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.p,{children:"Allows you to listen to hover pixel change events"})}),(0,jsx_runtime.jsxs)("td",{children:[(0,jsx_runtime.jsx)(_components.p,{children:(0,jsx_runtime.jsx)(_components.code,{children:"CanvasHoverPixelChangeHandler"})}),(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-ts",children:"export type CanvasHoverPixelChangeHandler = (\n  indices: {\n    rowIndex: number;\n    columnIndex: number;\n  } | null\n) => void;\n"})})]})]}),(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"removeHoverPixelChangeListener(listener: CanvasHoverPixelChangeHandler)"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.p,{children:"Allows you to remove pixel change listener"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"CanvasHoverPixelChangeHandler"})})]}),(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"addCanvasElementEventListener(event: string, listener: EventListenerOrEventListenerObject) "})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsxs)(_components.p,{children:["Allows you to directly add event listeners to the canvas element (E.g. ",(0,jsx_runtime.jsx)(_components.code,{children:"mousemove"}),")"]})}),(0,jsx_runtime.jsxs)("td",{children:[(0,jsx_runtime.jsx)(_components.code,{children:"string"}),", ",(0,jsx_runtime.jsx)(_components.code,{children:"EventListenerOrEventListenerObject"})]})]}),(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"removeCanvasElementEventListener(event: string, listener: EventListenerOrEventListenerObject)"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.p,{children:"Allows you to directly remove event listeners from the canvas element"})}),(0,jsx_runtime.jsxs)("td",{children:[(0,jsx_runtime.jsx)(_components.code,{children:"string"}),", ",(0,jsx_runtime.jsx)(_components.code,{children:"EventListenerOrEventListenerObject"})]})]})]})]}),"\n",(0,jsx_runtime.jsx)(_components.h3,{children:"Examples"}),"\n",(0,jsx_runtime.jsxs)(_components.h4,{children:["1. Stroke end listener ",(0,jsx_runtime.jsx)(_components.code,{children:"addStrokeEndListener"}),", ",(0,jsx_runtime.jsx)(_components.code,{children:"removeStrokeEndListener"})]}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"With stroke end related listeners, you can observer the changes when the user ends the stroke."}),"\n",(0,jsx_runtime.jsx)(useHandlersComponents_StrokeListener,{}),"\n",(0,jsx_runtime.jsxs)(_components.h4,{children:["2. Hover Pixel Change Listener ",(0,jsx_runtime.jsx)(_components.code,{children:"addHoverPixelChangeListener"}),", ",(0,jsx_runtime.jsx)(_components.code,{children:"removeHoverPixelChangeListener"})]}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["With the hover pixel change listener, you can observe the changes when the user hovers over the canvas.\nWhen there is no hovered pixel, the return value will be ",(0,jsx_runtime.jsx)(_components.code,{children:"null"})]}),"\n",(0,jsx_runtime.jsx)(useHandlersComponents_HoverPixelListener,{}),"\n",(0,jsx_runtime.jsxs)(_components.h4,{children:["3. Canvas Element Custom Event Listener ",(0,jsx_runtime.jsx)(_components.code,{children:"addCanvasElementEventListener"}),", ",(0,jsx_runtime.jsx)(_components.code,{children:"removeCanvasElementEventListener"})]}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"You can also directly add event listeners to the canvas element.\nThis is useful when you want to listen to events that are not provided by the library."}),"\n",(0,jsx_runtime.jsx)(useHandlersComponents_CanvasElementEvents,{}),"\n",(0,jsx_runtime.jsx)("div",{className:"subheading",children:"Example Source Codes"}),"\n",(0,jsx_runtime.jsx)("div",{className:"link-list",children:(0,jsx_runtime.jsxs)("a",{className:"link-item",href:"https://github.com/hunkim98/dotting/tree/main/stories/useHandlersComponent",target:"_blank",children:[(0,jsx_runtime.jsx)("img",{src:stackalt,alt:"Build"}),(0,jsx_runtime.jsx)("span",{children:(0,jsx_runtime.jsxs)(_components.p,{children:[(0,jsx_runtime.jsx)("strong",{children:"Github Source Code"}),"\nView the source code and contribute to the project!"]})})]})}),"\n",(0,jsx_runtime.jsx)("div",{className:"tip-wrapper"}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{})})]})}function MDXContent(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},MDXLayout=Object.assign({},(0,dist_esm.ah)(),props.components).wrapper;return MDXLayout?(0,jsx_runtime.jsx)(MDXLayout,Object.assign({},props,{children:(0,jsx_runtime.jsx)(_createMdxContent,props)})):_createMdxContent(props)}var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Hooks/useHandlers",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return react.createElement(esm.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},react.createElement(MDXContent,null))}});const useHandlers_stories=componentMeta;var __namedExportsOrder=["__page"]},"./stories sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Ctsx%7Cmdx%7Cjsx))$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./Dotting.stories.tsx":"./stories/Dotting.stories.tsx","./Hooks.stories.mdx":"./stories/Hooks.stories.mdx","./Introduction.stories.mdx":"./stories/Introduction.stories.mdx","./useBrush.stories.mdx":"./stories/useBrush.stories.mdx","./useData.stories.mdx":"./stories/useData.stories.mdx","./useDotting.stories.mdx":"./stories/useDotting.stories.mdx","./useGrids.stories.mdx":"./stories/useGrids.stories.mdx","./useHandlers.stories.mdx":"./stories/useHandlers.stories.mdx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./stories sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Ctsx%7Cmdx%7Cjsx))$"},"./stories sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx\\))$":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./stories sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx\\))$",module.exports=webpackEmptyContext},"./stories/assets/code-brackets.svg":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__.p+"static/media/code-brackets.2e1112d7.svg"},"./stories/assets/colors.svg":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__.p+"static/media/colors.a4bd0486.svg"},"./stories/assets/comments.svg":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__.p+"static/media/comments.a3859089.svg"},"./stories/assets/direction.svg":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__.p+"static/media/direction.b770f9af.svg"},"./stories/assets/flow.svg":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__.p+"static/media/flow.edad2ac1.svg"},"./stories/assets/plugin.svg":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__.p+"static/media/plugin.d494b228.svg"},"./stories/assets/repo.svg":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__.p+"static/media/repo.6d496322.svg"},"./stories/assets/stackalt.svg":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__.p+"static/media/stackalt.dba9fbb3.svg"},"?4f7e":()=>{},"./generated-stories-entry.cjs":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./stories sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Ctsx%7Cmdx%7Cjsx))$"),__webpack_require__("./stories sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx\\))$")],module,!1)}},__webpack_require__=>{var __webpack_exec__=moduleId=>__webpack_require__(__webpack_require__.s=moduleId);__webpack_require__.O(0,[590],(()=>(__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_exec__("./storybook-init-framework-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_exec__("./.storybook/preview.js-generated-config-entry.js"),__webpack_exec__("./generated-stories-entry.cjs"))));__webpack_require__.O()}]);