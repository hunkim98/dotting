(self.webpackChunkdotting=self.webpackChunkdotting||[]).push([[179],{"./.storybook/preview.js-generated-config-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{__namedExportsOrder:()=>__namedExportsOrder,parameters:()=>parameters});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}},options:{storySort:{order:["Introduction","Components","Hooks"]}}},__namedExportsOrder=["parameters"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return(0,ClientApi.uc)(value);case"argTypes":return(0,ClientApi.v9)(value);case"decorators":return value.forEach((function(decorator){return(0,ClientApi.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,ClientApi.HZ)(loader,!1)}));case"parameters":return(0,ClientApi.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,ClientApi.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,ClientApi._C)(enhancer)}));case"render":return(0,ClientApi.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,ClientApi.h1)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./stories/Dotting.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Dotting:()=>Dotting,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_dotting_dotting_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_src_components_Dotting__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Dotting.tsx");const __WEBPACK_DEFAULT_EXPORT__={title:"Components/Dotting",component:_src_components_Dotting__WEBPACK_IMPORTED_MODULE_1__.Z,parameters:{docs:{description:{component:"A component that allows you to draw pixels on canvas.         You must set the width and height of the canvas if you want to use it.         You can also set the initial data of the canvas.         You can also set the initial brush color if you want to.          The canvas is pan and zoomable by default.            The canvas grids are visible by default.           You can also set the initial indicator data of the canvas."}}},argTypes:{width:{description:"The width of the canvas. When you assign a string to width, it should be a valid CSS length value such as `100%`.",defaultValue:300},height:{description:"The height of the canvas. When you assign a string to height, it should be a valid CSS length value such as `100%`.",defaultValue:300},ref:{description:"The ref object that you would like to connect to the Dotting Canvas.     You must pass the `DottingRef` object as props if you would like to use hooks",control:{disable:!0}},initData:{description:"The initial data that you want to draw on the canvas",control:{disable:!0}},isPanZoomable:{description:"If set to `true` the canvas will be pan and zoomable",defaultValue:!0,table:{defaultValue:{summary:!0}}},isGridVisible:{defaultValue:!0,description:"If set to `true` the grid lines will be visible",table:{defaultValue:{summary:!0}}},isGridFixed:{defaultValue:!1,description:"If set to `true` the grid will not be extendable",table:{defaultValue:{summary:!1}}},initBrushColor:{defaultValue:"#FF0000",control:{disable:!0},description:"The initial brush color for drawing the grid.        You can use `useBrush` hook to change the brush color later.",table:{type:{summary:"string"},defaultValue:{summary:"#FF0000"}}},initIndicatorData:{defaultValue:[],control:{disable:!0},description:"The initial indicator data for the canvas. You can change the indicator data later with `useDotting` hook.",table:{defaultValue:{summary:"[]"}}}}};var Dotting=function Dotting(args){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src_components_Dotting__WEBPACK_IMPORTED_MODULE_1__.Z,{width:args.width,height:args.height,isPanZoomable:args.isPanZoomable,isGridVisible:args.isGridVisible,isGridFixed:args.isGridFixed})};Dotting.parameters=(0,_home_runner_work_dotting_dotting_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({storySource:{source:"(args: DottingProps) => {\n  return (\n    <DottingComponent\n      width={args.width}\n      height={args.height}\n      isPanZoomable={args.isPanZoomable}\n      isGridVisible={args.isGridVisible}\n      isGridFixed={args.isGridFixed}\n    />\n  );\n}"}},Dotting.parameters);var __namedExportsOrder=["Dotting"];try{Dotting.displayName="Dotting",Dotting.__docgenInfo={description:"",displayName:"Dotting",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"string | number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"string | number"}},isGridVisible:{defaultValue:null,description:"",name:"isGridVisible",required:!1,type:{name:"boolean"}},initData:{defaultValue:null,description:"",name:"initData",required:!1,type:{name:"PixelData[][]"}},initIndicatorData:{defaultValue:null,description:"",name:"initIndicatorData",required:!1,type:{name:"PixelModifyItem[]"}},isPanZoomable:{defaultValue:null,description:"",name:"isPanZoomable",required:!1,type:{name:"boolean"}},isGridFixed:{defaultValue:null,description:"",name:"isGridFixed",required:!1,type:{name:"boolean"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"ForwardedRef<DottingRef>"}},initBrushColor:{defaultValue:null,description:"",name:"initBrushColor",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/Dotting.stories.tsx#Dotting"]={docgenInfo:Dotting.__docgenInfo,name:"Dotting",path:"stories/Dotting.stories.tsx#Dotting"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Canvas/types.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var CanvasEvents,BrushMode;__webpack_require__.d(__webpack_exports__,{S:()=>BrushMode,v:()=>CanvasEvents}),function(CanvasEvents){CanvasEvents.DATA_CHANGE="dataChange",CanvasEvents.GRID_CHANGE="gridChange",CanvasEvents.STROKE_END="strokeEnd",CanvasEvents.BRUSH_CHANGE="brushChange"}(CanvasEvents||(CanvasEvents={})),function(BrushMode){BrushMode.DOT="dot",BrushMode.ERASER="eraser"}(BrushMode||(BrushMode={}))},"./src/components/Dotting.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>components_Dotting});__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js");var toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),createForOfIteratorHelper=(__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.fill.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js")),objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),classCallCheck=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),inherits=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/inherits.js"),createSuper=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createSuper.js"),convertCartesianToScreen=function convertCartesianToScreen(canvas,cartesianCoord,dpr){return{x:cartesianCoord.x+canvas.width/dpr/2,y:cartesianCoord.y+canvas.height/dpr/2}};function diffPoints(p1,p2){return{x:p1.x-p2.x,y:p1.y-p2.y}}function addPoints(p1,p2){return{x:p1.x+p2.x,y:p1.y+p2.y}}function getScreenPoint(point,panZoom){var offset=panZoom.offset,scale=panZoom.scale;return{x:Math.floor(point.x*scale+offset.x),y:Math.floor(point.y*scale+offset.y)}}function getWorldPoint(point,panZoom){var offset=panZoom.offset,scale=panZoom.scale;return{x:(point.x-offset.x)/scale,y:(point.y-offset.y)/scale}}__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js"),__webpack_require__("./node_modules/core-js/modules/es.array.splice.js");var Event=function(){function Event(name){(0,classCallCheck.Z)(this,Event),this.name=void 0,this.callbacks=void 0,this.name=name,this.callbacks=[]}return(0,createClass.Z)(Event,[{key:"on",value:function on(cb){this.callbacks.push(cb)}},{key:"off",value:function off(cb){var idx=this.callbacks.findIndex((function(callback){return callback===cb}));this.callbacks.splice(idx,1)}},{key:"toString",value:function toString(){return this.name}}]),Event}(),EventDispatcher=function(){function EventDispatcher(){(0,classCallCheck.Z)(this,EventDispatcher),this.events=void 0,this.events={}}return(0,createClass.Z)(EventDispatcher,[{key:"emit",value:function emit(name){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];this.events[name]&&this.events[name].callbacks.forEach((function(cb){cb.apply(void 0,args)}))}},{key:"addEventListener",value:function addEventListener(name,cb){this.events[name]||(this.events[name]=new Event(name)),this.events[name].on(cb)}},{key:"removeEventListener",value:function removeEventListener(name,cb){cb?this.events[name].off(cb):delete this.events[name]}}]),EventDispatcher}(),types=__webpack_require__("./src/components/Canvas/types.ts");function addEvent(el,type,fn,capturing){return el.addEventListener(type,fn,capturing)}function removeEvent(el,type,fn,capturing){return el.removeEventListener(type,fn,capturing)}var MouseMode,ButtonDirection,touch={mouseup:"touchend",mouseout:"touchend",mousedown:"touchstart",mousemove:"touchmove"};function touchy(el,event,type,fn){event(el,touch[type],fn),event(el,type,fn)}!function(MouseMode){MouseMode.DRAWING="DRAWING",MouseMode.PANNING="PANNING",MouseMode.EXTENDING="EXTENDING",MouseMode.NULL="NULL"}(MouseMode||(MouseMode={})),function(ButtonDirection){ButtonDirection.TOP="TOP",ButtonDirection.BOTTOM="BOTTOM",ButtonDirection.LEFT="LEFT",ButtonDirection.RIGHT="RIGHT",ButtonDirection.NULL="NULL"}(ButtonDirection||(ButtonDirection={}));var Canvas=function(_EventDispatcher){(0,inherits.Z)(Canvas,_EventDispatcher);var _super=(0,createSuper.Z)(Canvas);function Canvas(canvas,initData,isPanZoomable,isGridVisible,isGridFixed,initBrushColor,initIndicatorData){var _this;(0,classCallCheck.Z)(this,Canvas),(_this=_super.call(this)).MAX_SCALE=1.5,_this.MIN_SCALE=.3,_this.ZOOM_SENSITIVITY=200,_this.buttonHeight=20,_this.buttonMargin=_this.buttonHeight/2+5,_this.element=void 0,_this.gridSquareLength=20,_this.origin={x:0,y:0},_this.pinchZoomPrevDiff=0,_this.isPanZoomable=void 0,_this.isGridFixed=void 0,_this.isGridVisible=void 0,_this.strokedPixels=[],_this.indicatorPixels=[],_this.mouseMode=MouseMode.NULL,_this.hoveredButton=null,_this.brushColor=void 0,_this.brushMode=types.S.DOT,_this.data=new Map,_this.hoveredPixel=null,_this.panZoom={scale:1,offset:_this.origin},_this.panPoint={lastMousePos:_this.origin},_this.extensionPoint={lastMousePos:_this.origin,direction:null},_this.width=0,_this.height=0,_this.dpr=1,_this.ctx=void 0,_this.handleExtension=function(evt){evt.preventDefault();var minAmountForExtension=_this.gridSquareLength/2;if(!(window.TouchEvent&&evt instanceof TouchEvent&&evt.touches.length>1)){var mouseCartCoord=_this.getMouseCartCoord(evt),buttonDirection=_this.extensionPoint.direction,extensionAmount=diffPoints(_this.extensionPoint.lastMousePos,mouseCartCoord);if(buttonDirection){switch(buttonDirection){case ButtonDirection.TOP:extensionAmount.y>minAmountForExtension?(_this.extendGrid(ButtonDirection.TOP),_this.extensionPoint.lastMousePos.y-=_this.gridSquareLength/2):extensionAmount.y<-minAmountForExtension&&(_this.shortenGrid(ButtonDirection.TOP),_this.extensionPoint.lastMousePos.y+=_this.gridSquareLength/2);break;case ButtonDirection.BOTTOM:extensionAmount.y<-minAmountForExtension?(_this.extendGrid(ButtonDirection.BOTTOM),_this.extensionPoint.lastMousePos.y+=_this.gridSquareLength/2):extensionAmount.y>minAmountForExtension&&(_this.shortenGrid(ButtonDirection.BOTTOM),_this.extensionPoint.lastMousePos.y-=_this.gridSquareLength/2);break;case ButtonDirection.LEFT:extensionAmount.x>minAmountForExtension?(_this.extendGrid(ButtonDirection.LEFT),_this.extensionPoint.lastMousePos.x-=_this.gridSquareLength/2):extensionAmount.x<-minAmountForExtension&&(_this.shortenGrid(ButtonDirection.LEFT),_this.extensionPoint.lastMousePos.x+=_this.gridSquareLength/2);break;case ButtonDirection.RIGHT:extensionAmount.x<-minAmountForExtension?(_this.extendGrid(ButtonDirection.RIGHT),_this.extensionPoint.lastMousePos.x+=_this.gridSquareLength/2):extensionAmount.x>minAmountForExtension&&(_this.shortenGrid(ButtonDirection.RIGHT),_this.extensionPoint.lastMousePos.x-=_this.gridSquareLength/2)}_this.render()}}},_this.handlePanning=function(evt){if(_this.isPanZoomable){var lastMousePos=_this.panPoint.lastMousePos;if(!(window.TouchEvent&&evt instanceof TouchEvent&&evt.touches.length>1)){var point=_this.getPointFromTouchyEvent(evt),currentMousePos={x:point.offsetX,y:point.offsetY};_this.panPoint.lastMousePos=currentMousePos;var mouseDiff=diffPoints(lastMousePos,currentMousePos),offset=diffPoints(_this.panZoom.offset,mouseDiff);_this.setPanZoom({offset})}}},_this.returnScrollOffsetFromMouseOffset=function(mouseOffset,panZoom,newScale){var scaleOffset=diffPoints(mouseOffset,getScreenPoint(getWorldPoint(mouseOffset,panZoom),{scale:newScale,offset:panZoom.offset}));return addPoints(panZoom.offset,scaleOffset)},_this.handleWheel=function(e){if(e.preventDefault(),_this.isPanZoomable)if(e.ctrlKey){var zoom=1-e.deltaY/_this.ZOOM_SENSITIVITY,newScale=_this.panZoom.scale*zoom;newScale>_this.MAX_SCALE&&(newScale=_this.MAX_SCALE),newScale<_this.MIN_SCALE&&(newScale=_this.MIN_SCALE);var mouseOffset={x:e.offsetX,y:e.offsetY},newOffset=_this.returnScrollOffsetFromMouseOffset(mouseOffset,_this.panZoom,newScale);_this.setPanZoom({scale:newScale,offset:newOffset})}else{var offset=diffPoints(_this.panZoom.offset,{x:e.deltaX,y:e.deltaY});_this.setPanZoom((0,objectSpread2.Z)((0,objectSpread2.Z)({},_this.panZoom),{},{offset}))}},_this.handlePinchZoom=function(evt){if(evt.preventDefault(),_this.isPanZoomable&&window.TouchEvent&&evt instanceof TouchEvent){var touchCount=evt.touches.length;if(touchCount<2)return;for(var canvasTouchEventIndexes=[],i=0;i<touchCount;i++){evt.touches.item(i).target instanceof HTMLCanvasElement&&canvasTouchEventIndexes.push(i)}if(2!==canvasTouchEventIndexes.length)return;var firstTouch=evt.touches[canvasTouchEventIndexes[0]],secondTouch=evt.touches[canvasTouchEventIndexes[1]],pinchZoomCurrentDiff=Math.abs(firstTouch.clientX-secondTouch.clientX)+Math.abs(firstTouch.clientY-secondTouch.clientY),firstTouchPoint=_this.getPointFromTouch(firstTouch),secondTouchPoint=_this.getPointFromTouch(secondTouch),touchCenterPos={x:(firstTouchPoint.offsetX+secondTouchPoint.offsetY)/2,y:(firstTouchPoint.offsetY+secondTouchPoint.offsetY)/2};if(!_this.pinchZoomPrevDiff)return void(_this.pinchZoomPrevDiff=pinchZoomCurrentDiff);var zoom=1-2*(_this.pinchZoomPrevDiff-pinchZoomCurrentDiff)/_this.ZOOM_SENSITIVITY,newScale=_this.panZoom.scale*zoom;if(_this.MIN_SCALE>newScale||newScale>_this.MAX_SCALE)return;var scaleOffset=diffPoints(touchCenterPos,getScreenPoint(getWorldPoint(touchCenterPos,{scale:_this.panZoom.scale,offset:_this.panZoom.offset}),{scale:newScale,offset:_this.panZoom.offset})),offset=addPoints(_this.panZoom.offset,scaleOffset);_this.setPanZoom({offset,scale:newScale}),_this.pinchZoomPrevDiff=pinchZoomCurrentDiff}},_this.element=canvas,_this.ctx=canvas.getContext("2d"),_this.isPanZoomable=isPanZoomable||!0,_this.isGridFixed=isGridFixed||!1,_this.isGridVisible=isGridVisible||!0,_this.brushColor=initBrushColor||"#FF0000",_this.indicatorPixels=initIndicatorData||[];var isInitDataValid=!0;if(initData){var initRowCount=initData.length;if(initRowCount<2)isInitDataValid=!1;else{var initColumnCount=initData[0].length;if(initColumnCount<2)isInitDataValid=!1;else for(var i=0;i<initRowCount;i++)if(initData[i].length!==initColumnCount){isInitDataValid=!1;break}}}return _this.initialize(isInitDataValid?initData:void 0),_this}return(0,createClass.Z)(Canvas,[{key:"setCanvasData",value:function setCanvasData(data){this.data=data,this.render()}},{key:"setIndicatorPixels",value:function setIndicatorPixels(indicatorPixels){this.indicatorPixels=indicatorPixels,this.render()}},{key:"setIsGridVisible",value:function setIsGridVisible(isGridVisible){void 0!==isGridVisible&&(this.isGridVisible=isGridVisible),this.render()}},{key:"setIsGridFixed",value:function setIsGridFixed(isGridFixed){void 0!==isGridFixed&&(this.isGridFixed=isGridFixed),this.render()}},{key:"setIsPanZoomable",value:function setIsPanZoomable(isPanZoomable){void 0!==isPanZoomable&&(this.isPanZoomable=isPanZoomable)}},{key:"detectMouseOnButton",value:function detectMouseOnButton(coord){var gridsHeight=this.gridSquareLength*this.getRowCount(),gridsWidth=this.gridSquareLength*this.getColumnCount(),topButtonPos={x:-gridsWidth/2,y:-gridsHeight/2-this.buttonMargin-this.buttonHeight/2},bottomButtonPos={x:-gridsWidth/2,y:gridsHeight/2+this.buttonMargin-this.buttonHeight/2},leftButtonPos={x:-gridsWidth/2-this.buttonMargin-this.buttonHeight/2,y:-gridsHeight/2},rightButtonPos={x:gridsWidth/2+this.buttonMargin-this.buttonHeight/2,y:-gridsHeight/2},x=coord.x,y=coord.y,topButtonRect_x=topButtonPos.x,topButtonRect_y=topButtonPos.y,topButtonRect_width=gridsWidth,topButtonRect_height=this.buttonHeight,bottomButtonRect_x=bottomButtonPos.x,bottomButtonRect_y=bottomButtonPos.y,bottomButtonRect_width=gridsWidth,bottomButtonRect_height=this.buttonHeight,leftButtonRect_x=leftButtonPos.x,leftButtonRect_y=leftButtonPos.y,leftButtonRect_width=this.buttonHeight,leftButtonRect_height=gridsHeight,rightButtonRect_x=rightButtonPos.x,rightButtonRect_y=rightButtonPos.y,rightButtonRect_width=this.buttonHeight,rightButtonRect_height=gridsHeight;return x>=topButtonRect_x&&x<=topButtonRect_x+topButtonRect_width&&y>=topButtonRect_y&&y<=topButtonRect_y+topButtonRect_height?ButtonDirection.TOP:x>=bottomButtonRect_x&&x<=bottomButtonRect_x+bottomButtonRect_width&&y>=bottomButtonRect_y&&y<=bottomButtonRect_y+bottomButtonRect_height?ButtonDirection.BOTTOM:x>=leftButtonRect_x&&x<=leftButtonRect_x+leftButtonRect_width&&y>=leftButtonRect_y&&y<=leftButtonRect_y+leftButtonRect_height?ButtonDirection.LEFT:x>=rightButtonRect_x&&x<=rightButtonRect_x+rightButtonRect_width&&y>=rightButtonRect_y&&y<=rightButtonRect_y+rightButtonRect_height?ButtonDirection.RIGHT:null}},{key:"detectButtonClicked",value:function detectButtonClicked(coord){return this.detectMouseOnButton(coord)}},{key:"drawTopButton",value:function drawTopButton(opacity){var gridsWidth=this.gridSquareLength*this.getColumnCount(),gridsHeight=this.gridSquareLength*this.getRowCount(),ctx=this.ctx;ctx.save();var buttonPos={x:-gridsWidth/2,y:-gridsHeight/2-this.buttonMargin},correctedScreenPoint=getScreenPoint(convertCartesianToScreen(this.element,buttonPos,this.dpr),this.panZoom);ctx.fillStyle="#E1DFE1",ctx.globalAlpha=opacity,ctx.fillRect(correctedScreenPoint.x,correctedScreenPoint.y-this.buttonHeight/2*this.panZoom.scale,gridsWidth*this.panZoom.scale,this.buttonHeight*this.panZoom.scale),ctx.restore(),this.drawArrowHead(ctx,correctedScreenPoint.x+gridsWidth*this.panZoom.scale/2,correctedScreenPoint.y-this.buttonHeight/2*this.panZoom.scale,2*Math.PI,this.panZoom.scale,opacity),this.drawArrowHead(ctx,correctedScreenPoint.x+gridsWidth*this.panZoom.scale/2,correctedScreenPoint.y+this.buttonHeight/2*this.panZoom.scale,Math.PI,this.panZoom.scale,opacity)}},{key:"drawBottomButton",value:function drawBottomButton(opacity){var ctx=this.ctx;ctx.save();var gridsWidth=this.gridSquareLength*this.getColumnCount(),buttonPos={x:-gridsWidth/2,y:this.gridSquareLength*this.getRowCount()/2+this.buttonMargin},correctedScreenPoint=getScreenPoint(convertCartesianToScreen(this.element,buttonPos,this.dpr),this.panZoom);ctx.fillStyle="#E1DFE1",ctx.globalAlpha=opacity,ctx.fillRect(correctedScreenPoint.x,correctedScreenPoint.y-this.buttonHeight/2*this.panZoom.scale,gridsWidth*this.panZoom.scale,this.buttonHeight*this.panZoom.scale),ctx.restore(),this.drawArrowHead(ctx,correctedScreenPoint.x+gridsWidth*this.panZoom.scale/2,correctedScreenPoint.y-this.buttonHeight/2*this.panZoom.scale,2*Math.PI,this.panZoom.scale,opacity),this.drawArrowHead(ctx,correctedScreenPoint.x+gridsWidth*this.panZoom.scale/2,correctedScreenPoint.y+this.buttonHeight/2*this.panZoom.scale,Math.PI,this.panZoom.scale,opacity)}},{key:"drawArrowHead",value:function drawArrowHead(ctx,x,y,radians,scale,opacity){ctx.save(),ctx.beginPath(),ctx.translate(x,y),ctx.rotate(radians),ctx.moveTo(0,0),ctx.lineTo(10*scale,6*scale),ctx.lineTo(-10*scale,6*scale),ctx.closePath(),ctx.globalAlpha=opacity,ctx.fillStyle="#bbbbbb",ctx.fill(),ctx.restore()}},{key:"drawLeftButton",value:function drawLeftButton(opacity){var ctx=this.ctx;ctx.save();var gridsWidth=this.gridSquareLength*this.getColumnCount(),gridsHeight=this.gridSquareLength*this.getRowCount(),buttonPos={x:-gridsWidth/2-this.buttonMargin,y:-gridsHeight/2},correctedScreenPoint=getScreenPoint(convertCartesianToScreen(this.element,buttonPos,this.dpr),this.panZoom);ctx.fillStyle="#E1DFE1",ctx.globalAlpha=opacity,ctx.fillRect(correctedScreenPoint.x-this.buttonHeight/2*this.panZoom.scale,correctedScreenPoint.y,this.buttonHeight*this.panZoom.scale,gridsHeight*this.panZoom.scale),ctx.restore(),this.drawArrowHead(ctx,correctedScreenPoint.x-this.buttonHeight/2*this.panZoom.scale,correctedScreenPoint.y+gridsHeight*this.panZoom.scale/2,-Math.PI/2,this.panZoom.scale,opacity),this.drawArrowHead(ctx,correctedScreenPoint.x+this.buttonHeight/2*this.panZoom.scale,correctedScreenPoint.y+gridsHeight*this.panZoom.scale/2,Math.PI/2,this.panZoom.scale,opacity)}},{key:"drawRightButton",value:function drawRightButton(opacity){var ctx=this.ctx;ctx.save();var gridsWidth=this.gridSquareLength*this.getColumnCount(),gridsHeight=this.gridSquareLength*this.getRowCount(),buttonPos={x:gridsWidth/2+this.buttonMargin,y:-gridsHeight/2},correctedScreenPoint=getScreenPoint(convertCartesianToScreen(this.element,buttonPos,this.dpr),this.panZoom);ctx.fillStyle="#E1DFE1",ctx.globalAlpha=opacity,ctx.fillRect(correctedScreenPoint.x-this.buttonHeight/2*this.panZoom.scale,correctedScreenPoint.y,this.buttonHeight*this.panZoom.scale,gridsHeight*this.panZoom.scale),ctx.restore(),this.drawArrowHead(ctx,correctedScreenPoint.x-this.buttonHeight/2*this.panZoom.scale,correctedScreenPoint.y+gridsHeight*this.panZoom.scale/2,-Math.PI/2,this.panZoom.scale,opacity),this.drawArrowHead(ctx,correctedScreenPoint.x+this.buttonHeight/2*this.panZoom.scale,correctedScreenPoint.y+gridsHeight*this.panZoom.scale/2,Math.PI/2,this.panZoom.scale,opacity)}},{key:"drawButtons",value:function drawButtons(){this.drawTopButton(this.hoveredButton===ButtonDirection.TOP?.8:.4),this.drawBottomButton(this.hoveredButton===ButtonDirection.BOTTOM?.8:.4),this.drawLeftButton(this.hoveredButton===ButtonDirection.LEFT?.8:.4),this.drawRightButton(this.hoveredButton===ButtonDirection.RIGHT?.8:.4)}},{key:"drawRects",value:function drawRects(){var _this2=this,squareLength=this.gridSquareLength*this.panZoom.scale,leftTopPoint={x:-this.getColumnCount()/2*this.gridSquareLength,y:-this.getRowCount()/2*this.gridSquareLength},ctx=this.ctx,correctedLeftTopScreenPoint=getScreenPoint(convertCartesianToScreen(this.element,leftTopPoint,this.dpr),this.panZoom),allRowKeys=Array.from(this.data.keys()),allColumnKeys=Array.from(this.data.get(allRowKeys[0]).keys()),currentTopIndex=Math.min.apply(Math,allRowKeys),currentLeftIndex=Math.min.apply(Math,allColumnKeys);ctx.save();for(var i=0;i<this.getRowCount();i++)for(var _loop=function _loop(){var _this2$data$get,_this2$data$get$get,rowIndex=i+currentTopIndex,columnIndex=j+currentLeftIndex,color=null===(_this2$data$get=_this2.data.get(rowIndex))||void 0===_this2$data$get||null===(_this2$data$get$get=_this2$data$get.get(columnIndex))||void 0===_this2$data$get$get?void 0:_this2$data$get$get.color;if(0!==_this2.indicatorPixels.length){var indicator=_this2.indicatorPixels.find((function(pixel){return pixel.rowIndex===rowIndex&&pixel.columnIndex===columnIndex}));if(indicator){var relativeRowIndex=rowIndex-currentTopIndex,relativeColumnIndex=columnIndex-currentLeftIndex;ctx.save(),ctx.fillStyle=indicator.color,ctx.globalAlpha=.5,ctx.fillRect(relativeColumnIndex*squareLength+correctedLeftTopScreenPoint.x,relativeRowIndex*squareLength+correctedLeftTopScreenPoint.y,squareLength,squareLength),ctx.restore()}}if(_this2.hoveredPixel&&_this2.hoveredPixel.rowIndex===rowIndex&&_this2.hoveredPixel.columnIndex===columnIndex){ctx.save();var _this2$hoveredPixel=_this2.hoveredPixel,_rowIndex=_this2$hoveredPixel.rowIndex,_columnIndex=_this2$hoveredPixel.columnIndex,_relativeRowIndex=_rowIndex-currentTopIndex,_relativeColumnIndex=_columnIndex-currentLeftIndex;if(_this2.brushMode!==types.S.ERASER)return ctx.globalAlpha=.5,ctx.fillStyle=_this2.brushColor,color===_this2.brushColor&&(ctx.globalAlpha=1),ctx.fillRect(_relativeColumnIndex*squareLength+correctedLeftTopScreenPoint.x,_relativeRowIndex*squareLength+correctedLeftTopScreenPoint.y,squareLength,squareLength),ctx.restore(),"continue";if(color)return ctx.globalAlpha=.2,ctx.fillStyle=color,ctx.fillRect(_relativeColumnIndex*squareLength+correctedLeftTopScreenPoint.x,_relativeRowIndex*squareLength+correctedLeftTopScreenPoint.y,squareLength,squareLength),ctx.restore(),"continue";ctx.restore()}if(!color)return"continue";ctx.fillStyle=color,ctx.fillRect(j*squareLength+correctedLeftTopScreenPoint.x,i*squareLength+correctedLeftTopScreenPoint.y,squareLength,squareLength)},j=0;j<this.getColumnCount();j++)_loop();ctx.restore()}},{key:"drawGrids",value:function drawGrids(){var squareLength=this.gridSquareLength*this.panZoom.scale,leftTopPoint={x:-this.getColumnCount()/2*this.gridSquareLength,y:-this.getRowCount()/2*this.gridSquareLength},ctx=this.ctx,correctedScreenPoint=getScreenPoint(convertCartesianToScreen(this.element,leftTopPoint,this.dpr),this.panZoom);ctx.save(),ctx.lineWidth=1;for(var i=0;i<=this.getColumnCount();i++)ctx.beginPath(),ctx.moveTo(correctedScreenPoint.x+i*squareLength,correctedScreenPoint.y),ctx.lineTo(correctedScreenPoint.x+i*squareLength,correctedScreenPoint.y+this.getRowCount()*squareLength),ctx.stroke(),ctx.closePath();for(var j=0;j<=this.getRowCount();j++)ctx.beginPath(),ctx.moveTo(correctedScreenPoint.x,correctedScreenPoint.y+j*squareLength),ctx.lineTo(correctedScreenPoint.x+this.getColumnCount()*squareLength,correctedScreenPoint.y+j*squareLength),ctx.stroke(),ctx.closePath();ctx.restore()}},{key:"getData",value:function getData(){return this.data}},{key:"getDataArray",value:function getDataArray(){for(var dataArray=[],allRows=Array.from(this.data.entries()),i=0;i<allRows.length;i++){var columnPixels=Array.from(allRows[i][1]).map((function(element){return element[1]}));dataArray.push(columnPixels)}return dataArray}},{key:"getGridIndices",value:function getGridIndices(){var allRowKeys=Array.from(this.data.keys()),allColumnKeys=Array.from(this.data.get(allRowKeys[0]).keys()),currentTopIndex=Math.min.apply(Math,allRowKeys),currentLeftIndex=Math.min.apply(Math,allColumnKeys);return{topRowIndex:currentTopIndex,bottomRowIndex:currentTopIndex+allRowKeys.length-1,leftColumnIndex:currentLeftIndex,rightColumnIndex:currentLeftIndex+allColumnKeys.length-1}}},{key:"getDimensions",value:function getDimensions(){return{columnCount:this.getColumnCount(),rowCount:this.getRowCount()}}},{key:"erasePixels",value:function erasePixels(data){for(var currentCanvasIndices=this.getGridIndices(),validData=data.filter((function(change){var rowIndex=change.rowIndex,columnIndex=change.columnIndex;return rowIndex>=currentCanvasIndices.topRowIndex&&rowIndex<=currentCanvasIndices.bottomRowIndex&&columnIndex>=currentCanvasIndices.leftColumnIndex&&columnIndex<=currentCanvasIndices.rightColumnIndex})),i=0;i<validData.length;i++){var _validData$i=validData[i],rowIndex=_validData$i.rowIndex,columnIndex=_validData$i.columnIndex;this.data.get(rowIndex).set(columnIndex,{color:""})}this.render()}},{key:"colorPixels",value:function colorPixels(data){var rowIndices=data.map((function(change){return change.rowIndex})),columnIndices=data.map((function(change){return change.columnIndex})),minRowIndex=Math.min.apply(Math,(0,toConsumableArray.Z)(rowIndices)),maxRowIndex=Math.max.apply(Math,(0,toConsumableArray.Z)(rowIndices)),minColumnIndex=Math.min.apply(Math,(0,toConsumableArray.Z)(columnIndices)),maxColumnIndex=Math.min.apply(Math,(0,toConsumableArray.Z)(columnIndices)),currentCanvasIndices=this.getGridIndices();if(minRowIndex<currentCanvasIndices.topRowIndex)for(var index=currentCanvasIndices.topRowIndex-1;minRowIndex<=index;index--)this.extendGrid(ButtonDirection.TOP);if(maxRowIndex>currentCanvasIndices.bottomRowIndex)for(var _index=currentCanvasIndices.bottomRowIndex+1;maxRowIndex>=_index;_index++)this.extendGrid(ButtonDirection.BOTTOM);if(minColumnIndex<currentCanvasIndices.leftColumnIndex)for(var _index2=currentCanvasIndices.leftColumnIndex-1;minColumnIndex<=_index2;_index2--)this.extendGrid(ButtonDirection.LEFT);if(maxColumnIndex>currentCanvasIndices.rightColumnIndex)for(var _index3=currentCanvasIndices.rightColumnIndex+1;maxColumnIndex>=_index3;_index3++)this.extendGrid(ButtonDirection.RIGHT);var _step,_iterator=(0,createForOfIteratorHelper.Z)(data);try{for(_iterator.s();!(_step=_iterator.n()).done;){var change=_step.value;this.data.get(change.rowIndex).set(change.columnIndex,{color:change.color})}}catch(err){_iterator.e(err)}finally{_iterator.f()}this.emit(types.v.DATA_CHANGE,this.data),this.render()}},{key:"reset",value:function reset(){this.scale(1,1),this.panZoom={scale:1,offset:this.origin},this.clear()}},{key:"getContext",value:function getContext(){return this.ctx}},{key:"getPanZoom",value:function getPanZoom(){return this.panZoom}},{key:"getCanvasElement",value:function getCanvasElement(){return this.element}},{key:"getDpr",value:function getDpr(){return this.dpr}},{key:"initialize",value:function initialize(initData){if(this.emit=this.emit.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),touchy(this.element,addEvent,"mousedown",this.onMouseDown),touchy(this.element,addEvent,"mouseup",this.onMouseUp),touchy(this.element,addEvent,"mouseout",this.onMouseOut),touchy(this.element,addEvent,"mousemove",this.onMouseMove),this.element.addEventListener("wheel",this.handleWheel),initData)for(var i=0;i<initData.length;i++){this.data.set(i,new Map);for(var j=0;j<initData[i].length;j++)this.data.get(i).set(j,{color:initData[i][j].color})}else for(var _i=0;_i<6;_i++){this.data.set(_i,new Map);for(var _j=0;_j<8;_j++)this.data.get(_i).set(_j,{color:""})}}},{key:"emitGridEvent",value:function emitGridEvent(){var allRowKeys=Array.from(this.data.keys()),allColumnKeys=Array.from(this.data.get(allRowKeys[0]).keys()),dimensions={columnCount:this.getColumnCount(),rowCount:this.getRowCount()},indices={topRowIndex:Math.min.apply(Math,allRowKeys),bottomRowIndex:Math.max.apply(Math,allRowKeys),leftColumnIndex:Math.min.apply(Math,allColumnKeys),rightColumnIndex:Math.max.apply(Math,allColumnKeys)};this.emit(types.v.GRID_CHANGE,dimensions,indices)}},{key:"emitDataEvent",value:function emitDataEvent(){this.emit(types.v.DATA_CHANGE,this.data)}},{key:"emitBrushChangeEvent",value:function emitBrushChangeEvent(){this.emit(types.v.BRUSH_CHANGE,this.brushColor,this.brushMode)}},{key:"getMouseCartCoord",value:function getMouseCartCoord(evt){evt.preventDefault();var point=this.getPointFromTouchyEvent(evt);return diffPoints(getWorldPoint({x:point.offsetX,y:point.offsetY},this.panZoom),{x:this.element.width/this.dpr/2,y:this.element.height/this.dpr/2})}},{key:"changeBrushColor",value:function changeBrushColor(color){this.brushColor=color,this.emit(types.v.BRUSH_CHANGE,this.brushColor,this.brushMode)}},{key:"changeBrushMode",value:function changeBrushMode(brushMode){this.brushMode=brushMode,this.emit(types.v.BRUSH_CHANGE,this.brushColor,this.brushMode)}},{key:"getPixelIndexFromMouseCartCoord",value:function getPixelIndexFromMouseCartCoord(mouseCartCoord){var leftTopPoint_x=-this.getColumnCount()/2*this.gridSquareLength,leftTopPoint_y=-this.getRowCount()/2*this.gridSquareLength;if(mouseCartCoord.x>leftTopPoint_x&&mouseCartCoord.x<leftTopPoint_x+this.getColumnCount()*this.gridSquareLength&&mouseCartCoord.y>leftTopPoint_y&&mouseCartCoord.y<leftTopPoint_y+this.getRowCount()*this.gridSquareLength){var allRowKeys=Array.from(this.data.keys()),allColumnKeys=Array.from(this.data.get(allRowKeys[0]).keys()),currentTopIndex=Math.min.apply(Math,allRowKeys),currentLeftIndex=Math.min.apply(Math,allColumnKeys);return{rowIndex:currentTopIndex+Math.floor((mouseCartCoord.y-leftTopPoint_y)/this.gridSquareLength),columnIndex:currentLeftIndex+Math.floor((mouseCartCoord.x-leftTopPoint_x)/this.gridSquareLength)}}return null}},{key:"downloadImage",value:function downloadImage(props){var imageCanvas=document.createElement("canvas"),columnCount=this.getColumnCount(),rowCount=this.getRowCount();imageCanvas.width=columnCount*this.gridSquareLength,imageCanvas.height=rowCount*this.gridSquareLength;for(var imageContext=imageCanvas.getContext("2d"),allRowKeys=Array.from(this.data.keys()),allColumnKeys=Array.from(this.data.get(allRowKeys[0]).keys()),currentTopIndex=Math.min.apply(Math,allRowKeys),currentLeftIndex=Math.min.apply(Math,allColumnKeys),i=0;i<rowCount;i++){for(var j=0;j<columnCount;j++){var rowIndex=i+currentTopIndex,columnIndex=j+currentLeftIndex,pixel=this.data.get(rowIndex).get(columnIndex);if(pixel&&pixel.color){var pixelCoord={x:j*this.gridSquareLength,y:i*this.gridSquareLength};imageContext.save(),imageContext.fillStyle=pixel.color,imageContext.fillRect(pixelCoord.x,pixelCoord.y,this.gridSquareLength,this.gridSquareLength),imageContext.restore()}}if(imageContext.save(),imageContext.strokeStyle="#000000",imageContext.lineWidth=1,props&&props.isGridVisible){for(var _i2=0;_i2<=this.getColumnCount();_i2++)imageContext.beginPath(),imageContext.moveTo(_i2*this.gridSquareLength,0),imageContext.lineTo(_i2*this.gridSquareLength,rowCount*this.gridSquareLength),imageContext.stroke(),imageContext.closePath();for(var _j2=0;_j2<=this.getRowCount();_j2++)imageContext.beginPath(),imageContext.moveTo(0,_j2*this.gridSquareLength),imageContext.lineTo(columnCount*this.gridSquareLength,_j2*this.gridSquareLength),imageContext.stroke(),imageContext.closePath()}imageContext.restore()}var anchor=document.createElement("a");anchor.href=imageCanvas.toDataURL("image/png"),anchor.download="dotting.png",anchor.click()}},{key:"drawPixel",value:function drawPixel(rowIndex,columnIndex){this.brushMode===types.S.ERASER?(this.data.get(rowIndex).set(columnIndex,{color:""}),this.emit(types.v.DATA_CHANGE,this.data)):this.brushMode===types.S.DOT&&(0!==this.strokedPixels.length&&this.strokedPixels[this.strokedPixels.length-1].rowIndex===rowIndex&&this.strokedPixels[this.strokedPixels.length-1].columnIndex===columnIndex||this.strokedPixels.push({rowIndex,columnIndex,color:this.brushColor}),this.data.get(rowIndex).get(columnIndex).color!==this.brushColor&&(this.data.get(rowIndex).set(columnIndex,{color:this.brushColor}),this.emit(types.v.DATA_CHANGE,this.data))),this.render()}},{key:"onMouseDown",value:function onMouseDown(evt){evt.preventDefault();var point=this.getPointFromTouchyEvent(evt);this.panPoint.lastMousePos={x:point.offsetX,y:point.offsetY};var mouseCartCoord=this.getMouseCartCoord(evt),pixelIndex=this.getPixelIndexFromMouseCartCoord(mouseCartCoord);if(pixelIndex&&this.drawPixel(pixelIndex.rowIndex,pixelIndex.columnIndex),this.mouseMode=pixelIndex?MouseMode.DRAWING:MouseMode.PANNING,!this.isGridFixed){var buttonDirection=this.detectButtonClicked(mouseCartCoord);buttonDirection&&(this.extensionPoint.lastMousePos={x:mouseCartCoord.x,y:mouseCartCoord.y},this.extensionPoint.direction=buttonDirection,this.mouseMode=MouseMode.EXTENDING,touchy(this.element,addEvent,"mousemove",this.handleExtension))}this.mouseMode===MouseMode.PANNING&&(touchy(this.element,addEvent,"mousemove",this.handlePanning),touchy(this.element,addEvent,"mousemove",this.handlePinchZoom))}},{key:"extendGrid",value:function extendGrid(direction){var currentRowCount=this.getRowCount(),currentColumnCount=this.getColumnCount(),allRowKeys=Array.from(this.data.keys()),allColumnKeys=Array.from(this.data.get(allRowKeys[0]).keys()),currentTopIndex=Math.min.apply(Math,allRowKeys),currentLeftIndex=Math.min.apply(Math,allColumnKeys),currentBottomIndex=currentTopIndex+currentRowCount-1,currentRightIndex=currentLeftIndex+currentColumnCount-1;switch(direction){case ButtonDirection.TOP:var newTopIndex=currentTopIndex-1;this.data.set(newTopIndex,new Map);for(var i=currentLeftIndex;i<=currentRightIndex;i++)this.data.get(newTopIndex).set(i,{color:""});this.setPanZoom({offset:{x:this.panZoom.offset.x,y:this.panZoom.offset.y-this.gridSquareLength/2*this.panZoom.scale}});break;case ButtonDirection.BOTTOM:var newBottomIndex=currentBottomIndex+1;this.data.set(newBottomIndex,new Map);for(var _i3=currentLeftIndex;_i3<=currentRightIndex;_i3++)this.data.get(newBottomIndex).set(_i3,{color:""});this.setPanZoom({offset:{x:this.panZoom.offset.x,y:this.panZoom.offset.y+this.gridSquareLength/2*this.panZoom.scale}});break;case ButtonDirection.LEFT:var newLeftIndex=currentLeftIndex-1;this.data.forEach((function(row){row.set(newLeftIndex,{color:""})})),this.setPanZoom({offset:{x:this.panZoom.offset.x-this.gridSquareLength/2*this.panZoom.scale,y:this.panZoom.offset.y}});break;case ButtonDirection.RIGHT:var newRightIndex=currentRightIndex+1;this.data.forEach((function(row){row.set(newRightIndex,{color:""})})),this.setPanZoom({offset:{x:this.panZoom.offset.x+this.gridSquareLength/2*this.panZoom.scale,y:this.panZoom.offset.y}})}this.emit(types.v.DATA_CHANGE,this.data);var newAllRowKeys=Array.from(this.data.keys()),newAllColumnKeys=Array.from(this.data.get(newAllRowKeys[0]).keys()),dimensions={columnCount:this.getColumnCount(),rowCount:this.getRowCount()},indices={topRowIndex:Math.min.apply(Math,newAllRowKeys),bottomRowIndex:Math.max.apply(Math,newAllRowKeys),leftColumnIndex:Math.min.apply(Math,newAllColumnKeys),rightColumnIndex:Math.max.apply(Math,newAllColumnKeys)};this.emit(types.v.GRID_CHANGE,dimensions,indices),this.render()}},{key:"shortenGrid",value:function shortenGrid(direction){var allRowKeys=Array.from(this.data.keys()),allColumnKeys=Array.from(this.data.get(allRowKeys[0]).keys()),currentTopIndex=Math.min.apply(Math,allRowKeys),currentLeftIndex=Math.min.apply(Math,allColumnKeys),currentBottomIndex=currentTopIndex+this.getRowCount()-1,currentRightIndex=currentLeftIndex+this.getColumnCount()-1;switch(direction){case ButtonDirection.TOP:if(allRowKeys.length<=2)break;this.data.delete(currentTopIndex),this.setPanZoom({offset:{x:this.panZoom.offset.x,y:this.panZoom.offset.y+this.gridSquareLength/2*this.panZoom.scale}});break;case ButtonDirection.BOTTOM:if(allRowKeys.length<=2)break;this.data.delete(currentBottomIndex),this.setPanZoom({offset:{x:this.panZoom.offset.x,y:this.panZoom.offset.y-this.gridSquareLength/2*this.panZoom.scale}});break;case ButtonDirection.LEFT:if(allColumnKeys.length<=2)break;this.data.forEach((function(row){row.delete(currentLeftIndex)})),this.setPanZoom({offset:{x:this.panZoom.offset.x+this.gridSquareLength/2*this.panZoom.scale,y:this.panZoom.offset.y}});break;case ButtonDirection.RIGHT:if(allColumnKeys.length<=2)break;this.data.forEach((function(row){row.delete(currentRightIndex)})),this.setPanZoom({offset:{x:this.panZoom.offset.x-this.gridSquareLength/2*this.panZoom.scale,y:this.panZoom.offset.y}})}this.emit(types.v.DATA_CHANGE,this.data);var newAllRowKeys=Array.from(this.data.keys()),newAllColumnKeys=Array.from(this.data.get(newAllRowKeys[0]).keys()),dimensions={columnCount:this.getColumnCount(),rowCount:this.getRowCount()},indices={topRowIndex:Math.min.apply(Math,newAllRowKeys),bottomRowIndex:Math.max.apply(Math,newAllRowKeys),leftColumnIndex:Math.min.apply(Math,newAllColumnKeys),rightColumnIndex:Math.max.apply(Math,newAllColumnKeys)};this.emit(types.v.GRID_CHANGE,dimensions,indices),this.render()}},{key:"onMouseMove",value:function onMouseMove(evt){evt.preventDefault();var mouseCartCoord=this.getMouseCartCoord(evt),pixelIndex=this.getPixelIndexFromMouseCartCoord(mouseCartCoord);pixelIndex?this.mouseMode===MouseMode.DRAWING?this.drawPixel(pixelIndex.rowIndex,pixelIndex.columnIndex):(this.hoveredPixel=pixelIndex,this.render()):(this.hoveredPixel=null,this.render());var buttonDirection=this.detectMouseOnButton(mouseCartCoord);if(buttonDirection)return this.hoveredButton=buttonDirection,void this.render();this.mouseMode!==MouseMode.EXTENDING&&(this.hoveredButton=null),this.render()}},{key:"removePanListeners",value:function removePanListeners(){touchy(this.element,removeEvent,"mousemove",this.handlePanning),touchy(this.element,removeEvent,"mousemove",this.handlePinchZoom)}},{key:"onMouseUp",value:function onMouseUp(){this.mouseMode=MouseMode.NULL,0!==this.strokedPixels.length&&(this.emit(types.v.STROKE_END,this.strokedPixels,this.data),this.strokedPixels=[]),touchy(this.element,removeEvent,"mousemove",this.handlePanning),touchy(this.element,removeEvent,"mousemove",this.handlePinchZoom),touchy(this.element,removeEvent,"mousemove",this.handleExtension),this.pinchZoomPrevDiff=void 0,this.hoveredButton=null}},{key:"onMouseOut",value:function onMouseOut(){this.mouseMode!==MouseMode.PANNING&&(touchy(this.element,removeEvent,"mousemove",this.handleExtension),touchy(this.element,removeEvent,"mousemove",this.handlePanning),touchy(this.element,removeEvent,"mousemove",this.handlePinchZoom),this.hoveredButton=null)}},{key:"getColumnCount",value:function getColumnCount(){return 0===this.data.size?0:this.data.entries().next().value[1].size}},{key:"getRowCount",value:function getRowCount(){return this.data.size}},{key:"setPanZoom",value:function setPanZoom(param){var scale=param.scale,offset=param.offset;if(scale&&(this.panZoom.scale=scale),offset){var correctedOffset=(0,objectSpread2.Z)({},offset),columnCount=this.data.entries().next().value[1].size,rowCount=this.data.size,isGridRowsBiggerThanCanvas=rowCount*this.gridSquareLength*this.panZoom.scale>this.height,isGridColumnsBiggerThanCanvas=columnCount*this.gridSquareLength*this.panZoom.scale>this.width,minXPosition=isGridColumnsBiggerThanCanvas?this.width-columnCount*this.gridSquareLength*this.panZoom.scale-(this.width-columnCount*this.gridSquareLength)*this.panZoom.scale/2:-(this.width-columnCount*this.gridSquareLength)/2*this.panZoom.scale,minYPosition=isGridRowsBiggerThanCanvas?this.height-rowCount*this.gridSquareLength*this.panZoom.scale-(this.height-rowCount*this.gridSquareLength)*this.panZoom.scale/2:-(this.height-rowCount*this.gridSquareLength)/2*this.panZoom.scale,maxXPosition=isGridColumnsBiggerThanCanvas?-(this.width-columnCount*this.gridSquareLength)/2*this.panZoom.scale:this.width-columnCount*this.gridSquareLength*this.panZoom.scale-(this.width-columnCount*this.gridSquareLength)*this.panZoom.scale/2,maxYPosition=isGridRowsBiggerThanCanvas?rowCount*this.gridSquareLength*this.panZoom.scale/2-this.height/2*this.panZoom.scale:this.height-rowCount*this.gridSquareLength*this.panZoom.scale-(this.height-rowCount*this.gridSquareLength)*this.panZoom.scale/2;correctedOffset.x<minXPosition&&(correctedOffset.x=minXPosition),correctedOffset.y<minYPosition&&(correctedOffset.y=minYPosition),correctedOffset.x>maxXPosition&&(correctedOffset.x=maxXPosition),correctedOffset.y>maxYPosition&&(correctedOffset.y=maxYPosition),this.panZoom.offset=correctedOffset}this.render()}},{key:"setMouseMode",value:function setMouseMode(mode){this.mouseMode=mode}},{key:"getPointFromTouch",value:function getPointFromTouch(touch){var r=this.element.getBoundingClientRect(),originY=touch.clientY,originX=touch.clientX,offsetX=touch.clientX-r.left,offsetY=touch.clientY-r.top;return{x:originX-this.panZoom.offset.x,y:originY-this.panZoom.offset.y,offsetX,offsetY}}},{key:"getPointFromTouchyEvent",value:function getPointFromTouchyEvent(evt){var originY,originX,offsetX,offsetY;if(window.TouchEvent&&evt instanceof TouchEvent){for(var isCanvasTouchIncluded=!1,firstCanvasTouchIndex=0,i=0;i<evt.touches.length;i++){if(evt.touches.item(i).target instanceof HTMLCanvasElement){isCanvasTouchIncluded=!0,firstCanvasTouchIndex=i;break}}return isCanvasTouchIncluded?this.getPointFromTouch(evt.touches[firstCanvasTouchIndex]):this.getPointFromTouch(evt.touches[0])}return originY=evt.clientY,originX=evt.clientX,offsetX=evt.offsetX,offsetY=evt.offsetY,originY+=window.scrollY,originX+=window.scrollX,{y:originY-this.panZoom.offset.y,x:originX-this.panZoom.offset.x,offsetX,offsetY}}},{key:"getWidth",value:function getWidth(){return this.width}},{key:"getHeight",value:function getHeight(){return this.height}},{key:"setWidth",value:function setWidth(width,devicePixelRatio){this.width=width,this.element.width=devicePixelRatio?width*devicePixelRatio:width,this.element.style.width="".concat(width,"px")}},{key:"setHeight",value:function setHeight(height,devicePixelRatio){this.height=height,this.element.height=devicePixelRatio?height*devicePixelRatio:height,this.element.style.height="".concat(height,"px")}},{key:"setSize",value:function setSize(width,height,devicePixelRatio){this.setWidth(width,devicePixelRatio),this.setHeight(height,devicePixelRatio),this.dpr=devicePixelRatio||this.dpr}},{key:"scale",value:function scale(x,y){this.ctx.scale(x,y)}},{key:"roundRect",value:function roundRect(x,y,width,height,radius){var ctx=this.ctx;ctx.save(),ctx.fillStyle="#FF7C7C",ctx.beginPath(),ctx.moveTo(x+radius,y),ctx.arcTo(x+width,y,x+width,y+height,radius),ctx.arcTo(x+width,y+height,x,y+height,radius),ctx.arcTo(x,y+height,x,y,radius),ctx.arcTo(x,y,x+width,y,radius),ctx.closePath(),ctx.fill(),ctx.restore()}},{key:"render",value:function render(){this.ctx.clearRect(0,0,this.width,this.height),this.ctx.save(),this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.width,this.height),this.ctx.restore(),this.drawRects(),this.isGridVisible&&this.drawGrids(),this.isGridFixed||this.drawButtons()}},{key:"drawHoveredPixel",value:function drawHoveredPixel(){if(this.hoveredPixel){var _this$hoveredPixel=this.hoveredPixel;_this$hoveredPixel.rowIndex,_this$hoveredPixel.columnIndex;this.ctx.save(),this.ctx.fillStyle=this.brushColor,this.ctx.globalAlpha=.5,this.ctx.restore()}}},{key:"clear",value:function clear(){var rowCount=this.getRowCount(),columnCount=this.getColumnCount();this.data=new Map;for(var i=0;i<rowCount;i++){this.data.set(i,new Map);for(var j=0;j<columnCount;j++)this.data.get(i).set(j,{color:""})}this.render()}},{key:"destroy",value:function destroy(){touchy(this.element,removeEvent,"mouseup",this.onMouseUp),touchy(this.element,removeEvent,"mouseout",this.onMouseOut),touchy(this.element,removeEvent,"mousedown",this.onMouseDown),touchy(this.element,removeEvent,"mousemove",this.onMouseMove),touchy(this.element,removeEvent,"mousemove",this.handlePanning),touchy(this.element,removeEvent,"mousemove",this.handlePinchZoom),this.element.removeEventListener("wheel",this.handleWheel)}}]),Canvas}(EventDispatcher),Dotting=(0,react.forwardRef)((function Dotting(props,ref){var containerRef=(0,react.useRef)(null),_useState=(0,react.useState)(null),_useState2=(0,slicedToArray.Z)(_useState,2),canvas=_useState2[0],setCanvas=_useState2[1],_useState3=(0,react.useState)([]),_useState4=(0,slicedToArray.Z)(_useState3,2),dataChangeListeners=_useState4[0],setDataChangeListeners=_useState4[1],_useState5=(0,react.useState)([]),_useState6=(0,slicedToArray.Z)(_useState5,2),gridChangeListeners=_useState6[0],setGridChangeListeners=_useState6[1],_useState7=(0,react.useState)([]),_useState8=(0,slicedToArray.Z)(_useState7,2),strokeEndListeners=_useState8[0],setStrokeEndListeners=_useState8[1],_useState9=(0,react.useState)([]),_useState10=(0,slicedToArray.Z)(_useState9,2),brushChangeListeners=_useState10[0],setBrushChangeListeners=_useState10[1];(0,react.useEffect)((function(){canvas&&canvas.setIsGridFixed(props.isGridFixed)}),[canvas,props.isGridFixed]),(0,react.useEffect)((function(){canvas&&canvas.setIsGridVisible(props.isGridVisible)}),[canvas,props.isGridVisible]),(0,react.useEffect)((function(){canvas&&canvas.setIsPanZoomable(props.isPanZoomable)}),[canvas,props.isPanZoomable]),(0,react.useEffect)((function(){if(canvas)return gridChangeListeners.forEach((function(listener){canvas.addEventListener(types.v.GRID_CHANGE,listener)})),canvas.emitGridEvent(),function(){gridChangeListeners.forEach((function(listener){null==canvas||canvas.removeEventListener(types.v.GRID_CHANGE,listener)}))}}),[canvas,gridChangeListeners]),(0,react.useEffect)((function(){if(canvas)return dataChangeListeners.forEach((function(listener){canvas.addEventListener(types.v.DATA_CHANGE,listener)})),canvas.emitDataEvent(),function(){dataChangeListeners.forEach((function(listener){null==canvas||canvas.removeEventListener(types.v.DATA_CHANGE,listener)}))}}),[canvas,dataChangeListeners]),(0,react.useEffect)((function(){if(canvas)return brushChangeListeners.forEach((function(listener){canvas.addEventListener(types.v.BRUSH_CHANGE,listener)})),canvas.emitBrushChangeEvent(),function(){brushChangeListeners.forEach((function(listener){null==canvas||canvas.removeEventListener(types.v.BRUSH_CHANGE,listener)}))}}),[canvas,brushChangeListeners]),(0,react.useEffect)((function(){if(canvas)return strokeEndListeners.forEach((function(listener){canvas.addEventListener(types.v.STROKE_END,listener)})),function(){strokeEndListeners.forEach((function(listener){null==canvas||canvas.removeEventListener(types.v.STROKE_END,listener)}))}}),[canvas,strokeEndListeners]),(0,react.useEffect)((function(){var onResize=function onResize(){if(containerRef.current&&canvas){var dpr=window.devicePixelRatio,rect=containerRef.current.getBoundingClientRect();canvas.setSize(rect.width,rect.height,dpr),canvas.scale(dpr,dpr),canvas.render()}};return onResize(),window.addEventListener("resize",onResize),function(){window.removeEventListener("resize",onResize)}}),[canvas,containerRef,props.height,props.width]);var gotRef=(0,react.useCallback)((function(canvasRef){if(canvasRef){var canvas=new Canvas(canvasRef,props.initData,props.isPanZoomable,props.isGridVisible,props.isGridFixed,props.initBrushColor,props.initIndicatorData);setCanvas(canvas)}}),[history]),addDataChangeListener=(0,react.useCallback)((function(listener){setDataChangeListeners((function(listeners){return[].concat((0,toConsumableArray.Z)(listeners),[listener])}))}),[]),removeDataChangeListener=(0,react.useCallback)((function(listener){canvas.removeEventListener(types.v.DATA_CHANGE,listener),setDataChangeListeners((function(listeners){return listeners.filter((function(l){return l!==listener}))}))}),[canvas]),addGridChangeListener=(0,react.useCallback)((function(listener){setGridChangeListeners((function(listeners){return[].concat((0,toConsumableArray.Z)(listeners),[listener])}))}),[]),removeGridChangeListener=(0,react.useCallback)((function(listener){canvas.removeEventListener(types.v.GRID_CHANGE,listener),setGridChangeListeners((function(listeners){return listeners.filter((function(l){return l!==listener}))}))}),[canvas]),addBrushChangeListener=(0,react.useCallback)((function(listener){setBrushChangeListeners((function(listeners){return[].concat((0,toConsumableArray.Z)(listeners),[listener])}))}),[]),removeBrushChangeListener=(0,react.useCallback)((function(listener){canvas.removeEventListener(types.v.BRUSH_CHANGE,listener),setBrushChangeListeners((function(listeners){return listeners.filter((function(l){return l!==listener}))}))}),[canvas]),addStrokeEndListener=(0,react.useCallback)((function(listener){setStrokeEndListeners((function(listeners){return[].concat((0,toConsumableArray.Z)(listeners),[listener])}))}),[]),removeStrokeEndListener=(0,react.useCallback)((function(listener){canvas.removeEventListener(types.v.STROKE_END,listener),setStrokeEndListeners((function(listeners){return listeners.filter((function(l){return l!==listener}))}))}),[canvas]),addEventListener=(0,react.useCallback)((function(type,listener){null==canvas||canvas.addEventListener(type,listener)}),[canvas]),removeEventListener=(0,react.useCallback)((function(type,listener){null==canvas||canvas.removeEventListener(type,listener)}),[canvas]),clear=(0,react.useCallback)((function(){return null==canvas?void 0:canvas.clear()}),[canvas]),colorPixels=(0,react.useCallback)((function(changes){null==canvas||canvas.colorPixels(changes)}),[canvas]),erasePixels=(0,react.useCallback)((function(changes){null==canvas||canvas.erasePixels(changes)}),[canvas]),setIndicatorPixels=(0,react.useCallback)((function(indicators){null==canvas||canvas.setIndicatorPixels(indicators)}),[canvas]),downloadImage=(0,react.useCallback)((function(options){null==canvas||canvas.downloadImage(options)}),[canvas]),changeBrushColor=(0,react.useCallback)((function(color){null==canvas||canvas.changeBrushColor(color)}),[canvas]),changeBrushMode=(0,react.useCallback)((function(brushMode){null==canvas||canvas.changeBrushMode(brushMode)}),[canvas]);return(0,react.useImperativeHandle)(ref,(function(){return{addEventListener,removeEventListener,setIndicatorPixels,clear,colorPixels,erasePixels,downloadImage,changeBrushColor,changeBrushMode,addDataChangeListener,removeDataChangeListener,addGridChangeListener,removeGridChangeListener,addBrushChangeListener,removeBrushChangeListener,addStrokeEndListener,removeStrokeEndListener}}),[clear]),react.createElement("div",{style:{width:props.width,height:props.height},ref:containerRef},react.createElement("canvas",{ref:gotRef,style:{border:"1px solid black",touchAction:"none"}}))}));const components_Dotting=Dotting;try{Dotting.displayName="Dotting",Dotting.__docgenInfo={description:"",displayName:"Dotting",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"string | number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"string | number"}},isGridVisible:{defaultValue:null,description:"",name:"isGridVisible",required:!1,type:{name:"boolean"}},initData:{defaultValue:null,description:"",name:"initData",required:!1,type:{name:"PixelData[][]"}},initIndicatorData:{defaultValue:null,description:"",name:"initIndicatorData",required:!1,type:{name:"PixelModifyItem[]"}},isPanZoomable:{defaultValue:null,description:"",name:"isPanZoomable",required:!1,type:{name:"boolean"}},isGridFixed:{defaultValue:null,description:"",name:"isGridFixed",required:!1,type:{name:"boolean"}},initBrushColor:{defaultValue:null,description:"",name:"initBrushColor",required:!1,type:{name:"string"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<DottingRef>"}},key:{defaultValue:null,description:"",name:"key",required:!1,type:{name:"Key"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Dotting.tsx#Dotting"]={docgenInfo:Dotting.__docgenInfo,name:"Dotting",path:"src/components/Dotting.tsx#Dotting"})}catch(__react_docgen_typescript_loader_error){}},"./src/hooks/useBrush.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_dotting_dotting_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_components_Canvas_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Canvas/types.ts"),_useHandlers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/hooks/useHandlers.ts");const __WEBPACK_DEFAULT_EXPORT__=function useBrush(ref){var _useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(_components_Canvas_types__WEBPACK_IMPORTED_MODULE_1__.S.DOT),_useState2=(0,_home_runner_work_dotting_dotting_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.Z)(_useState,2),brushMode=_useState2[0],setBrushMode=_useState2[1],_useState3=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),_useState4=(0,_home_runner_work_dotting_dotting_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.Z)(_useState3,2),brushColor=_useState4[0],setBrushColor=_useState4[1],_useHandlers=(0,_useHandlers__WEBPACK_IMPORTED_MODULE_2__.Z)(ref),addBrushChangeListener=_useHandlers.addBrushChangeListener,removeBrushChangeListener=_useHandlers.removeBrushChangeListener;(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var listener=function listener(brushColor,brushMode){setBrushMode(brushMode),setBrushColor(brushColor)};return addBrushChangeListener(listener),function(){removeBrushChangeListener(listener)}}),[addBrushChangeListener,removeBrushChangeListener]);var changeBrushColor=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(brushColor){var _ref$current;null===(_ref$current=ref.current)||void 0===_ref$current||_ref$current.changeBrushColor(brushColor)}),[ref]),changeBrushMode=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(brushMode){var _ref$current2;null===(_ref$current2=ref.current)||void 0===_ref$current2||_ref$current2.changeBrushMode(brushMode)}),[ref]);return{changeBrushColor,changeBrushMode,brushMode,brushColor}}},"./src/hooks/useHandlers.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=function useHandlers(ref){return{addDataChangeListener:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(listener){var _ref$current;null===(_ref$current=ref.current)||void 0===_ref$current||_ref$current.addDataChangeListener(listener)}),[ref]),removeDataChangeListener:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(listener){var _ref$current2;null===(_ref$current2=ref.current)||void 0===_ref$current2||_ref$current2.removeDataChangeListener(listener)}),[ref]),addGridChangeListener:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(listener){var _ref$current3;null===(_ref$current3=ref.current)||void 0===_ref$current3||_ref$current3.addGridChangeListener(listener)}),[ref]),removeGridChangeListener:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(listener){var _ref$current4;null===(_ref$current4=ref.current)||void 0===_ref$current4||_ref$current4.removeGridChangeListener(listener)}),[ref]),addBrushChangeListener:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(listener){var _ref$current5;null===(_ref$current5=ref.current)||void 0===_ref$current5||_ref$current5.addBrushChangeListener(listener)}),[ref]),removeBrushChangeListener:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(listener){var _ref$current6;null===(_ref$current6=ref.current)||void 0===_ref$current6||_ref$current6.removeBrushChangeListener(listener)}),[ref]),addStrokeEndListener:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(listener){var _ref$current7;null===(_ref$current7=ref.current)||void 0===_ref$current7||_ref$current7.addStrokeEndListener(listener)}),[ref]),removeStrokeEndListener:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(listener){var _ref$current8;null===(_ref$current8=ref.current)||void 0===_ref$current8||_ref$current8.removeStrokeEndListener(listener)}),[ref])}}},"./stories/useBrushComponents/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{t:()=>useBrushComponents_ChangeBrushColor,H:()=>useBrushComponents_ChangeBrushMode});__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js");var react=__webpack_require__("./node_modules/react/index.js"),Dotting=__webpack_require__("./src/components/Dotting.tsx"),useBrush=__webpack_require__("./src/hooks/useBrush.ts");const useBrushComponents_ChangeBrushColor=function ChangeBrushColor(){var ref=(0,react.useRef)(),_useBrush=(0,useBrush.Z)(ref),changeBrushColor=_useBrush.changeBrushColor,brushColor=_useBrush.brushColor;return react.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",fontFamily:"'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif",marginBottom:50}},react.createElement(Dotting.Z,{ref,width:"100%",height:300}),react.createElement("div",{style:{display:"flex",alignItems:"center",marginTop:10,marginBottom:3}},react.createElement("span",{style:{fontSize:13}},"Brush Color"),react.createElement("div",{style:{borderRadius:"50%",width:20,height:20,marginLeft:15,backgroundColor:brushColor}})),react.createElement("div",null,["#FF0000","#0000FF","#00FF00","#FF00FF","#00FFFF","#FFFF00","#000000","#FFFFFF"].map((function(color){return react.createElement("div",{key:color,onClick:changeBrushColor.bind(null,color),style:{width:25,height:25,margin:10,border:"1px solid black",backgroundColor:color,display:"inline-block"}})}))))};var types=__webpack_require__("./src/components/Canvas/types.ts");const useBrushComponents_ChangeBrushMode=function ChangeBrushMode(){var ref=(0,react.useRef)(),_useBrush=(0,useBrush.Z)(ref),changeBrushMode=(_useBrush.changeBrushColor,_useBrush.changeBrushMode),brushMode=_useBrush.brushMode;return react.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",fontFamily:"'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"}},react.createElement(Dotting.Z,{ref,width:"100%",height:300}),react.createElement("div",{style:{display:"flex",alignItems:"center",marginTop:10,marginBottom:3,fontSize:13}},react.createElement("span",null,"Brush Mode"),react.createElement("select",{style:{marginLeft:15},value:brushMode,onChange:function onChange(e){changeBrushMode(e.target.value)}},react.createElement("option",{value:types.S.DOT},types.S.DOT),react.createElement("option",{value:types.S.ERASER},types.S.ERASER))),react.createElement("div",null))}},"./stories/useDottingComponents/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{UZ:()=>useDottingComponents_Clear,aF:()=>ColorPixels,sQ:()=>useDottingComponents_DownloadImage,Z_:()=>useDottingComponents_SetIndicatorPixels});var react=__webpack_require__("./node_modules/react/index.js"),Dotting=__webpack_require__("./src/components/Dotting.tsx");const hooks_useDotting=function useDotting(ref){return{clear:(0,react.useCallback)((function(){var _ref$current;null===(_ref$current=ref.current)||void 0===_ref$current||_ref$current.clear()}),[ref]),colorPixels:(0,react.useCallback)((function(changes){var _ref$current2;null===(_ref$current2=ref.current)||void 0===_ref$current2||_ref$current2.colorPixels(changes)}),[ref]),erasePixels:(0,react.useCallback)((function(changes){var _ref$current3;null===(_ref$current3=ref.current)||void 0===_ref$current3||_ref$current3.erasePixels(changes)}),[ref]),downloadImage:(0,react.useCallback)((function(options){var _ref$current4;null===(_ref$current4=ref.current)||void 0===_ref$current4||_ref$current4.downloadImage(options)}),[ref]),setIndicatorPixels:(0,react.useCallback)((function(indicators){var _ref$current5;null===(_ref$current5=ref.current)||void 0===_ref$current5||_ref$current5.setIndicatorPixels(indicators)}),[ref])}};const useDottingComponents_Clear=function Clear(){var ref=(0,react.useRef)(),clear=hooks_useDotting(ref).clear;return react.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"}},react.createElement(Dotting.Z,{ref,width:"100%",height:300}),react.createElement("button",{style:{padding:"5px 10px",background:"none",marginTop:10,marginBottom:50},onClick:clear},"Clear Canvas"))};__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js");var slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");const ColorPixels=function ChangePixelColor(){var ref=(0,react.useRef)(),_useDotting=hooks_useDotting(ref),colorPixels=_useDotting.colorPixels,erasePixels=_useDotting.erasePixels,_React$useState=react.useState(0),_React$useState2=(0,slicedToArray.Z)(_React$useState,2),rowIndex=_React$useState2[0],setRowIndex=_React$useState2[1],_React$useState3=react.useState(0),_React$useState4=(0,slicedToArray.Z)(_React$useState3,2),columnIndex=_React$useState4[0],setColumnIndex=_React$useState4[1],_React$useState5=react.useState(0),_React$useState6=(0,slicedToArray.Z)(_React$useState5,2),rowIndex2=_React$useState6[0],setRowIndex2=_React$useState6[1],_React$useState7=react.useState(0),_React$useState8=(0,slicedToArray.Z)(_React$useState7,2),columnIndex2=_React$useState8[0],setColumnIndex2=_React$useState8[1];return react.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",fontFamily:"'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"}},react.createElement(Dotting.Z,{ref,width:"100%",height:300}),react.createElement("div",null,react.createElement("div",{style:{padding:"20px 0",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},react.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},react.createElement("div",{style:{margin:"0 10px"}},react.createElement("span",null,"Row Index: "),react.createElement("input",{style:{width:40,height:20},type:"number",value:rowIndex,onChange:function onChange(e){return setRowIndex(Number(e.target.value))}})),react.createElement("div",{style:{margin:"0 10px"}},react.createElement("span",null,"Column Index: "),react.createElement("input",{style:{width:40,height:20},type:"number",value:columnIndex,onChange:function onChange(e){return setColumnIndex(Number(e.target.value))}}))),react.createElement("button",{style:{padding:"5px 10px",background:"none",marginTop:15},onClick:function onClick(){return colorPixels([{rowIndex,columnIndex,color:"red"}])}},"Color Pixel")),react.createElement("div",{style:{padding:"20px 0",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},react.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},react.createElement("div",{style:{margin:"0 10px"}},react.createElement("span",null,"Row Index: "),react.createElement("input",{style:{width:40,height:20},type:"number",value:rowIndex2,onChange:function onChange(e){return setRowIndex2(Number(e.target.value))}})),react.createElement("div",{style:{margin:"0 10px"}},react.createElement("span",null,"Column Index: "),react.createElement("input",{style:{width:40,height:20},type:"number",value:columnIndex2,onChange:function onChange(e){return setColumnIndex2(Number(e.target.value))}}))),react.createElement("button",{style:{padding:"5px 10px",background:"none",marginTop:15,marginBottom:30},onClick:function onClick(){return erasePixels([{rowIndex:rowIndex2,columnIndex:columnIndex2}])}},"Erase Pixel"))))};const useDottingComponents_DownloadImage=function DownloadImage(){var ref=(0,react.useRef)(),downloadImage=hooks_useDotting(ref).downloadImage;return react.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"}},react.createElement(Dotting.Z,{ref,width:"100%",height:300}),react.createElement("button",{style:{padding:"5px 10px",background:"none",marginTop:10,marginBottom:50},onClick:function onClick(){return downloadImage()}},"Download"))};const useDottingComponents_SetIndicatorPixels=function SetIndicatorPixels(){var ref=(0,react.useRef)(),setIndicatorPixels=hooks_useDotting(ref).setIndicatorPixels,_React$useState=react.useState(!1),_React$useState2=(0,slicedToArray.Z)(_React$useState,2),areIndicatorsShown=_React$useState2[0],setAreIndicatorsShown=_React$useState2[1],showIndicators=(0,react.useCallback)((function(){setIndicatorPixels([{rowIndex:0,columnIndex:0,color:"#ff0000"},{rowIndex:1,columnIndex:1,color:"#ff0000"}])}),[setIndicatorPixels,setAreIndicatorsShown]),hideIndicators=(0,react.useCallback)((function(){setIndicatorPixels([])}),[setIndicatorPixels,setAreIndicatorsShown]);return react.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",fontFamily:"'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"}},react.createElement(Dotting.Z,{ref,width:"100%",height:300}),react.createElement("div",null,react.createElement("div",{style:{padding:"20px 0",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},react.createElement("button",{style:{padding:"5px 10px",background:"none",marginTop:15,marginBottom:30},onClick:function onClick(){areIndicatorsShown?(setAreIndicatorsShown(!1),hideIndicators()):(setAreIndicatorsShown(!0),showIndicators())}},areIndicatorsShown?"Hide Indicators":"Show Indicators"))))}},"./storybook-init-framework-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},"./stories/Hooks.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,__page:()=>__page,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_useDottingComponents__WEBPACK_IMPORTED_MODULE_14__=(__webpack_require__("./stories/assets/code-brackets.svg"),__webpack_require__("./stories/assets/colors.svg"),__webpack_require__("./stories/assets/comments.svg"),__webpack_require__("./stories/assets/direction.svg"),__webpack_require__("./stories/assets/flow.svg"),__webpack_require__("./stories/assets/plugin.svg"),__webpack_require__("./stories/assets/repo.svg"),__webpack_require__("./stories/assets/stackalt.svg"),__webpack_require__("./src/components/Dotting.tsx"),__webpack_require__("./stories/useDottingComponents/index.ts"));function _createMdxContent(props){var _components=Object.assign({h1:"h1",h4:"h4",p:"p",code:"code",pre:"pre"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.ah)(),props.components);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__.h_,{title:"Hooks/Setup"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("style",{children:"\n  .subheading {\n    --mediumdark: '#999999';\n    font-weight: 900;\n    font-size: 13px;\n    color: #999;\n    letter-spacing: 6px;\n    line-height: 24px;\n    text-transform: uppercase;\n    margin-bottom: 12px;\n    margin-top: 40px;\n    font-family: 'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  }\n\n  .link-list {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: 1fr 1fr;\n    row-gap: 10px;\n  }\n\n  @media (min-width: 620px) {\n    .link-list {\n      row-gap: 20px;\n      column-gap: 20px;\n      grid-template-columns: 1fr 1fr;\n    }\n  }\n\n  @media all and (-ms-high-contrast:none) {\n  .link-list {\n      display: -ms-grid;\n      -ms-grid-columns: 1fr 1fr;\n      -ms-grid-rows: 1fr 1fr;\n    }\n  }\n\n  .link-item {\n    display: block;\n    padding: 20px 30px 20px 15px;\n    border: 1px solid #00000010;\n    border-radius: 5px;\n    transition: background 150ms ease-out, border 150ms ease-out, transform 150ms ease-out;\n    color: #333333;\n    display: flex;\n    align-items: flex-start;\n  }\n\n  .link-item:hover {\n    border-color: #1EA7FD50;\n    transform: translate3d(0, -3px, 0);\n    box-shadow: rgba(0, 0, 0, 0.08) 0 3px 10px 0;\n  }\n\n  .link-item:active {\n    border-color: #1EA7FD;\n    transform: translate3d(0, 0, 0);\n  }\n\n  .link-item strong {\n    font-weight: 700;\n    display: block;\n    margin-bottom: 2px;\n  }\n  \n  .link-item img {\n    height: 40px;\n    width: 40px;\n    margin-right: 15px;\n    flex: none;\n  }\n\n  .link-item span {\n    font-size: 14px;\n    line-height: 20px;\n  }\n\n  .tip {\n    display: inline-block;\n    border-radius: 1em;\n    font-size: 11px;\n    line-height: 12px;\n    font-weight: 700;\n    background: #E7FDD8;\n    color: #66BF3C;\n    padding: 4px 12px;\n    margin-right: 10px;\n    vertical-align: top;\n  }\n\n  .tip-wrapper {\n    font-size: 13px;\n    line-height: 20px;\n    margin-top: 40px;\n    margin-bottom: 40px;\n  }\n\n  .tip-wrapper code {\n    font-size: 12px;\n    display: inline-block;\n  }\n"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.h1,{children:"Using hooks for interaction!"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.h4,{children:"How to setup hooks"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["To manipulate the Dotting component you should have a ref object attached to the Dotting Component.\nYou can use React's ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"useRef"})," to get the DottingRef refobject of the Dotting Component.\nAfter the ref object is set, you can use the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"useDotting"})," or ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"useBrush"})," hook and pass the ref as its parameter."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["Below is the example setup for using the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"useDotting"})," hook.\nThe example below shows how you can clear the canvas."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.h4,{children:"Setup Example (Clearing the Canvas)"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{className:"language-ts",children:'export const Component = () => {\n  const ref = useRef<DottingRef>();\n  const { clear } = useDotting(ref);\n  return (\n    <div>\n      <Dotting ref={ref} width={"100%"} height={300} />\n      <button onClick={clear}>Clear Canvas</button>\n    </div>\n  );\n};\n'})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_useDottingComponents__WEBPACK_IMPORTED_MODULE_14__.UZ,{})]})}function MDXContent(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},MDXLayout=Object.assign({},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.ah)(),props.components).wrapper;return MDXLayout?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(MDXLayout,Object.assign({},props,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_createMdxContent,props)})):_createMdxContent(props)}var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Hooks/Setup",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},react__WEBPACK_IMPORTED_MODULE_1__.createElement(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta;var __namedExportsOrder=["__page"]},"./stories/Introduction.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,__page:()=>__page,default:()=>Introduction_stories});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("./node_modules/react/index.js"),esm=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),dist_esm=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),stackalt=(__webpack_require__("./stories/assets/code-brackets.svg"),__webpack_require__("./stories/assets/colors.svg"),__webpack_require__("./stories/assets/comments.svg"),__webpack_require__("./stories/assets/direction.svg"),__webpack_require__("./stories/assets/flow.svg"),__webpack_require__("./stories/assets/plugin.svg"),__webpack_require__("./stories/assets/repo.svg"),__webpack_require__("./stories/assets/stackalt.svg")),Dotting=__webpack_require__("./src/components/Dotting.tsx");__webpack_require__("./stories/useBrushComponents/index.ts"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js");const custom_CustomExample=function CustomExample(){var ref=(0,react.useRef)(),changeBrushColor=(0,react.useCallback)((function(brushColor){var _ref$current;null===(_ref$current=ref.current)||void 0===_ref$current||_ref$current.changeBrushColor(brushColor)}),[ref]);return react.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"}},react.createElement(Dotting.Z,{ref,width:"100%",height:300}),react.createElement("div",null,["#FF0000","#0000FF","#00FF00","#FF00FF","#00FFFF","#FFFF00","#000000","#FFFFFF"].map((function(color){return react.createElement("div",{key:color,onClick:changeBrushColor.bind(null,color),style:{width:25,height:25,margin:10,border:"1px solid black",backgroundColor:color,display:"inline-block"}})}))))};function _createMdxContent(props){var _components=Object.assign({h1:"h1",h4:"h4",p:"p",strong:"strong",a:"a",pre:"pre",code:"code"},(0,dist_esm.ah)(),props.components);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(esm.h_,{title:"Introduction"}),"\n",(0,jsx_runtime.jsx)("style",{children:"\n  .subheading {\n    --mediumdark: '#999999';\n    font-weight: 900;\n    font-size: 13px;\n    color: #999;\n    letter-spacing: 6px;\n    line-height: 24px;\n    text-transform: uppercase;\n    margin-bottom: 12px;\n    margin-top: 40px;\n    font-family: 'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  }\n\n  .link-list {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: 1fr 1fr;\n    row-gap: 10px;\n  }\n\n  @media (min-width: 620px) {\n    .link-list {\n      row-gap: 20px;\n      column-gap: 20px;\n      grid-template-columns: 1fr 1fr;\n    }\n  }\n\n  @media all and (-ms-high-contrast:none) {\n  .link-list {\n      display: -ms-grid;\n      -ms-grid-columns: 1fr 1fr;\n      -ms-grid-rows: 1fr 1fr;\n    }\n  }\n\n  .link-item {\n    display: block;\n    padding: 20px 30px 20px 15px;\n    border: 1px solid #00000010;\n    border-radius: 5px;\n    transition: background 150ms ease-out, border 150ms ease-out, transform 150ms ease-out;\n    color: #333333;\n    display: flex;\n    align-items: flex-start;\n  }\n\n  .link-item:hover {\n    border-color: #1EA7FD50;\n    transform: translate3d(0, -3px, 0);\n    box-shadow: rgba(0, 0, 0, 0.08) 0 3px 10px 0;\n  }\n\n  .link-item:active {\n    border-color: #1EA7FD;\n    transform: translate3d(0, 0, 0);\n  }\n\n  .link-item strong {\n    font-weight: 700;\n    display: block;\n    margin-bottom: 2px;\n  }\n  \n  .link-item img {\n    height: 40px;\n    width: 40px;\n    margin-right: 15px;\n    flex: none;\n  }\n\n  .link-item span {\n    font-size: 14px;\n    line-height: 20px;\n  }\n\n  .tip {\n    display: inline-block;\n    border-radius: 1em;\n    font-size: 11px;\n    line-height: 12px;\n    font-weight: 700;\n    background: #E7FDD8;\n    color: #66BF3C;\n    padding: 4px 12px;\n    margin-right: 10px;\n    vertical-align: top;\n  }\n\n  .tip-wrapper {\n    font-size: 13px;\n    line-height: 20px;\n    margin-top: 40px;\n    margin-bottom: 40px;\n  }\n\n  .tip-wrapper code {\n    font-size: 12px;\n    display: inline-block;\n  }\n"}),"\n",(0,jsx_runtime.jsx)(_components.h1,{children:"Welcome to Dotting!"}),"\n",(0,jsx_runtime.jsx)(_components.h4,{children:"Finding a pixel art editor for your website? Look no further!"}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["Dotting is a pixel art drawing component for React for creators who want to implement a pixel canvas editor to their websites.\nDotting works for ",(0,jsx_runtime.jsx)(_components.strong,{children:"both PC and moible environments"}),". You can freely pan & zoom around the using your mouse or your fingers.\nThe canvas grid size is changeable. You can extend your canvas grid to any size by extending the grid from any edges. Make your websites interactive by adding a simple pixel art canvas editor to your website!"]}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["Dotting welcomes all contributions!\nIf you are interested in contributing, visit ",(0,jsx_runtime.jsx)(_components.a,{href:"https://github.com/hunkim98/dotting",children:(0,jsx_runtime.jsx)(_components.strong,{children:"Dotting Github"})})," to view the source code!"]}),"\n",(0,jsx_runtime.jsx)(custom_CustomExample,{}),"\n",(0,jsx_runtime.jsx)(_components.h1,{children:"Quick Start"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"Step 1. Install the package"}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-bash",children:"$ yarn add dotting\n"})}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"Step 2. Implement the component in your React project"}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-jsx",children:'import { Dotting } from "dotting";\n\nconst Clear = () => {\n  return (\n    <div>\n      <Dotting width={300} height={300} />\n    </div>\n  );\n};\n'})}),"\n",(0,jsx_runtime.jsx)("div",{className:"subheading",children:"Resources"}),"\n",(0,jsx_runtime.jsx)("div",{className:"link-list",children:(0,jsx_runtime.jsxs)("a",{className:"link-item",href:"https://github.com/hunkim98/dotting",target:"_blank",children:[(0,jsx_runtime.jsx)("img",{src:stackalt,alt:"Build"}),(0,jsx_runtime.jsx)("span",{children:(0,jsx_runtime.jsxs)(_components.p,{children:[(0,jsx_runtime.jsx)("strong",{children:"Github Source Code"}),"\nView the source code and contribute to the project!"]})})]})}),"\n",(0,jsx_runtime.jsx)("div",{className:"tip-wrapper"})]})}function MDXContent(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},MDXLayout=Object.assign({},(0,dist_esm.ah)(),props.components).wrapper;return MDXLayout?(0,jsx_runtime.jsx)(MDXLayout,Object.assign({},props,{children:(0,jsx_runtime.jsx)(_createMdxContent,props)})):_createMdxContent(props)}var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Introduction",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return react.createElement(esm.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},react.createElement(MDXContent,null))}});const Introduction_stories=componentMeta;var __namedExportsOrder=["__page"]},"./stories/useBrush.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,__page:()=>__page,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_assets_stackalt_svg__WEBPACK_IMPORTED_MODULE_12__=(__webpack_require__("./stories/assets/code-brackets.svg"),__webpack_require__("./stories/assets/colors.svg"),__webpack_require__("./stories/assets/comments.svg"),__webpack_require__("./stories/assets/direction.svg"),__webpack_require__("./stories/assets/flow.svg"),__webpack_require__("./stories/assets/plugin.svg"),__webpack_require__("./stories/assets/repo.svg"),__webpack_require__("./stories/assets/stackalt.svg")),_useBrushComponents__WEBPACK_IMPORTED_MODULE_14__=(__webpack_require__("./src/components/Dotting.tsx"),__webpack_require__("./stories/useBrushComponents/index.ts"));function _createMdxContent(props){var _components=Object.assign({h1:"h1",code:"code",p:"p",h4:"h4",pre:"pre",h3:"h3"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.ah)(),props.components);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__.h_,{title:"Hooks/useBrush"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("style",{children:'\n  .subheading {\n    --mediumdark: \'#999999\';\n    font-weight: 900;\n    font-size: 13px;\n    color: #999;\n    letter-spacing: 6px;\n    line-height: 24px;\n    text-transform: uppercase;\n    margin-bottom: 12px;\n    margin-top: 40px;\n    font-family: \'Nunito Sans\', \'Helvetica Neue\', Helvetica, Arial, sans-serif;\n  }\n\n  .link-list {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: 1fr 1fr;\n    row-gap: 10px;\n  }\n\n  @media (min-width: 620px) {\n    .link-list {\n      row-gap: 20px;\n      column-gap: 20px;\n      grid-template-columns: 1fr 1fr;\n    }\n  }\n\n  @media all and (-ms-high-contrast:none) {\n  .link-list {\n      display: -ms-grid;\n      -ms-grid-columns: 1fr 1fr;\n      -ms-grid-rows: 1fr 1fr;\n    }\n  }\n\n  .link-item {\n    display: block;\n    padding: 20px 30px 20px 15px;\n    border: 1px solid #00000010;\n    border-radius: 5px;\n    transition: background 150ms ease-out, border 150ms ease-out, transform 150ms ease-out;\n    color: #333333;\n    display: flex;\n    align-items: flex-start;\n  }\n\n  .link-item:hover {\n    border-color: #1EA7FD50;\n    transform: translate3d(0, -3px, 0);\n    box-shadow: rgba(0, 0, 0, 0.08) 0 3px 10px 0;\n  }\n\n  .link-item:active {\n    border-color: #1EA7FD;\n    transform: translate3d(0, 0, 0);\n  }\n\n  .link-item strong {\n    font-weight: 700;\n    display: block;\n    margin-bottom: 2px;\n  }\n  \n  .link-item img {\n    height: 40px;\n    width: 40px;\n    margin-right: 15px;\n    flex: none;\n  }\n\n  .link-item span {\n    font-size: 14px;\n    line-height: 20px;\n  }\n\n  .tip {\n    display: inline-block;\n    border-radius: 1em;\n    font-size: 11px;\n    line-height: 12px;\n    font-weight: 700;\n    background: #E7FDD8;\n    color: #66BF3C;\n    padding: 4px 12px;\n    margin-right: 10px;\n    vertical-align: top;\n  }\n\n  .tip-wrapper {\n    font-size: 13px;\n    line-height: 20px;\n    margin-top: 40px;\n    margin-bottom: 40px;\n  }\n\n  .tip-wrapper code {\n    font-size: 12px;\n    display: inline-block;\n  }\n  \ntable {\n  width: 100%;\n  border-collapse: collapse;\n  border: 1px solid #cccccc;\n  margin: 15px auto;\n  margin-bottom: 80px;\n  background: white;\n  color: #333333;\n  font-family: "Nunito Sans",-apple-system,".SFNSText-Regular","San Francisco",BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Helvetica,Arial,sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\nthead {\n  border-bottom: 1px solid #cccccc;\n}\n\ntable .css-1p8ieni {\n  margin: 0;\n}\n\nh4 {\n  margin-top: 15px;\n}\n\nth {\n  background: steelblue;\n  height: 54px;\n  width: 25%;\n  font-weight: lighter;\n  text-shadow: 0 1px 0 #38678f;\n  color: white;\n  border: 1px solid black;\n  box-shadow: inset 0px 1px 2px #cccccc;\n  transition: all 0.2s;\n}\ntr {\n  border-bottom: 1px solid #cccccc;\n}\ntr:last-child {\n  border-bottom: 0px;\n}\ntd {\n  border-right: 1px solid #cccccc;\n  padding: 10px;\n  transition: all 0.2s;\n  font-size: 14px;\n}\ntd:first-child {\n  font-size: 12px;\n  font-family: monospace\n\n}\ntd:last-child {\n  border-right: 0px;\n}\ntd.selected {\n  background: #d7e4ef;\n  z-index: ;\n}\ntd input {\n  font-size: 14px;\n  background: none;\n  outline: none;\n  border: 0;\n  display: table-cell;\n  height: 100%;\n  width: 100%;\n}\ntd input:focus {\n  box-shadow: 0 1px 0 steelblue;\n  color: steelblue;\n}\n::-moz-selection {\n  background: steelblue;\n  color: white;\n}\n::selection {\n  background: steelblue;\n  color: white;\n}\n'}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.h1,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"useBrush"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["With ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"useBrush"}),", you can change the brush color and mode."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.h4,{children:["Features provided by ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"useBrush"})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("table",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("thead",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("strong",{children:"Description"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("strong",{children:"Parameters"})})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tbody",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"changeBrushColor(color: string)"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:"Allows you to change the brush color"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"string"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"changeBrushMode(brushMode: BrushMode)"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("td",{children:["Allows you to change the brush mode to ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"DOT"})," or ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"ERASER"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("td",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.p,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"BrushMode"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{className:"language-ts",children:'export enum BrushMode {\n  DOT = "dot",\n  ERASER = "eraser",\n}\n'})})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"brushMode"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("td",{children:["Allows you to know the current brush mode. Variable type is ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"BrushMode"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"brushColor"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("td",{children:["Allows you to know the current brush color. Variable type is ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"string"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{})]})]})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.h3,{children:"Examples"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.h4,{children:["1. Change Brush Color Example ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"changeBrushColor(color: string)"})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["With ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"changeBrushColor"})," method, you can change the color of the brush."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_useBrushComponents__WEBPACK_IMPORTED_MODULE_14__.t,{}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.h4,{children:["2. Change Brush Mode Example ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"changeBrushMode(mode: string)"})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_useBrushComponents__WEBPACK_IMPORTED_MODULE_14__.H,{}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"subheading",children:"Example Source Codes"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"link-list",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("a",{className:"link-item",href:"https://github.com/hunkim98/dotting/tree/main/stories/useBrushComponents",target:"_blank",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("img",{src:_assets_stackalt_svg__WEBPACK_IMPORTED_MODULE_12__,alt:"Build"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("strong",{children:"Github Source Code"}),"\nView the source code and contribute to the project!"]})})]})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"tip-wrapper"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{})})]})}function MDXContent(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},MDXLayout=Object.assign({},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.ah)(),props.components).wrapper;return MDXLayout?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(MDXLayout,Object.assign({},props,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_createMdxContent,props)})):_createMdxContent(props)}var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Hooks/useBrush",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},react__WEBPACK_IMPORTED_MODULE_1__.createElement(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta;var __namedExportsOrder=["__page"]},"./stories/useData.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,__page:()=>__page,default:()=>useData_stories});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("./node_modules/react/index.js"),esm=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),dist_esm=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),stackalt=(__webpack_require__("./stories/assets/code-brackets.svg"),__webpack_require__("./stories/assets/colors.svg"),__webpack_require__("./stories/assets/comments.svg"),__webpack_require__("./stories/assets/direction.svg"),__webpack_require__("./stories/assets/flow.svg"),__webpack_require__("./stories/assets/plugin.svg"),__webpack_require__("./stories/assets/repo.svg"),__webpack_require__("./stories/assets/stackalt.svg")),Dotting=__webpack_require__("./src/components/Dotting.tsx"),slicedToArray=(__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js")),useBrush=__webpack_require__("./src/hooks/useBrush.ts"),useHandlers=__webpack_require__("./src/hooks/useHandlers.ts");const hooks_useData=function useData(ref){var _useHandlers=(0,useHandlers.Z)(ref),addDataChangeListener=_useHandlers.addDataChangeListener,removeDataChangeListener=_useHandlers.removeDataChangeListener,_useState=(0,react.useState)(new Map),_useState2=(0,slicedToArray.Z)(_useState,2),data=_useState2[0],setData=_useState2[1],_useState3=(0,react.useState)([]),_useState4=(0,slicedToArray.Z)(_useState3,2),dataArray=_useState4[0],setDataArray=_useState4[1];return(0,react.useEffect)((function(){var listener=function listener(canvasData){setData(canvasData);for(var allRowKeys=Array.from(canvasData.keys()),allColumnKeys=Array.from(canvasData.get(allRowKeys[0]).keys()),currentTopIndex=Math.min.apply(Math,allRowKeys),currentLeftIndex=Math.min.apply(Math,allColumnKeys),currentBottomIndex=Math.max.apply(Math,allRowKeys),currentRightIndex=Math.max.apply(Math,allColumnKeys),tempArray=[],i=currentTopIndex;i<=currentBottomIndex;i++){for(var row=[],j=currentLeftIndex;j<=currentRightIndex;j++){var _canvasData$get,pixel=null===(_canvasData$get=canvasData.get(i))||void 0===_canvasData$get?void 0:_canvasData$get.get(j);pixel&&row.push({rowIndex:i,columnIndex:j,color:pixel.color})}tempArray.push(row)}setDataArray(tempArray)};return addDataChangeListener(listener),function(){removeDataChangeListener(listener)}}),[addDataChangeListener,removeDataChangeListener]),{data,dataArray}};const useDataComponents_DataInformation=function DataInformation(){var ref=(0,react.useRef)(),dataArray=hooks_useData(ref).dataArray,changeBrushColor=(0,useBrush.Z)(ref).changeBrushColor,_useState=(0,react.useState)(new Map),_useState2=(0,slicedToArray.Z)(_useState,2),groupData=_useState2[0],setGroupData=_useState2[1];(0,react.useEffect)((function(){var map=new Map;dataArray.forEach((function(row){row.forEach((function(pixel){pixel.color&&(map.has(pixel.color)?map.set(pixel.color,map.get(pixel.color)+1):map.set(pixel.color,1))}))})),setGroupData(map)}),[dataArray]);var entries=(0,react.useMemo)((function(){return Array.from(groupData.entries())}),[groupData]);return react.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",fontFamily:"'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"}},react.createElement(Dotting.Z,{ref,width:"100%",height:300}),react.createElement("div",null,["#FF0000","#0000FF","#00FF00","#FF00FF","#00FFFF","#FFFF00","#000000","#FFFFFF"].map((function(color){return react.createElement("div",{key:color,onClick:changeBrushColor.bind(null,color),style:{width:25,height:25,margin:10,border:"1px solid black",backgroundColor:color,display:"inline-block"}})}))),0===entries.length&&react.createElement("div",{style:{padding:10}},"Color some pixels to see color groups!"),react.createElement("div",null,entries.map((function(entry){return react.createElement("div",null,react.createElement("span",{style:{marginRight:10,color:entry[0]}},entry[0]),react.createElement("span",null,entry[1]))}))))};function _createMdxContent(props){var _components=Object.assign({h1:"h1",code:"code",p:"p",h4:"h4",pre:"pre",h3:"h3"},(0,dist_esm.ah)(),props.components);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(esm.h_,{title:"Hooks/useData"}),"\n",(0,jsx_runtime.jsx)("style",{children:'\n  .subheading {\n    --mediumdark: \'#999999\';\n    font-weight: 900;\n    font-size: 13px;\n    color: #999;\n    letter-spacing: 6px;\n    line-height: 24px;\n    text-transform: uppercase;\n    margin-bottom: 12px;\n    margin-top: 40px;\n    font-family: \'Nunito Sans\', \'Helvetica Neue\', Helvetica, Arial, sans-serif;\n  }\n\n  .link-list {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: 1fr 1fr;\n    row-gap: 10px;\n  }\n\n  @media (min-width: 620px) {\n    .link-list {\n      row-gap: 20px;\n      column-gap: 20px;\n      grid-template-columns: 1fr 1fr;\n    }\n  }\n\n  @media all and (-ms-high-contrast:none) {\n  .link-list {\n      display: -ms-grid;\n      -ms-grid-columns: 1fr 1fr;\n      -ms-grid-rows: 1fr 1fr;\n    }\n  }\n\n  .link-item {\n    display: block;\n    padding: 20px 30px 20px 15px;\n    border: 1px solid #00000010;\n    border-radius: 5px;\n    transition: background 150ms ease-out, border 150ms ease-out, transform 150ms ease-out;\n    color: #333333;\n    display: flex;\n    align-items: flex-start;\n  }\n\n  .link-item:hover {\n    border-color: #1EA7FD50;\n    transform: translate3d(0, -3px, 0);\n    box-shadow: rgba(0, 0, 0, 0.08) 0 3px 10px 0;\n  }\n\n  .link-item:active {\n    border-color: #1EA7FD;\n    transform: translate3d(0, 0, 0);\n  }\n\n  .link-item strong {\n    font-weight: 700;\n    display: block;\n    margin-bottom: 2px;\n  }\n  \n  .link-item img {\n    height: 40px;\n    width: 40px;\n    margin-right: 15px;\n    flex: none;\n  }\n\n  .link-item span {\n    font-size: 14px;\n    line-height: 20px;\n  }\n\n  .tip {\n    display: inline-block;\n    border-radius: 1em;\n    font-size: 11px;\n    line-height: 12px;\n    font-weight: 700;\n    background: #E7FDD8;\n    color: #66BF3C;\n    padding: 4px 12px;\n    margin-right: 10px;\n    vertical-align: top;\n  }\n\n  .tip-wrapper {\n    font-size: 13px;\n    line-height: 20px;\n    margin-top: 40px;\n    margin-bottom: 40px;\n  }\n\n  .tip-wrapper code {\n    font-size: 12px;\n    display: inline-block;\n  }\n  \ntable {\n  width: 100%;\n  border-collapse: collapse;\n  border: 1px solid #cccccc;\n  margin: 15px auto;\n  margin-bottom: 80px;\n  background: white;\n  color: #333333;\n  font-family: "Nunito Sans",-apple-system,".SFNSText-Regular","San Francisco",BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Helvetica,Arial,sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\nthead {\n  border-bottom: 1px solid #cccccc;\n}\n\ntable .css-1p8ieni {\n  margin: 0;\n}\n\nh4 {\n  margin-top: 15px;\n}\n\nth {\n  background: steelblue;\n  height: 54px;\n  width: 25%;\n  font-weight: lighter;\n  text-shadow: 0 1px 0 #38678f;\n  color: white;\n  border: 1px solid black;\n  box-shadow: inset 0px 1px 2px #cccccc;\n  transition: all 0.2s;\n}\ntr {\n  border-bottom: 1px solid #cccccc;\n}\ntr:last-child {\n  border-bottom: 0px;\n}\ntd {\n  border-right: 1px solid #cccccc;\n  padding: 10px;\n  transition: all 0.2s;\n  font-size: 14px;\n}\ntd:first-child {\n  font-size: 12px;\n  font-family: monospace\n\n}\ntd:last-child {\n  border-right: 0px;\n}\ntd.selected {\n  background: #d7e4ef;\n  z-index: ;\n}\ntd input {\n  font-size: 14px;\n  background: none;\n  outline: none;\n  border: 0;\n  display: table-cell;\n  height: 100%;\n  width: 100%;\n}\ntd input:focus {\n  box-shadow: 0 1px 0 steelblue;\n  color: steelblue;\n}\n::-moz-selection {\n  background: steelblue;\n  color: white;\n}\n::selection {\n  background: steelblue;\n  color: white;\n}\n'}),"\n",(0,jsx_runtime.jsx)(_components.h1,{children:(0,jsx_runtime.jsx)(_components.code,{children:"useData"})}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["With ",(0,jsx_runtime.jsx)(_components.code,{children:"useData"}),", you can get the current status of data"]}),"\n",(0,jsx_runtime.jsxs)(_components.h4,{children:["Features provided by ",(0,jsx_runtime.jsx)(_components.code,{children:"useData"})]}),"\n",(0,jsx_runtime.jsxs)("table",{children:[(0,jsx_runtime.jsx)("thead",{children:(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)("strong",{children:"Description"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)("strong",{children:"Parameters"})})]})}),(0,jsx_runtime.jsxs)("tbody",{children:[(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"data"})}),(0,jsx_runtime.jsxs)("td",{children:[(0,jsx_runtime.jsxs)(_components.p,{children:["Allows you to know the current pixel data. The variable type is ",(0,jsx_runtime.jsx)(_components.code,{children:"Map<number, Map<number, PixelData>>"})]}),(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-ts",children:"type PixelData = {\n  color: string;\n};\n"})})]}),(0,jsx_runtime.jsx)("td",{})]}),(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"dataArray"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsxs)(_components.p,{children:["Allows you to know the 2d array of the pixel data. If you are not fond with Maps, you may use this instead. The variable type is ",(0,jsx_runtime.jsx)(_components.code,{children:"<Array<Array<PixelModifyItem>>>"})]})}),(0,jsx_runtime.jsx)("td",{})]})]})]}),"\n",(0,jsx_runtime.jsx)(_components.h3,{children:"Examples"}),"\n",(0,jsx_runtime.jsxs)(_components.h4,{children:["1. Data Array Example ",(0,jsx_runtime.jsx)(_components.code,{children:"dataArray"})]}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["With ",(0,jsx_runtime.jsx)(_components.code,{children:"dataArray"})," method, you can check the current status of the canvas"]}),"\n",(0,jsx_runtime.jsx)(useDataComponents_DataInformation,{}),"\n",(0,jsx_runtime.jsx)("div",{className:"subheading",children:"Example Source Codes"}),"\n",(0,jsx_runtime.jsx)("div",{className:"link-list",children:(0,jsx_runtime.jsxs)("a",{className:"link-item",href:"https://github.com/hunkim98/dotting/tree/main/stories/useDataComponents",target:"_blank",children:[(0,jsx_runtime.jsx)("img",{src:stackalt,alt:"Build"}),(0,jsx_runtime.jsx)("span",{children:(0,jsx_runtime.jsxs)(_components.p,{children:[(0,jsx_runtime.jsx)("strong",{children:"Github Source Code"}),"\nView the source code and contribute to the project!"]})})]})}),"\n",(0,jsx_runtime.jsx)("div",{className:"tip-wrapper"}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{})})]})}function MDXContent(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},MDXLayout=Object.assign({},(0,dist_esm.ah)(),props.components).wrapper;return MDXLayout?(0,jsx_runtime.jsx)(MDXLayout,Object.assign({},props,{children:(0,jsx_runtime.jsx)(_createMdxContent,props)})):_createMdxContent(props)}var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Hooks/useData",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return react.createElement(esm.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},react.createElement(MDXContent,null))}});const useData_stories=componentMeta;var __namedExportsOrder=["__page"]},"./stories/useDotting.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,__page:()=>__page,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_assets_stackalt_svg__WEBPACK_IMPORTED_MODULE_12__=(__webpack_require__("./stories/assets/code-brackets.svg"),__webpack_require__("./stories/assets/colors.svg"),__webpack_require__("./stories/assets/comments.svg"),__webpack_require__("./stories/assets/direction.svg"),__webpack_require__("./stories/assets/flow.svg"),__webpack_require__("./stories/assets/plugin.svg"),__webpack_require__("./stories/assets/repo.svg"),__webpack_require__("./stories/assets/stackalt.svg")),_useDottingComponents__WEBPACK_IMPORTED_MODULE_14__=(__webpack_require__("./src/components/Dotting.tsx"),__webpack_require__("./stories/useDottingComponents/index.ts"));function _createMdxContent(props){var _components=Object.assign({h1:"h1",code:"code",p:"p",h4:"h4",pre:"pre",h3:"h3"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.ah)(),props.components);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__.h_,{title:"Hooks/useDotting"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("style",{children:'\n  .subheading {\n    --mediumdark: \'#999999\';\n    font-weight: 900;\n    font-size: 13px;\n    color: #999;\n    letter-spacing: 6px;\n    line-height: 24px;\n    text-transform: uppercase;\n    margin-bottom: 12px;\n    margin-top: 40px;\n    font-family: \'Nunito Sans\', \'Helvetica Neue\', Helvetica, Arial, sans-serif;\n  }\n\n  .link-list {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: 1fr 1fr;\n    row-gap: 10px;\n  }\n\n  @media (min-width: 620px) {\n    .link-list {\n      row-gap: 20px;\n      column-gap: 20px;\n      grid-template-columns: 1fr 1fr;\n    }\n  }\n\n  @media all and (-ms-high-contrast:none) {\n  .link-list {\n      display: -ms-grid;\n      -ms-grid-columns: 1fr 1fr;\n      -ms-grid-rows: 1fr 1fr;\n    }\n  }\n\n  .link-item {\n    display: block;\n    padding: 20px 30px 20px 15px;\n    border: 1px solid #00000010;\n    border-radius: 5px;\n    transition: background 150ms ease-out, border 150ms ease-out, transform 150ms ease-out;\n    color: #333333;\n    display: flex;\n    align-items: flex-start;\n  }\n\n  .link-item:hover {\n    border-color: #1EA7FD50;\n    transform: translate3d(0, -3px, 0);\n    box-shadow: rgba(0, 0, 0, 0.08) 0 3px 10px 0;\n  }\n\n  .link-item:active {\n    border-color: #1EA7FD;\n    transform: translate3d(0, 0, 0);\n  }\n\n  .link-item strong {\n    font-weight: 700;\n    display: block;\n    margin-bottom: 2px;\n  }\n  \n  .link-item img {\n    height: 40px;\n    width: 40px;\n    margin-right: 15px;\n    flex: none;\n  }\n\n  .link-item span {\n    font-size: 14px;\n    line-height: 20px;\n  }\n\n  .tip {\n    display: inline-block;\n    border-radius: 1em;\n    font-size: 11px;\n    line-height: 12px;\n    font-weight: 700;\n    background: #E7FDD8;\n    color: #66BF3C;\n    padding: 4px 12px;\n    margin-right: 10px;\n    vertical-align: top;\n  }\n\n  .tip-wrapper {\n    font-size: 13px;\n    line-height: 20px;\n    margin-top: 40px;\n    margin-bottom: 40px;\n  }\n\n  .tip-wrapper code {\n    font-size: 12px;\n    display: inline-block;\n  }\n  \ntable {\n  width: 100%;\n  border-collapse: collapse;\n  border: 1px solid #cccccc;\n  margin: 15px auto;\n  margin-bottom: 80px;\n  background: white;\n  color: #333333;\n  font-family: "Nunito Sans",-apple-system,".SFNSText-Regular","San Francisco",BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Helvetica,Arial,sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\nthead {\n  border-bottom: 1px solid #cccccc;\n}\n\ntable .css-1p8ieni {\n  margin: 0;\n}\n\nh4 {\n  margin-top: 15px;\n}\n\nth {\n  background: steelblue;\n  height: 54px;\n  width: 25%;\n  font-weight: lighter;\n  text-shadow: 0 1px 0 #38678f;\n  color: white;\n  border: 1px solid black;\n  box-shadow: inset 0px 1px 2px #cccccc;\n  transition: all 0.2s;\n}\ntr {\n  border-bottom: 1px solid #cccccc;\n}\ntr:last-child {\n  border-bottom: 0px;\n}\ntd {\n  border-right: 1px solid #cccccc;\n  padding: 10px;\n  transition: all 0.2s;\n  font-size: 14px;\n}\ntd:first-child {\n  font-size: 12px;\n  font-family: monospace\n\n}\ntd:last-child {\n  border-right: 0px;\n}\ntd.selected {\n  background: #d7e4ef;\n  z-index: ;\n}\ntd input {\n  font-size: 14px;\n  background: none;\n  outline: none;\n  border: 0;\n  display: table-cell;\n  height: 100%;\n  width: 100%;\n}\ntd input:focus {\n  box-shadow: 0 1px 0 steelblue;\n  color: steelblue;\n}\n::-moz-selection {\n  background: steelblue;\n  color: white;\n}\n::selection {\n  background: steelblue;\n  color: white;\n}\n'}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.h1,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"useDotting"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["With ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"useDotting"}),", you can manipulate the grids."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.h4,{children:["Features provided by ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"useDotting"})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("table",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("thead",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("strong",{children:"Description"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("strong",{children:"Parameters"})})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tbody",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"downloadImage(options?: ImageDownloadOptions)"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:"Allows you to download the pixel image"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("td",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.p,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"ImageDownloadOptions"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{className:"language-ts",children:"export interface ImageDownloadOptions {\n  isGridVisible?: boolean;\n}\n"})})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"clear()"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:"Allows you to clear the canvas"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"colorPixels(data: Array<PixelModifyItem>)"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.p,{children:"Allows you to color pixels on specific indices. If the index provided is\nnot in the grid, the grid first extends its grid and then colors it"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("td",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"Array<PixelModifyItem>"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"PixelModifyItem"})," is defined as follows:"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{className:"language-ts",children:"export interface PixelModifyItem {\n  rowIndex: number;\n  columnIndex: number;\n  color: string;\n}\n"})})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"erasePixels(data: Array<{rowIndex: number; columnIndex: number}>)"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.p,{children:"Allows you to erase pixels on specific indices. If the index provided is\nnot in the grid, that data is ignored"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"Array<{rowIndex: number; columnIndex: number}>"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"setIndicatorPixels(indicators: Array<PixelModifyItem>)"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.p,{children:"Allows you to set the indicator pixels. If the index provided is not in\nthe grid, that data is ignored"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("td",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"Array<PixelModifyItem>"})})]})]})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.h3,{children:"Examples"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.h4,{children:["1. Download Image Example ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"downloadImage()"})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["With ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"downloadImage"})," method, you can download the image of the grid."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_useDottingComponents__WEBPACK_IMPORTED_MODULE_14__.sQ,{}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.h4,{children:["2. Change Pixel Color Example ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"colorPixels(data: PixelModifyData)"}),", ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"erasePixels(data: Array<{rowIndex: number; columnIndex: number}>)"})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["With ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"colorPixels"})," method, you can change the color of specific pixels.\nThe ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"PixelModifyData"})," type is defined as follows:"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{className:"language-ts",children:"export type PixelModifyData = Array<PixelModifyItem>;\n\nexport interface PixelModifyItem {\n  rowIndex: number;\n  columnIndex: number;\n  color: string;\n}\n"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["By passing an array of ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"PixelModifyItem"})," you are able to color the pixels.\nIf the rowIndex and columnIndex of the pixel is not in the grid, the grid\nfirst extends its grid and then colors it."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["You can also erase pixels using ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"erasePixels"})," method. The ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"erasePixels"})," method\ntakes an array of ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"{rowIndex: number; columnIndex: number}"})," as a parameter. If the rowIndex and\ncolumnIndex of the pixel is not in the grid, that data is ignored."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_useDottingComponents__WEBPACK_IMPORTED_MODULE_14__.aF,{}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.h4,{children:["3. Clear Example ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"clear()"})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["With ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"clear"})," method, you can clear all the pixels in the grid."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_useDottingComponents__WEBPACK_IMPORTED_MODULE_14__.UZ,{}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.h4,{children:["4. Set Indicator Pixels ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"setIndicatorPixels(data: Array<PixelModifyItem>)"})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["With ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"setIndicatorPixels"})," method, you can set the indicator pixels. The indicator pixels are\nthe pixels that are shwon as indicators in the grid. Their opacity is lower than the real pixel data.\nThey do not affect the data of the grid."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:["By the way, if you want to initially have the indicator pixels before the canvas mounts,\nyou need to pass the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"initIndicatorData"})," prop to the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"Dotting"})," component.\nThe data type of the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"initIndicatorData"})," is the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{children:"Array<PixelModifyItem>"}),"."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_useDottingComponents__WEBPACK_IMPORTED_MODULE_14__.Z_,{}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"subheading",children:"Example Source Codes"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"link-list",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("a",{className:"link-item",href:"https://github.com/hunkim98/dotting/tree/main/stories/useDottingComponents",target:"_blank",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("img",{src:_assets_stackalt_svg__WEBPACK_IMPORTED_MODULE_12__,alt:"Build"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_components.p,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("strong",{children:"Github Source Code"}),"\nView the source code and contribute to the project!"]})})]})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"tip-wrapper"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components.code,{})})]})}function MDXContent(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},MDXLayout=Object.assign({},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.ah)(),props.components).wrapper;return MDXLayout?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(MDXLayout,Object.assign({},props,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_createMdxContent,props)})):_createMdxContent(props)}var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Hooks/useDotting",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},react__WEBPACK_IMPORTED_MODULE_1__.createElement(MDXContent,null))}});const __WEBPACK_DEFAULT_EXPORT__=componentMeta;var __namedExportsOrder=["__page"]},"./stories/useGrids.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,__page:()=>__page,default:()=>useGrids_stories});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("./node_modules/react/index.js"),esm=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),dist_esm=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),stackalt=(__webpack_require__("./stories/assets/code-brackets.svg"),__webpack_require__("./stories/assets/colors.svg"),__webpack_require__("./stories/assets/comments.svg"),__webpack_require__("./stories/assets/direction.svg"),__webpack_require__("./stories/assets/flow.svg"),__webpack_require__("./stories/assets/plugin.svg"),__webpack_require__("./stories/assets/repo.svg"),__webpack_require__("./stories/assets/stackalt.svg")),Dotting=__webpack_require__("./src/components/Dotting.tsx"),slicedToArray=(__webpack_require__("./stories/useBrushComponents/index.ts"),__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js")),useHandlers=__webpack_require__("./src/hooks/useHandlers.ts");const hooks_useGrids=function useGrids(ref){var _useHandlers=(0,useHandlers.Z)(ref),addGridChangeListener=_useHandlers.addGridChangeListener,removeGridChangeListener=_useHandlers.removeGridChangeListener,_useState=(0,react.useState)({columnCount:0,rowCount:0}),_useState2=(0,slicedToArray.Z)(_useState,2),dimensions=_useState2[0],setDimensions=_useState2[1],_useState3=(0,react.useState)({topRowIndex:0,bottomRowIndex:0,leftColumnIndex:0,rightColumnIndex:0}),_useState4=(0,slicedToArray.Z)(_useState3,2),indices=_useState4[0],setIndices=_useState4[1];return(0,react.useEffect)((function(){var listener=function listener(dimensions,indices){setDimensions({columnCount:dimensions.columnCount,rowCount:dimensions.rowCount}),setIndices({topRowIndex:indices.topRowIndex,bottomRowIndex:indices.bottomRowIndex,leftColumnIndex:indices.leftColumnIndex,rightColumnIndex:indices.rightColumnIndex})};return addGridChangeListener(listener),function(){removeGridChangeListener(listener)}}),[addGridChangeListener,removeGridChangeListener]),{dimensions,indices}};const useGridComponents_GridInformation=function GridInformation(){var ref=(0,react.useRef)(),_useGrids=hooks_useGrids(ref),dimensions=_useGrids.dimensions,indices=_useGrids.indices;return react.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",fontFamily:"'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"}},react.createElement(Dotting.Z,{ref,width:"100%",height:300}),react.createElement("div",null,"column count: ",dimensions.columnCount),react.createElement("div",null,"row count: ",dimensions.rowCount),react.createElement("div",null,"top row index: ",indices.topRowIndex),react.createElement("div",null,"left column index: ",indices.leftColumnIndex),react.createElement("div",null,"bottom row index: ",indices.bottomRowIndex),react.createElement("div",null,"right column index: ",indices.rightColumnIndex))};function _createMdxContent(props){var _components=Object.assign({h1:"h1",code:"code",p:"p",h4:"h4",h3:"h3",pre:"pre"},(0,dist_esm.ah)(),props.components);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(esm.h_,{title:"Hooks/useGrids"}),"\n",(0,jsx_runtime.jsx)("style",{children:'\n  .subheading {\n    --mediumdark: \'#999999\';\n    font-weight: 900;\n    font-size: 13px;\n    color: #999;\n    letter-spacing: 6px;\n    line-height: 24px;\n    text-transform: uppercase;\n    margin-bottom: 12px;\n    margin-top: 40px;\n    font-family: \'Nunito Sans\', \'Helvetica Neue\', Helvetica, Arial, sans-serif;\n  }\n\n  .link-list {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: 1fr 1fr;\n    row-gap: 10px;\n  }\n\n  @media (min-width: 620px) {\n    .link-list {\n      row-gap: 20px;\n      column-gap: 20px;\n      grid-template-columns: 1fr 1fr;\n    }\n  }\n\n  @media all and (-ms-high-contrast:none) {\n  .link-list {\n      display: -ms-grid;\n      -ms-grid-columns: 1fr 1fr;\n      -ms-grid-rows: 1fr 1fr;\n    }\n  }\n\n  .link-item {\n    display: block;\n    padding: 20px 30px 20px 15px;\n    border: 1px solid #00000010;\n    border-radius: 5px;\n    transition: background 150ms ease-out, border 150ms ease-out, transform 150ms ease-out;\n    color: #333333;\n    display: flex;\n    align-items: flex-start;\n  }\n\n  .link-item:hover {\n    border-color: #1EA7FD50;\n    transform: translate3d(0, -3px, 0);\n    box-shadow: rgba(0, 0, 0, 0.08) 0 3px 10px 0;\n  }\n\n  .link-item:active {\n    border-color: #1EA7FD;\n    transform: translate3d(0, 0, 0);\n  }\n\n  .link-item strong {\n    font-weight: 700;\n    display: block;\n    margin-bottom: 2px;\n  }\n  \n  .link-item img {\n    height: 40px;\n    width: 40px;\n    margin-right: 15px;\n    flex: none;\n  }\n\n  .link-item span {\n    font-size: 14px;\n    line-height: 20px;\n  }\n\n  .tip {\n    display: inline-block;\n    border-radius: 1em;\n    font-size: 11px;\n    line-height: 12px;\n    font-weight: 700;\n    background: #E7FDD8;\n    color: #66BF3C;\n    padding: 4px 12px;\n    margin-right: 10px;\n    vertical-align: top;\n  }\n\n  .tip-wrapper {\n    font-size: 13px;\n    line-height: 20px;\n    margin-top: 40px;\n    margin-bottom: 40px;\n  }\n\n  .tip-wrapper code {\n    font-size: 12px;\n    display: inline-block;\n  }\n  \ntable {\n  width: 100%;\n  border-collapse: collapse;\n  border: 1px solid #cccccc;\n  margin: 15px auto;\n  margin-bottom: 80px;\n  background: white;\n  color: #333333;\n  font-family: "Nunito Sans",-apple-system,".SFNSText-Regular","San Francisco",BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Helvetica,Arial,sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\nthead {\n  border-bottom: 1px solid #cccccc;\n}\n\ntable .css-1p8ieni {\n  margin: 0;\n}\n\nh4 {\n  margin-top: 15px;\n}\n\nth {\n  background: steelblue;\n  height: 54px;\n  width: 25%;\n  font-weight: lighter;\n  text-shadow: 0 1px 0 #38678f;\n  color: white;\n  border: 1px solid black;\n  box-shadow: inset 0px 1px 2px #cccccc;\n  transition: all 0.2s;\n}\ntr {\n  border-bottom: 1px solid #cccccc;\n}\ntr:last-child {\n  border-bottom: 0px;\n}\ntd {\n  border-right: 1px solid #cccccc;\n  padding: 10px;\n  transition: all 0.2s;\n  font-size: 14px;\n}\ntd:first-child {\n  font-size: 12px;\n  font-family: monospace\n\n}\ntd:last-child {\n  border-right: 0px;\n}\ntd.selected {\n  background: #d7e4ef;\n  z-index: ;\n}\ntd input {\n  font-size: 14px;\n  background: none;\n  outline: none;\n  border: 0;\n  display: table-cell;\n  height: 100%;\n  width: 100%;\n}\ntd input:focus {\n  box-shadow: 0 1px 0 steelblue;\n  color: steelblue;\n}\n::-moz-selection {\n  background: steelblue;\n  color: white;\n}\n::selection {\n  background: steelblue;\n  color: white;\n}\n'}),"\n",(0,jsx_runtime.jsx)(_components.h1,{children:(0,jsx_runtime.jsx)(_components.code,{children:"useGrids"})}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["With ",(0,jsx_runtime.jsx)(_components.code,{children:"useGrids"}),", you can get information about the the canvas columns and rows.\nYou also get information about the indices of the top row, left column, bottom row, and the right column."]}),"\n",(0,jsx_runtime.jsxs)(_components.h4,{children:["Features provided by ",(0,jsx_runtime.jsx)(_components.code,{children:"useGrids"})]}),"\n",(0,jsx_runtime.jsxs)("table",{children:[(0,jsx_runtime.jsx)("thead",{children:(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)("strong",{children:"Description"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)("strong",{children:"Parameters"})})]})}),(0,jsx_runtime.jsxs)("tbody",{children:[(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"dimensions"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsxs)(_components.p,{children:["Allows you to know the ",(0,jsx_runtime.jsx)(_components.code,{children:"columnCount"})," and ",(0,jsx_runtime.jsx)(_components.code,{children:"rowCount"})," of the current grid"]})}),(0,jsx_runtime.jsx)("td",{})]}),(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"indices"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsxs)(_components.p,{children:["Allows you to know the ",(0,jsx_runtime.jsx)(_components.code,{children:"topRowIndex"}),", ",(0,jsx_runtime.jsx)(_components.code,{children:"bottomRowIndex"}),",\n",(0,jsx_runtime.jsx)(_components.code,{children:"leftColumnIndex"}),", and ",(0,jsx_runtime.jsx)(_components.code,{children:"rightColumnIndex"})," of the grids. This is useful\nwhen you want to implement ",(0,jsx_runtime.jsx)(_components.code,{children:"colorPixels"})," method provided by ",(0,jsx_runtime.jsx)(_components.code,{children:"useDotting"}),"\nhook."]})}),(0,jsx_runtime.jsx)("td",{})]})]})]}),"\n",(0,jsx_runtime.jsx)(_components.h3,{children:"Examples"}),"\n",(0,jsx_runtime.jsxs)(_components.h4,{children:["1. Grid Information Example ",(0,jsx_runtime.jsx)(_components.code,{children:"dimensions"}),", ",(0,jsx_runtime.jsx)(_components.code,{children:"indices"})]}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["With ",(0,jsx_runtime.jsx)(_components.code,{children:"dimensions"})," and ",(0,jsx_runtime.jsx)(_components.code,{children:"indices"}),", you can get the information about the current grid."]}),"\n",(0,jsx_runtime.jsx)(useGridComponents_GridInformation,{}),"\n",(0,jsx_runtime.jsx)("div",{className:"subheading",children:"Example Source Codes"}),"\n",(0,jsx_runtime.jsx)("div",{className:"link-list",children:(0,jsx_runtime.jsxs)("a",{className:"link-item",href:"https://github.com/hunkim98/dotting/tree/main/stories/useGridComponents",target:"_blank",children:[(0,jsx_runtime.jsx)("img",{src:stackalt,alt:"Build"}),(0,jsx_runtime.jsx)("span",{children:(0,jsx_runtime.jsxs)(_components.p,{children:[(0,jsx_runtime.jsx)("strong",{children:"Github Source Code"}),"\nView the source code and contribute to the project!"]})})]})}),"\n",(0,jsx_runtime.jsx)("div",{className:"tip-wrapper"}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{})})]})}function MDXContent(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},MDXLayout=Object.assign({},(0,dist_esm.ah)(),props.components).wrapper;return MDXLayout?(0,jsx_runtime.jsx)(MDXLayout,Object.assign({},props,{children:(0,jsx_runtime.jsx)(_createMdxContent,props)})):_createMdxContent(props)}var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Hooks/useGrids",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return react.createElement(esm.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},react.createElement(MDXContent,null))}});const useGrids_stories=componentMeta;var __namedExportsOrder=["__page"]},"./stories/useHandlers.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,__page:()=>__page,default:()=>useHandlers_stories});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("./node_modules/react/index.js"),esm=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),dist_esm=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),stackalt=(__webpack_require__("./stories/assets/code-brackets.svg"),__webpack_require__("./stories/assets/colors.svg"),__webpack_require__("./stories/assets/comments.svg"),__webpack_require__("./stories/assets/direction.svg"),__webpack_require__("./stories/assets/flow.svg"),__webpack_require__("./stories/assets/plugin.svg"),__webpack_require__("./stories/assets/repo.svg"),__webpack_require__("./stories/assets/stackalt.svg")),Dotting=__webpack_require__("./src/components/Dotting.tsx"),slicedToArray=(__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js")),useHandlers=__webpack_require__("./src/hooks/useHandlers.ts");const useHandlersComponent_StrokeListener=function StrokeListener(){var ref=(0,react.useRef)(),_useHandlers=(0,useHandlers.Z)(ref),addStrokeEndListener=_useHandlers.addStrokeEndListener,removeStrokeEndListener=_useHandlers.removeStrokeEndListener,_useState=(0,react.useState)([]),_useState2=(0,slicedToArray.Z)(_useState,2),strokedPixels=_useState2[0],setStrokedPixels=_useState2[1],handleStrokeEnd=function handleStrokeEnd(strokedPixels,data){setStrokedPixels(strokedPixels)};return(0,react.useEffect)((function(){return addStrokeEndListener(handleStrokeEnd),function(){removeStrokeEndListener(handleStrokeEnd)}}),[]),react.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",fontFamily:"'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"}},react.createElement(Dotting.Z,{ref,width:"100%",height:300}),react.createElement("div",{style:{marginTop:25,display:"flex",alignItems:"center",flexDirection:"column"}},react.createElement("div",null,react.createElement("strong",null,"Stroked Pixels")),strokedPixels.map((function(item,index){return react.createElement("div",{key:index},"rowIndex: ",item.rowIndex,", columnIndex: ",item.columnIndex,", color:"," ",item.color)}))))};function _createMdxContent(props){var _components=Object.assign({h1:"h1",code:"code",p:"p",ul:"ul",li:"li",h4:"h4",pre:"pre",h3:"h3"},(0,dist_esm.ah)(),props.components);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(esm.h_,{title:"Hooks/useHandlers"}),"\n",(0,jsx_runtime.jsx)("style",{children:'\n  .subheading {\n    --mediumdark: \'#999999\';\n    font-weight: 900;\n    font-size: 13px;\n    color: #999;\n    letter-spacing: 6px;\n    line-height: 24px;\n    text-transform: uppercase;\n    margin-bottom: 12px;\n    margin-top: 40px;\n    font-family: \'Nunito Sans\', \'Helvetica Neue\', Helvetica, Arial, sans-serif;\n  }\n\n  .link-list {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: 1fr 1fr;\n    row-gap: 10px;\n  }\n\n  @media (min-width: 620px) {\n    .link-list {\n      row-gap: 20px;\n      column-gap: 20px;\n      grid-template-columns: 1fr 1fr;\n    }\n  }\n\n  @media all and (-ms-high-contrast:none) {\n  .link-list {\n      display: -ms-grid;\n      -ms-grid-columns: 1fr 1fr;\n      -ms-grid-rows: 1fr 1fr;\n    }\n  }\n\n  .link-item {\n    display: block;\n    padding: 20px 30px 20px 15px;\n    border: 1px solid #00000010;\n    border-radius: 5px;\n    transition: background 150ms ease-out, border 150ms ease-out, transform 150ms ease-out;\n    color: #333333;\n    display: flex;\n    align-items: flex-start;\n  }\n\n  .link-item:hover {\n    border-color: #1EA7FD50;\n    transform: translate3d(0, -3px, 0);\n    box-shadow: rgba(0, 0, 0, 0.08) 0 3px 10px 0;\n  }\n\n  .link-item:active {\n    border-color: #1EA7FD;\n    transform: translate3d(0, 0, 0);\n  }\n\n  .link-item strong {\n    font-weight: 700;\n    display: block;\n    margin-bottom: 2px;\n  }\n  \n  .link-item img {\n    height: 40px;\n    width: 40px;\n    margin-right: 15px;\n    flex: none;\n  }\n\n  .link-item span {\n    font-size: 14px;\n    line-height: 20px;\n  }\n\n  .tip {\n    display: inline-block;\n    border-radius: 1em;\n    font-size: 11px;\n    line-height: 12px;\n    font-weight: 700;\n    background: #E7FDD8;\n    color: #66BF3C;\n    padding: 4px 12px;\n    margin-right: 10px;\n    vertical-align: top;\n  }\n\n  .tip-wrapper {\n    font-size: 13px;\n    line-height: 20px;\n    margin-top: 40px;\n    margin-bottom: 40px;\n  }\n\n  .tip-wrapper code {\n    font-size: 12px;\n    display: inline-block;\n  }\n  \ntable {\n  width: 100%;\n  border-collapse: collapse;\n  border: 1px solid #cccccc;\n  margin: 15px auto;\n  margin-bottom: 80px;\n  background: white;\n  color: #333333;\n  font-family: "Nunito Sans",-apple-system,".SFNSText-Regular","San Francisco",BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Helvetica,Arial,sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\nthead {\n  border-bottom: 1px solid #cccccc;\n}\n\ntable .css-1p8ieni {\n  margin: 0;\n}\n\nh4 {\n  margin-top: 15px;\n}\n\nth {\n  background: steelblue;\n  height: 54px;\n  width: 25%;\n  font-weight: lighter;\n  text-shadow: 0 1px 0 #38678f;\n  color: white;\n  border: 1px solid black;\n  box-shadow: inset 0px 1px 2px #cccccc;\n  transition: all 0.2s;\n}\ntr {\n  border-bottom: 1px solid #cccccc;\n}\ntr:last-child {\n  border-bottom: 0px;\n}\ntd {\n  border-right: 1px solid #cccccc;\n  padding: 10px;\n  transition: all 0.2s;\n  font-size: 14px;\n}\ntd:first-child {\n  font-size: 12px;\n  font-family: monospace\n\n}\ntd:last-child {\n  border-right: 0px;\n}\ntd.selected {\n  background: #d7e4ef;\n  z-index: ;\n}\ntd input {\n  font-size: 14px;\n  background: none;\n  outline: none;\n  border: 0;\n  display: table-cell;\n  height: 100%;\n  width: 100%;\n}\ntd input:focus {\n  box-shadow: 0 1px 0 steelblue;\n  color: steelblue;\n}\n::-moz-selection {\n  background: steelblue;\n  color: white;\n}\n::selection {\n  background: steelblue;\n  color: white;\n}\n'}),"\n",(0,jsx_runtime.jsx)(_components.h1,{children:(0,jsx_runtime.jsx)(_components.code,{children:"useHandlers"})}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["With ",(0,jsx_runtime.jsx)(_components.code,{children:"useHandlers"}),", you can add event listeners to the canvas.\nThe events that you can listen to are:"]}),"\n",(0,jsx_runtime.jsxs)(_components.ul,{children:["\n",(0,jsx_runtime.jsx)(_components.li,{children:(0,jsx_runtime.jsx)(_components.code,{children:"data change"})}),"\n",(0,jsx_runtime.jsx)(_components.li,{children:(0,jsx_runtime.jsx)(_components.code,{children:"grid change"})}),"\n",(0,jsx_runtime.jsx)(_components.li,{children:(0,jsx_runtime.jsx)(_components.code,{children:"stroke end"})}),"\n"]}),"\n",(0,jsx_runtime.jsxs)(_components.h4,{children:["Features provided by ",(0,jsx_runtime.jsx)(_components.code,{children:"useHandlers"})]}),"\n",(0,jsx_runtime.jsxs)("table",{children:[(0,jsx_runtime.jsx)("thead",{children:(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)("strong",{children:"Description"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)("strong",{children:"Parameters"})})]})}),(0,jsx_runtime.jsxs)("tbody",{children:[(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"addDataChangeListener(listener: CanvasDataChangeHandler)"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.p,{children:"Allows you to listen to data change events."})}),(0,jsx_runtime.jsxs)("td",{children:[(0,jsx_runtime.jsx)(_components.p,{children:(0,jsx_runtime.jsx)(_components.code,{children:"CanvasDataChangeHandler"})}),(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-ts",children:"export type CanvasDataChangeHandler = (data: DottingData) => void;\nexport type DottingData = Map<number, Map<number, PixelData>>;\nexport type PixelData = {\n    color: string;\n};\n"})})]})]}),(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"removeDataChangeListener(listener: CanvasDataChangeHandler)"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.p,{children:"Allows you the remove the attached listener to the data change event."})}),(0,jsx_runtime.jsx)("td",{})]}),(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"addGridChangeListener(listener: CanvasGridChangeHandler)"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.p,{children:"Allows you the listen to the grid change event."})}),(0,jsx_runtime.jsxs)("td",{children:[(0,jsx_runtime.jsx)(_components.p,{children:(0,jsx_runtime.jsx)(_components.code,{children:"CanvasGridChangeHandler"})}),(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-ts",children:"export type CanvasGridChangeHandler = (\n    dimensions: {\n        columnCount: number;\n        rowCount: number;\n    },\n    indices: {\n        topRowIndex: number;\n        bottomRowIndex: number;\n        leftColumnIndex: number;\n        rightColumnIndex: number;\n    }\n) => void;\n"})})]})]}),(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"removeGridChangeListener(listener: CanvasGridChangeHandler)"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.p,{children:"Allows you the remove the attached listener to the grid change event."})}),(0,jsx_runtime.jsx)("td",{})]}),(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"addBrushChangeListener(listener: CanvasBrushChangeHandler)"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.p,{children:"Allows you to listen to brush change events"})}),(0,jsx_runtime.jsxs)("td",{children:[(0,jsx_runtime.jsx)(_components.p,{children:(0,jsx_runtime.jsx)(_components.code,{children:"CanvasBrushChangeHandler"})}),(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-ts",children:'export type CanvasBrushChangeHandler = (\n    brushColor: string,\n    brushMode: BrushMode\n) => void;\nexport enum BrushMode {\n    DOT = "dot",\n    ERASER = "eraser",\n}\n'})})]})]}),(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"removeBrushChangeListener(listener: CanvasBrushChangeHandler)"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.p,{children:"Allows you the remove the attached listener to the brush change event."})}),(0,jsx_runtime.jsx)("td",{})]}),(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"addStrokeEndListener(listener: CanvasStrokeEndHandler)"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.p,{children:"Allows you the the attached listener to the grid change event."})}),(0,jsx_runtime.jsxs)("td",{children:[(0,jsx_runtime.jsx)(_components.p,{children:(0,jsx_runtime.jsx)(_components.code,{children:"CanvasStrokeEndHandler"})}),(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{className:"language-ts",children:"export type CanvasStrokeEndHandler = (\n    strokedPixels: Array<PixelModifyItem>,\n    data: DottingData\n) => void;\nexport interface PixelModifyItem {\n    rowIndex: number;\n    columnIndex: number;\n    color: string;\n}\nexport type DottingData = Map<number, Map<number, PixelData>>;\nexport type PixelData = {\n    color: string;\n};\n"})})]})]}),(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.code,{children:"removeStrokeEndListener(listener: CanvasStrokeEndHandler)"})}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(_components.p,{children:"Allows you the remove the attached listener to the brush change event."})}),(0,jsx_runtime.jsx)("td",{})]})]})]}),"\n",(0,jsx_runtime.jsx)(_components.h3,{children:"Examples"}),"\n",(0,jsx_runtime.jsxs)(_components.h4,{children:["1. Stroke end listener ",(0,jsx_runtime.jsx)(_components.code,{children:"addStrokeEndListener"}),", ",(0,jsx_runtime.jsx)(_components.code,{children:"removeStrokeEndListener"})]}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"With stroke end related listeners, you can observer the changes when the user ends the stroke."}),"\n",(0,jsx_runtime.jsx)(useHandlersComponent_StrokeListener,{}),"\n",(0,jsx_runtime.jsx)("div",{className:"subheading",children:"Example Source Codes"}),"\n",(0,jsx_runtime.jsx)("div",{className:"link-list",children:(0,jsx_runtime.jsxs)("a",{className:"link-item",href:"https://github.com/hunkim98/dotting/tree/main/stories/useHandlersComponent",target:"_blank",children:[(0,jsx_runtime.jsx)("img",{src:stackalt,alt:"Build"}),(0,jsx_runtime.jsx)("span",{children:(0,jsx_runtime.jsxs)(_components.p,{children:[(0,jsx_runtime.jsx)("strong",{children:"Github Source Code"}),"\nView the source code and contribute to the project!"]})})]})}),"\n",(0,jsx_runtime.jsx)("div",{className:"tip-wrapper"}),"\n",(0,jsx_runtime.jsx)(_components.pre,{children:(0,jsx_runtime.jsx)(_components.code,{})})]})}function MDXContent(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},MDXLayout=Object.assign({},(0,dist_esm.ah)(),props.components).wrapper;return MDXLayout?(0,jsx_runtime.jsx)(MDXLayout,Object.assign({},props,{children:(0,jsx_runtime.jsx)(_createMdxContent,props)})):_createMdxContent(props)}var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Hooks/useHandlers",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return react.createElement(esm.aT,{mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},react.createElement(MDXContent,null))}});const useHandlers_stories=componentMeta;var __namedExportsOrder=["__page"]},"./stories sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Ctsx%7Cmdx%7Cjsx))$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./Dotting.stories.tsx":"./stories/Dotting.stories.tsx","./Hooks.stories.mdx":"./stories/Hooks.stories.mdx","./Introduction.stories.mdx":"./stories/Introduction.stories.mdx","./useBrush.stories.mdx":"./stories/useBrush.stories.mdx","./useData.stories.mdx":"./stories/useData.stories.mdx","./useDotting.stories.mdx":"./stories/useDotting.stories.mdx","./useGrids.stories.mdx":"./stories/useGrids.stories.mdx","./useHandlers.stories.mdx":"./stories/useHandlers.stories.mdx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./stories sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Ctsx%7Cmdx%7Cjsx))$"},"./stories sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx\\))$":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./stories sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx\\))$",module.exports=webpackEmptyContext},"./stories/assets/code-brackets.svg":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__.p+"static/media/code-brackets.2e1112d7.svg"},"./stories/assets/colors.svg":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__.p+"static/media/colors.a4bd0486.svg"},"./stories/assets/comments.svg":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__.p+"static/media/comments.a3859089.svg"},"./stories/assets/direction.svg":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__.p+"static/media/direction.b770f9af.svg"},"./stories/assets/flow.svg":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__.p+"static/media/flow.edad2ac1.svg"},"./stories/assets/plugin.svg":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__.p+"static/media/plugin.d494b228.svg"},"./stories/assets/repo.svg":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__.p+"static/media/repo.6d496322.svg"},"./stories/assets/stackalt.svg":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__.p+"static/media/stackalt.dba9fbb3.svg"},"?4f7e":()=>{},"./generated-stories-entry.cjs":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./stories sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Ctsx%7Cmdx%7Cjsx))$"),__webpack_require__("./stories sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx\\))$")],module,!1)}},__webpack_require__=>{var __webpack_exec__=moduleId=>__webpack_require__(__webpack_require__.s=moduleId);__webpack_require__.O(0,[617],(()=>(__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_exec__("./storybook-init-framework-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_exec__("./.storybook/preview.js-generated-config-entry.js"),__webpack_exec__("./generated-stories-entry.cjs"))));__webpack_require__.O()}]);